
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../ug_eval_ofs_d5005/ug_eval_script_ofs_d5005/">
      
      
        <link rel="next" href="../../../../common/reference_manual/ofs_sw/mnl_sw_ofs/">
      
      <link rel="icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.9">
    
    
      
        <title>Getting Started - OFS</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.85bb2934.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../../../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#getting-started-guide-open-fpga-stack-for-intel-stratix-10" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="OFS" class="md-header__button md-logo" aria-label="OFS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OFS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Getting Started
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ofs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ofs
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../../.." class="md-tabs__link">
      Welcome
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../ug_eval_ofs_d5005/ug_eval_script_ofs_d5005/" class="md-tabs__link md-tabs__link--active">
        Stratix 10 PCIe Attach OFS
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../n6001/user_guides/ug_eval_ofs_n6001/ug_eval_script_ofs_n6001/" class="md-tabs__link">
        Agilex PCIe Attach OFS
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../f2000x/user_guides/ug_eval_ofs/ug_eval_script_ofs_f2000x/" class="md-tabs__link">
        Agilex SoC Attach OFS
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../common/user_guides/oneapi_asp/ug_oneapi_asp/" class="md-tabs__link">
        oneAPI
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../sw/fpga_api/quick_start/readme/" class="md-tabs__link">
        OFS Software
      </a>
    </li>
  

  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="OFS" class="md-nav__button md-logo" aria-label="OFS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    OFS
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ofs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ofs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Stratix 10 PCIe Attach OFS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Stratix 10 PCIe Attach OFS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ug_eval_ofs_d5005/ug_eval_script_ofs_d5005/" class="md-nav__link">
        Quick Start Evaluation Guide
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Getting Started
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#10-introduction" class="md-nav__link">
    1.0 Introduction
  </a>
  
    <nav class="md-nav" aria-label="1.0 Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-about-this-document" class="md-nav__link">
    1.1 About This Document
  </a>
  
    <nav class="md-nav" aria-label="1.1 About This Document">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-1-installing-the-opae-sdk" class="md-nav__link">
    Diagram 1: Installing the OPAE SDK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diagram-2-installing-the-linux-dfl-drivers" class="md-nav__link">
    Diagram 2: Installing the Linux DFL Drivers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diagram-3-bringing-up-the-intel-d5005" class="md-nav__link">
    Diagram 3: Bringing up the Intel D5005
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-terminology" class="md-nav__link">
    1.2 Terminology
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-introduction-to-ofs" class="md-nav__link">
    1.3 Introduction to OFS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-intended-audience" class="md-nav__link">
    1.4 Intended Audience
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-reference-documents" class="md-nav__link">
    1.5 Reference Documents
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-component-version-summary" class="md-nav__link">
    1.6 Component Version Summary
  </a>
  
    <nav class="md-nav" aria-label="1.6 Component Version Summary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-1-2-hardware-bkc" class="md-nav__link">
    Table 1-2: Hardware BKC
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-1-3-software-version-summary" class="md-nav__link">
    Table 1-3: Software Version Summary
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#20-ofs-stack-architecture-overview-for-reference-platform" class="md-nav__link">
    2.0 OFS Stack Architecture Overview for Reference Platform
  </a>
  
    <nav class="md-nav" aria-label="2.0 OFS Stack Architecture Overview for Reference Platform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-hardware-components" class="md-nav__link">
    2.1 Hardware Components
  </a>
  
    <nav class="md-nav" aria-label="2.1 Hardware Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#211-fpga-interface-manager" class="md-nav__link">
    2.1.1 FPGA Interface Manager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#212-afu" class="md-nav__link">
    2.1.2 AFU
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-ofs-software-overview" class="md-nav__link">
    2.2 OFS Software Overview
  </a>
  
    <nav class="md-nav" aria-label="2.2 OFS Software Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221-kernel-drivers-for-ofs" class="md-nav__link">
    2.2.1 Kernel Drivers for OFS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#30-intel-fpga-pac-d5005-card-and-server-requirements" class="md-nav__link">
    3.0 Intel FPGA PAC D5005 Card and Server Requirements
  </a>
  
    <nav class="md-nav" aria-label="3.0 Intel FPGA PAC D5005 Card and Server Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-supported-processors-for-intel-d5005" class="md-nav__link">
    3.1 Supported Processors for Intel D5005
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-cooling-requirements-for-the-intel-fpga-pac-d5005" class="md-nav__link">
    3.2 Cooling Requirements for the Intel FPGA PAC D5005
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#40-ofs-dfl-kernel-drivers" class="md-nav__link">
    4.0 OFS DFL Kernel Drivers
  </a>
  
    <nav class="md-nav" aria-label="4.0 OFS DFL Kernel Drivers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-ofs-dfl-kernel-driver-environment-setup" class="md-nav__link">
    4.1 OFS DFL Kernel Driver Environment Setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-building-and-installing-the-ofs-dfl-kernel-drivers-from-source" class="md-nav__link">
    4.2 Building and Installing the OFS DFL Kernel Drivers from Source
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#50-opae-software-development-kit" class="md-nav__link">
    5.0 OPAE Software Development Kit
  </a>
  
    <nav class="md-nav" aria-label="5.0 OPAE Software Development Kit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-opae-sdk-build-environment-setup" class="md-nav__link">
    5.1 OPAE SDK Build Environment Setup
  </a>
  
    <nav class="md-nav" aria-label="5.1 OPAE SDK Build Environment Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#511-building-and-installing-the-opae-sdk-from-source" class="md-nav__link">
    5.1.1 Building and Installing the OPAE SDK from Source
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-opae-tools-overview" class="md-nav__link">
    5.2 OPAE Tools Overview
  </a>
  
    <nav class="md-nav" aria-label="5.2 OPAE Tools Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#521-fpgasupdate" class="md-nav__link">
    5.2.1 fpgasupdate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-5-1-fpgasupdate-overview" class="md-nav__link">
    Table 5-1: fpgasupdate Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#522-fpgainfo" class="md-nav__link">
    5.2.2 fpgainfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#523-rsu" class="md-nav__link">
    5.2.3 rsu
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#525-bitstreaminfo" class="md-nav__link">
    5.2.5 bitstreaminfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#526-hssi" class="md-nav__link">
    5.2.6 hssi
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#527-opaeio" class="md-nav__link">
    5.2.7 opae.io
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#528-host_exerciser" class="md-nav__link">
    5.2.8 host_exerciser
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#529-running-the-host-exerciser-modules" class="md-nav__link">
    5.2.9 Running the Host Exerciser Modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-5-5-vf-to-hem-mappings" class="md-nav__link">
    Table 5-5 VF to HEM Mappings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#60-compiling-ofs-fim" class="md-nav__link">
    6.0 Compiling OFS FIM
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notices-disclaimers" class="md-nav__link">
    Notices &amp; Disclaimers
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/reference_manual/ofs_sw/mnl_sw_ofs/" class="md-nav__link">
        Software Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference_manuals/ofs_fim/mnl_fim_ofs_d5005/" class="md-nav__link">
        FPGA Interface Manager Technical Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev_guides/fim_dev/ug_dev_fim_ofs_d5005/" class="md-nav__link">
        FPGA Interface Manager Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev_guides/afu_dev/ug_dev_afu_d5005/" class="md-nav__link">
        AFU Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ug_sim_ofs_d5005/ug_sim_ofs_d5005/" class="md-nav__link">
        Simulation User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_docker/ug_docker/" class="md-nav__link">
        Docker User guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_kvm/ug_kvm/" class="md-nav__link">
        KVM User guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc_modules/Glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Agilex PCIe Attach OFS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Agilex PCIe Attach OFS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/user_guides/ug_eval_ofs_n6001/ug_eval_script_ofs_n6001/" class="md-nav__link">
        Quick Start Evaluation Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/user_guides/ug_qs_ofs_n6001/ug_qs_ofs_n6001/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/reference_manual/ofs_sw/mnl_sw_ofs/" class="md-nav__link">
        Software Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/reference_manuals/ofs_fim/mnl_fim_ofs_n6001/" class="md-nav__link">
        FPGA Interface Manager Technical Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/dev_guides/fim_dev/ug_dev_fim_ofs_n6001/" class="md-nav__link">
        FPGA Interface Manager Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/dev_guides/afu_dev/ug_dev_afu_ofs_n6001/" class="md-nav__link">
        AFU Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/dev_guides/hps_dev/hps_developer_ug/" class="md-nav__link">
        HPS Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/user_guides/ug_sim_ofs_n6001/ug_sim_ofs_n6001/" class="md-nav__link">
        Simulation User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_docker/ug_docker/" class="md-nav__link">
        Docker User guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_kvm/ug_kvm/" class="md-nav__link">
        KVM User guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/doc_modules/Glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Agilex SoC Attach OFS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Agilex SoC Attach OFS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../f2000x/user_guides/ug_eval_ofs/ug_eval_script_ofs_f2000x/" class="md-nav__link">
        Quick Start Evaluation Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../f2000x/user_guides/ug_qs_ofs_f2000x/ug_qs_ofs_f2000x/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/reference_manual/ofs_sw/mnl_sw_ofs/" class="md-nav__link">
        Software Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../f2000x/reference_manuals/ofs_fim/mnl_fim_ofs/" class="md-nav__link">
        FPGA Interface Manager Technical Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../f2000x/dev_guides/fim_dev/ug_dev_fim_ofs_f2000x/" class="md-nav__link">
        FPGA Interface Manager Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../f2000x/dev_guides/afu_dev/ug_dev_afu_ofs_f2000x/" class="md-nav__link">
        AFU Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../f2000x/user_guides/ug_sim_ofs/ug_sim_ofs/" class="md-nav__link">
        Simulation User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_docker/ug_docker/" class="md-nav__link">
        Docker User guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_kvm/ug_kvm/" class="md-nav__link">
        KVM User guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../f2000x/doc_modules/Glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          oneAPI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          oneAPI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/oneapi_asp/ug_oneapi_asp/" class="md-nav__link">
        oneAPI ASP Getting Started User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/reference_manual/oneapi_asp/oneapi_asp_ref_mnl/" class="md-nav__link">
        oneAPI Accelerator Support Package(ASP) Reference Manual
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          OFS Software
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          OFS Software
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
          OPAE USER GUIDES
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_1">
          <span class="md-nav__icon md-icon"></span>
          OPAE USER GUIDES
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_api/quick_start/readme/" class="md-nav__link">
        Quick Start Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/install_guide/installation_guide/" class="md-nav__link">
        OPAE Installation Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_api/prog_guide/readme/" class="md-nav__link">
        OPAE C API Programming Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/pyopae/python_bindings/" class="md-nav__link">
        OPAE Python Bindings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_api/plug_guide/readme/" class="md-nav__link">
        OPAE Plugin Developers Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
          OPAE LIBRARIES
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          OPAE LIBRARIES
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_api/fpga_api/" class="md-nav__link">
        OPAE C API Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_api/fpga_cxx_api/" class="md-nav__link">
        OPAE C++ Core API Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_api/fpga_python_api/" class="md-nav__link">
        OPAE Python API Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_api/plug_guide/readme/" class="md-nav__link">
        OPAE Plugin Developers Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
          OPAE LINUX KERNEL DRIVERS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          OPAE LINUX KERNEL DRIVERS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/drv_arch/drv_arch/" class="md-nav__link">
        Open Programmable Accelerator Engine (OPAE) Linux Device Driver Architecture
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../../sw/fpga_tools/fpgadiag/">OPAE FPGA TOOLS</a>
          
            <label for="__nav_6_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_4">
          <span class="md-nav__icon md-icon"></span>
          OPAE FPGA TOOLS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/fpgaconf/fpgaconf/" class="md-nav__link">
        fpgaconf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/fpgainfo/fpgainfo/" class="md-nav__link">
        fpgainfo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/fpgasupdate/fpgasupdate/" class="md-nav__link">
        fpgasupdate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/mmlink/mmlink/" class="md-nav__link">
        mmlink
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/packager/packager/" class="md-nav__link">
        packager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/userclk/userclk/" class="md-nav__link">
        userclk
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/hssi/hssi/" class="md-nav__link">
        hssi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/pci_device/pci_device/" class="md-nav__link">
        pci_device
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/opae.io/opae.io/" class="md-nav__link">
        opae.io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/rsu/rsu/" class="md-nav__link">
        rsu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/host_exerciser/host_exerciser/" class="md-nav__link">
        host_exerciser
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/hssi_ethernet/hssistats/" class="md-nav__link">
        HSSI ethernet statistics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/hssi_ethernet/hssimac/" class="md-nav__link">
        HSSI ethernet mac
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/hssi_ethernet/hssiloopback/" class="md-nav__link">
        HSSI ethernet loopback
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/mem_tg/mem_tg/" class="md-nav__link">
        mem_tg
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/vabtool/vabtool/" class="md-nav__link">
        vabtool
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/opaevfio/opaevfio/" class="md-nav__link">
        opaevfio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/ofs.uio/ofs.uio/" class="md-nav__link">
        ofs.uio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/opaeuio/opaeuio/" class="md-nav__link">
        opaeuio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/fpgad/fpgad/" class="md-nav__link">
        fpgad
      </a>
    </li>
  

            
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#10-introduction" class="md-nav__link">
    1.0 Introduction
  </a>
  
    <nav class="md-nav" aria-label="1.0 Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-about-this-document" class="md-nav__link">
    1.1 About This Document
  </a>
  
    <nav class="md-nav" aria-label="1.1 About This Document">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-1-installing-the-opae-sdk" class="md-nav__link">
    Diagram 1: Installing the OPAE SDK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diagram-2-installing-the-linux-dfl-drivers" class="md-nav__link">
    Diagram 2: Installing the Linux DFL Drivers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diagram-3-bringing-up-the-intel-d5005" class="md-nav__link">
    Diagram 3: Bringing up the Intel D5005
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-terminology" class="md-nav__link">
    1.2 Terminology
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-introduction-to-ofs" class="md-nav__link">
    1.3 Introduction to OFS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-intended-audience" class="md-nav__link">
    1.4 Intended Audience
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-reference-documents" class="md-nav__link">
    1.5 Reference Documents
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-component-version-summary" class="md-nav__link">
    1.6 Component Version Summary
  </a>
  
    <nav class="md-nav" aria-label="1.6 Component Version Summary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-1-2-hardware-bkc" class="md-nav__link">
    Table 1-2: Hardware BKC
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-1-3-software-version-summary" class="md-nav__link">
    Table 1-3: Software Version Summary
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#20-ofs-stack-architecture-overview-for-reference-platform" class="md-nav__link">
    2.0 OFS Stack Architecture Overview for Reference Platform
  </a>
  
    <nav class="md-nav" aria-label="2.0 OFS Stack Architecture Overview for Reference Platform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-hardware-components" class="md-nav__link">
    2.1 Hardware Components
  </a>
  
    <nav class="md-nav" aria-label="2.1 Hardware Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#211-fpga-interface-manager" class="md-nav__link">
    2.1.1 FPGA Interface Manager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#212-afu" class="md-nav__link">
    2.1.2 AFU
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-ofs-software-overview" class="md-nav__link">
    2.2 OFS Software Overview
  </a>
  
    <nav class="md-nav" aria-label="2.2 OFS Software Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221-kernel-drivers-for-ofs" class="md-nav__link">
    2.2.1 Kernel Drivers for OFS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#30-intel-fpga-pac-d5005-card-and-server-requirements" class="md-nav__link">
    3.0 Intel FPGA PAC D5005 Card and Server Requirements
  </a>
  
    <nav class="md-nav" aria-label="3.0 Intel FPGA PAC D5005 Card and Server Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-supported-processors-for-intel-d5005" class="md-nav__link">
    3.1 Supported Processors for Intel D5005
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-cooling-requirements-for-the-intel-fpga-pac-d5005" class="md-nav__link">
    3.2 Cooling Requirements for the Intel FPGA PAC D5005
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#40-ofs-dfl-kernel-drivers" class="md-nav__link">
    4.0 OFS DFL Kernel Drivers
  </a>
  
    <nav class="md-nav" aria-label="4.0 OFS DFL Kernel Drivers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-ofs-dfl-kernel-driver-environment-setup" class="md-nav__link">
    4.1 OFS DFL Kernel Driver Environment Setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-building-and-installing-the-ofs-dfl-kernel-drivers-from-source" class="md-nav__link">
    4.2 Building and Installing the OFS DFL Kernel Drivers from Source
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#50-opae-software-development-kit" class="md-nav__link">
    5.0 OPAE Software Development Kit
  </a>
  
    <nav class="md-nav" aria-label="5.0 OPAE Software Development Kit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-opae-sdk-build-environment-setup" class="md-nav__link">
    5.1 OPAE SDK Build Environment Setup
  </a>
  
    <nav class="md-nav" aria-label="5.1 OPAE SDK Build Environment Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#511-building-and-installing-the-opae-sdk-from-source" class="md-nav__link">
    5.1.1 Building and Installing the OPAE SDK from Source
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-opae-tools-overview" class="md-nav__link">
    5.2 OPAE Tools Overview
  </a>
  
    <nav class="md-nav" aria-label="5.2 OPAE Tools Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#521-fpgasupdate" class="md-nav__link">
    5.2.1 fpgasupdate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-5-1-fpgasupdate-overview" class="md-nav__link">
    Table 5-1: fpgasupdate Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#522-fpgainfo" class="md-nav__link">
    5.2.2 fpgainfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#523-rsu" class="md-nav__link">
    5.2.3 rsu
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#525-bitstreaminfo" class="md-nav__link">
    5.2.5 bitstreaminfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#526-hssi" class="md-nav__link">
    5.2.6 hssi
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#527-opaeio" class="md-nav__link">
    5.2.7 opae.io
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#528-host_exerciser" class="md-nav__link">
    5.2.8 host_exerciser
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#529-running-the-host-exerciser-modules" class="md-nav__link">
    5.2.9 Running the Host Exerciser Modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-5-5-vf-to-hem-mappings" class="md-nav__link">
    Table 5-5 VF to HEM Mappings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#60-compiling-ofs-fim" class="md-nav__link">
    6.0 Compiling OFS FIM
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notices-disclaimers" class="md-nav__link">
    Notices &amp; Disclaimers
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="getting-started-guide-open-fpga-stack-for-intel-stratix-10">Getting Started Guide: Open FPGA Stack for Intel Stratix 10<a class="headerlink" href="#getting-started-guide-open-fpga-stack-for-intel-stratix-10" title="Permanent link">&para;</a></h1>
<h2 id="10-introduction"><strong>1.0 Introduction</strong><a class="headerlink" href="#10-introduction" title="Permanent link">&para;</a></h2>
<h3 id="11-about-this-document"><strong>1.1 About This Document</strong><a class="headerlink" href="#11-about-this-document" title="Permanent link">&para;</a></h3>
<p>This document helps users get started in evaluating Open FPGA Stack (<abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>) for Intel® Stratix 10® FPGA targeting the Intel® FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005. After reviewing the document a user shall be able to:</p>
<ul>
<li>Set up a development environment with all <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> ingredients</li>
<li>Build and install the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Linux Kernel drivers</li>
<li>Build and install the Open Programmable Acceleration Engine Software Development Kit (<abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr>) software on top of the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Linux kernel drivers</li>
<li>Flash an <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> binary onto the Intel® FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005</li>
<li>Verify the functionality of <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> on an Intel® FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005 board</li>
<li>Know where to find additional information on all <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> ingredients</li>
</ul>
<p>The following flow charts show a high level overview of the initial bringup process, split into three sequential diagrams.</p>
<h4 id="diagram-1-installing-the-opae-sdk">Diagram 1: Installing the <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr><a class="headerlink" href="#diagram-1-installing-the-opae-sdk" title="Permanent link">&para;</a></h4>
<p><a class="glightbox" href="../images/UG_DIAGRAM_1_D5005.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="UG_1" src="../images/UG_DIAGRAM_1_D5005.png" /></a></p>
<h4 id="diagram-2-installing-the-linux-dfl-drivers">Diagram 2: Installing the Linux <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> Drivers<a class="headerlink" href="#diagram-2-installing-the-linux-dfl-drivers" title="Permanent link">&para;</a></h4>
<p><a class="glightbox" href="../images/UG_DIAGRAM_2_D5005.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="UG_2" src="../images/UG_DIAGRAM_2_D5005.png" /></a></p>
<h4 id="diagram-3-bringing-up-the-intel-d5005">Diagram 3: Bringing up the Intel D5005<a class="headerlink" href="#diagram-3-bringing-up-the-intel-d5005" title="Permanent link">&para;</a></h4>
<p><a class="glightbox" href="../images/UG_DIAGRAM_3_D5005.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="UG_3" src="../images/UG_DIAGRAM_3_D5005.png" /></a></p>
<h3 id="12-terminology">1.2 Terminology<a class="headerlink" href="#12-terminology" title="Permanent link">&para;</a></h3>
<p><br></p>
<table>
<thead>
<tr>
<th>Term</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><abbr title="Advanced Error Reporting, The PCIe AER driver is the extended PCI Express error reporting capability providing more robust error reporting.">AER</abbr></td>
<td>Advanced Error Reporting, The PCIe <abbr title="Advanced Error Reporting, The PCIe AER driver is the extended PCI Express error reporting capability providing more robust error reporting.">AER</abbr> driver is the extended PCI Express error reporting capability providing more robust error reporting.</td>
</tr>
<tr>
<td><abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr></td>
<td>Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> region is the part of the design where an <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> may reside. This <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> may or may not be a partial reconfiguration region</td>
</tr>
<tr>
<td><abbr title="Basic Building Block, Features within an AFU or part of an FPGA interface that can be reused across designs. These building blocks do not have stringent interface requirements like the FIM's AFU and host interface requires. All BBBs must have a (globally unique identifier) GUID.">BBB</abbr></td>
<td>Basic Building Block, Features within an <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> or part of an FPGA interface that can be reused across designs. These building blocks do not have stringent interface requirements like the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr>'s <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> and host interface requires. All BBBs must have a (globally unique identifier) GUID.</td>
</tr>
<tr>
<td><abbr title="Best Known Configuration, The exact hardware configuration Intel has optimized and validated the solution against.">BKC</abbr></td>
<td>Best Known Configuration, The exact hardware configuration Intel has optimized and validated the solution against.</td>
</tr>
<tr>
<td><abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr></td>
<td>Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> platform. Supports features such as power sequence management and board monitoring through on-board sensors.</td>
</tr>
<tr>
<td>CSR</td>
<td>Command/status registers (CSR) and software interface, <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> uses a defined set of CSR's to expose the functionality of the FPGA to the host software.</td>
</tr>
<tr>
<td><abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr></td>
<td>Device Feature List, A concept inherited from <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>. The <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> drivers provide support for FPGA devices that are designed to support the Device Feature List. The <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr>, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> driver to automatically load the drivers required for a given FPGA configuration.</td>
</tr>
<tr>
<td><abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr></td>
<td>FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> resides in the static region of the FPGA and contains the FPGA Management Engine (<abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr>) and I/O ring.</td>
</tr>
<tr>
<td><abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr></td>
<td>FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.</td>
</tr>
<tr>
<td><abbr title="Host Exerciser Module, Host exercisers are used to exercise and characterize the various host-FPGA interactions, including Memory Mapped Input/Output (MMIO), data transfer from host to FPGA, PR, host to FPGA memory, etc.">HEM</abbr></td>
<td>Host Exerciser Module, Host exercisers are used to exercise and characterize the various host-FPGA interactions, including Memory Mapped Input/Output (<abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr>), data transfer from host to FPGA, <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr>, host to FPGA memory, etc.</td>
</tr>
<tr>
<td>Intel FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005</td>
<td>Intel FPGA Programmable Acceleration Card D5005, A high performance PCI Express (PCIe)-based FPGA acceleration card for data centers. This card is the target platform for the initial <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> release.</td>
</tr>
<tr>
<td><abbr title="Intel Virtualization Technology for Directed I/O, Extension of the VT-x and VT-I processor virtualization technologies which adds new support for I/O device virtualization.">Intel VT-d</abbr></td>
<td>Intel Virtualization Technology for Directed I/O, Extension of the VT-x and VT-I processor virtualization technologies which adds new support for I/O device virtualization.</td>
</tr>
<tr>
<td><abbr title="Input/Output Control, System calls used to manipulate underlying device parameters of special files.">IOCTL</abbr></td>
<td>Input/Output Control, System calls used to manipulate underlying device parameters of special files.</td>
</tr>
<tr>
<td><abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr></td>
<td>Joint Test Action Group, Refers to the IEEE 1149.1 <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr> standard; Another FPGA configuration methodology.</td>
</tr>
<tr>
<td><abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr></td>
<td>Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.</td>
</tr>
<tr>
<td><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr></td>
<td>Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> and software developers to optimize and reuse their designs.</td>
</tr>
<tr>
<td><abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr></td>
<td>Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.</td>
</tr>
<tr>
<td><abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr></td>
<td>Programmable Acceleration Card: FPGA based Accelerator card</td>
</tr>
<tr>
<td><abbr title="Platform Interface Manager, An interface manager that comprises two components: a configurable platform specific interface for board developers and a collection of shims that AFU developers can use to handle clock crossing, response sorting, buffering and different protocols.">PIM</abbr></td>
<td>Platform Interface Manager, An interface manager that comprises two components: a configurable platform specific interface for board developers and a collection of shims that <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> developers can use to handle clock crossing, response sorting, buffering and different protocols.</td>
</tr>
<tr>
<td><abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr></td>
<td>Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr>, a <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> bitstream refers to an Intel FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr>. Refer to <a href="https://www.intel.com/content/www/us/en/programmable/products/design-software/fpga-design/quartus-prime/features/partial-reconfiguration.html">Partial Reconfiguration</a> support page.</td>
</tr>
<tr>
<td><abbr title="Remote System Update, A Remote System Update operation sends an instruction to the Intel FPGA PAC D5005 device that triggers a power cycle of the card only, forcing reconfiguration.">RSU</abbr></td>
<td>Remote System Update, A Remote System Update operation sends an instruction to the Intel FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005 device that triggers a power cycle of the card only, forcing reconfiguration.</td>
</tr>
<tr>
<td><abbr title="Single-Root Input-Output Virtualization, Allows the isolation of PCI Express resources for manageability and performance.">SR-IOV</abbr></td>
<td>Single-Root Input-Output Virtualization, Allows the isolation of PCI Express resources for manageability and performance.</td>
</tr>
<tr>
<td><abbr title="Testbench, Testbench or Verification Environment is used to check the functional correctness of the Design Under Test (DUT) by generating and driving a predefined input sequence to a design, capturing the design output and comparing with-respect-to expected output.">TB</abbr></td>
<td>Testbench, Testbench or Verification Environment is used to check the functional correctness of the Design Under Test (DUT) by generating and driving a predefined input sequence to a design, capturing the design output and comparing with-respect-to expected output.</td>
</tr>
<tr>
<td><abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr></td>
<td>Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.</td>
</tr>
<tr>
<td><abbr title="Virtual Function Input/Output, An IOMMU/device agnostic framework for exposing direct device access to userspace.">VFIO</abbr></td>
<td>Virtual Function Input/Output, An IOMMU/device agnostic framework for exposing direct device access to userspace.</td>
</tr>
</tbody>
</table>
<h3 id="13-introduction-to-ofs"><strong>1.3 Introduction to <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr></strong><a class="headerlink" href="#13-introduction-to-ofs" title="Permanent link">&para;</a></h3>
<p>Each <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> reference <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> targets a specific platform, but the modular hardware, software, simulation and test infrastructure allows you to modify each part of the design and test environment for your own custom acceleration platform card. The current <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> reference <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> for Stratix 10 FPGA targets the Intel® FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005 board. This document focuses exclusively on the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> release targeting the Intel® FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005 board.</p>
<p>The <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> repositories (in <a href="https://github.com/OFS"><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr></a> ) on GitHub provide the following components targeting an Intel® FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005:</p>
<ul>
<li><strong>opae-sdk</strong>: Contains the Open Programmable Acceleration Software Development Kit source code and build scripts.
The following submodule repositories are contained within <code>opae-sdk</code></li>
<li><strong>linux-dfl</strong>: Contains Linux kernel-level driver source code and build scripts.</li>
<li><strong>intel-ofs-fim</strong>: Contains the source code, build scripts and verification suite for FPGA RTL source code</li>
<li><strong>ofs-hld-shim</strong>: Contains the necessary files to generate Shim/BSP for <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Cards, using <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> Interfaces.</li>
</ul>
<h3 id="14-intended-audience"><strong>1.4 Intended Audience</strong><a class="headerlink" href="#14-intended-audience" title="Permanent link">&para;</a></h3>
<p>The information in this document is intended for customers evaluating the Open FPGA Stack for Intel® Stratix 10® FPGA on the Intel <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005. This document will cover key topics related to initial setup and development, with links for deeper dives on the topics discussed therein.</p>
<h3 id="15-reference-documents"><strong>1.5 Reference Documents</strong><a class="headerlink" href="#15-reference-documents" title="Permanent link">&para;</a></h3>
<p>Please refer to the README on the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> GitHub for an updated list of collateral on the <a href="https://ofs.github.io"><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> GitHub page</a>.</p>
<h3 id="16-component-version-summary"><strong>1.6 Component Version Summary</strong><a class="headerlink" href="#16-component-version-summary" title="Permanent link">&para;</a></h3>
<p>The <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> 2023.1 Release targeting the Intel® Stratix 10® FPGA is built upon tightly coupled software and firmware versions. Use this section as a general reference for the versions which comprise this release.</p>
<p>The following table highlights the hardware which makes up the Best Known Configuration (<abbr title="Best Known Configuration, The exact hardware configuration Intel has optimized and validated the solution against.">BKC</abbr>) for the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> 2023.1 release.</p>
<h4 id="table-1-2-hardware-bkc">Table 1-2: Hardware <abbr title="Best Known Configuration, The exact hardware configuration Intel has optimized and validated the solution against.">BKC</abbr><a class="headerlink" href="#table-1-2-hardware-bkc" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Component</th>
</tr>
</thead>
<tbody>
<tr>
<td>1 x Intel® FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005</td>
</tr>
<tr>
<td>1 x <a href="https://www.intel.com/content/www/us/en/products/details/fpga/platforms/pac/d5005/view.html">Supported Server Model</a></td>
</tr>
<tr>
<td>1 x <a href="https://www.intel.com/content/www/us/en/products/details/fpga/development-kits/cables-adapters.html">Intel FPGA Download Cable II</a>   **(Optional, only required if loading images via <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr>)*</td>
</tr>
</tbody>
</table>
<p>The following table highlights the versions of the software which comprise the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> stack. The installation of the user-space <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> on top of the kernel-space linux-dfl drivers is discussed in subsequent sections of this document.</p>
<h4 id="table-1-3-software-version-summary">Table 1-3: Software Version Summary<a class="headerlink" href="#table-1-3-software-version-summary" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Component</th>
<th>Version</th>
</tr>
</thead>
<tbody>
<tr>
<td>FPGA Platform</td>
<td><a href="https://www.intel.com/content/www/us/en/products/details/fpga/platforms/pac/d5005.html">Intel® FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005</a></td>
</tr>
<tr>
<td><abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr></td>
<td><a href="https://github.com/OFS/opae-sdk/releases/tag/2.5.0-3">Tag: 2.5.0-3</a></td>
</tr>
<tr>
<td>Kernel Drivers</td>
<td><a href="https://github.com/OPAE/linux-dfl/releases/tag/ofs-2023.1-6.1-1">Tag: ofs-2023.1-6.1-1</a></td>
</tr>
<tr>
<td><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> Source Code</td>
<td><a href="https://github.com/OFS/ofs-fim-common/tree/release/ofs-2023.1">Branch: release/ofs-2023.1</a></td>
</tr>
<tr>
<td>Intel Quartus Prime Pro Edition Design Software</td>
<td>23.1 <a href="https://www.intel.com/content/www/us/en/software-kit/746666/intel-quartus-prime-pro-edition-design-software-version-22-3-for-linux.html">Intel® Quartus® Prime Pro Edition Linux</a></td>
</tr>
<tr>
<td>Operating System</td>
<td><a href="https://access.redhat.com/downloads/content/479/ver=/rhel---8/8.2/x86_64/product-software">RHEL 8.2</a></td>
</tr>
</tbody>
</table>
<p>A download page containing the release and already-compiled <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> binary artifacts that you can use for immediate evaluation on the Intel® FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005 can be found on the <a href="https://github.com/OFS/ofs-d5005/releases/tag/ofs-2023.1-1"><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> 2023.1</a> official release drop on GitHub.</p>
<p><strong>Note:</strong> If you wish to freeze your Red Hat operating system version on the RHEL 8.2, refer to the following <a href="https://access.redhat.com/solutions/238533">solution</a> provided in the Red Hat customer portal.</p>
<h2 id="20-ofs-stack-architecture-overview-for-reference-platform"><strong>2.0 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Stack Architecture Overview for Reference Platform</strong><a class="headerlink" href="#20-ofs-stack-architecture-overview-for-reference-platform" title="Permanent link">&para;</a></h2>
<h3 id="21-hardware-components"><strong>2.1 Hardware Components</strong><a class="headerlink" href="#21-hardware-components" title="Permanent link">&para;</a></h3>
<p>The <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> hardware architecture decomposes all designs into a standard set of modules, interfaces, and capabilities. Although the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> infrastructure provides a standard set of functionality and capability, the user is responsible for making the customizations to their specific design in compliance with the specifications outlined in the <a href="https://ofs.github.io/hw/d5005/reference_manuals/ofs_fim/mnl_fim_ofs_d5005/">Open FPGA Stack Technical Reference Manual</a>.</p>
<p><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> is a blanket term which can be used to collectively refer to all ingredients of the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> reference design, which includes the core hardware components discussed below and software.</p>
<h4 id="211-fpga-interface-manager"><strong>2.1.1 FPGA Interface Manager</strong><a class="headerlink" href="#211-fpga-interface-manager" title="Permanent link">&para;</a></h4>
<p>The FPGA Interface Manager (<abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr>) or 'shell' provides platform management functionality, clocks, resets, and interface access to the host and peripheral features on the acceleration platform. The <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> is implemented in a static region of the FPGA device.</p>
<p>The primary components of the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> reference design are:</p>
<ul>
<li>PCIe Subsystem</li>
<li>Transceiver Subsystem</li>
<li>Memory Subsystem</li>
<li>FPGA Management Engine</li>
<li><abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> Peripheral Fabric for <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> accesses to other interface peripherals</li>
<li>Board Peripheral Fabric for master to slave CSR accesses from host or <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr></li>
<li>Interface to Board Management Controller (<abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr>)</li>
</ul>
<p>The FPGA Management Engine (<abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr>) provides management features for the platform and the loading/unloading of accelerators through partial reconfiguration.</p>
<p>For more information on the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> and its external connections, please refer to the <a href="https://ofs.github.io/hw/d5005/reference_manuals/ofs_fim/mnl_fim_ofs_d5005/">Open FPGA Stack Technical Reference Manual</a>, and the <a href="https://www.intel.com/content/www/us/en/programmable/documentation/cvl1520030638800.html">Intel FPGA Programmable Acceleration Card D5005 Data Sheet</a>. Below is a high-level block diagram of the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr>.</p>
<p><strong>Figure 2-1 <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> Overview</strong></p>
<p><a class="glightbox" href="../images/Fabric_Features.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img align="left" alt="fim-overview" src="../images/Fabric_Features.png" /></a></p>
<h4 id="212-afu"><strong>2.1.2 <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr></strong><a class="headerlink" href="#212-afu" title="Permanent link">&para;</a></h4>
<p>An <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> is an acceleration workload that interfaces to the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr>. The <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> boundary in this reference design comprises both static and partial reconfiguration (<abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr>) regions. You can decide how you want to partition these two areas or if you want your <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> region to only be a partial reconfiguration region. A port gasket within the design provides all the <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> specific modules and logic required for partial reconfiguration. Only one partial reconfiguration region is supported in this design.</p>
<p>Similar to the <abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr>, the port gasket exposes its capabilities to the host software driver through a DFH register placed at the beginning of the port gasket CSR space. In addition, only one PCIe link can access the port register space.</p>
<p>You can compile your design in one of the following ways:</p>
<ul>
<li>Your <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> resides in a partial reconfiguration (<abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr>) region of the FPGA.</li>
<li>Your <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> is a part of the static region (SR) and is a compiled flat design.</li>
<li>Your <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> contains both static and <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> regions.</li>
</ul>
<p>The <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> provided in this release is comprised of the following functions:</p>
<ul>
<li><abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> interface handler to verify transactions coming from the <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> region.</li>
<li>PV/VF Mux to route transactions to and from corresponding <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> components, including the ST2MM module, PCIe loopback host exerciser (HE-LB), HSSI host exerciser (HE-HSSI), and Memory Host Exerciser (HE-MEM).</li>
<li>AXI4 Streaming to Memory Map (ST2MM) Module that routes <abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr> CSR accesses to <abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr> and board peripherals.</li>
<li>Host exercisers to test PCIe, memory and HSSI interfaces (these can be removed from the <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> region after your <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> design is complete to provide more resource area for workloads).</li>
<li>Port gasket and partial reconfiguration support.</li>
</ul>
<p>For more information on the Platform Interface Manager (<abbr title="Platform Interface Manager, An interface manager that comprises two components: a configurable platform specific interface for board developers and a collection of shims that AFU developers can use to handle clock crossing, response sorting, buffering and different protocols.">PIM</abbr>) and <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> development and testing, please refer to the <a href="https://ofs.github.io/hw/d5005/dev_guides/afu_dev/ug_dev_afu_d5005/"><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> Development Guide</a>.</p>
<h3 id="22-ofs-software-overview"><strong>2.2 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Software Overview</strong><a class="headerlink" href="#22-ofs-software-overview" title="Permanent link">&para;</a></h3>
<h4 id="221-kernel-drivers-for-ofs"><strong>2.2.1 Kernel Drivers for <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr></strong><a class="headerlink" href="#221-kernel-drivers-for-ofs" title="Permanent link">&para;</a></h4>
<p><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> driver software provides the bottom-most API to FPGA platforms. Libraries such as OPAE and frameworks like DPDK are consumers of the APIs provided by <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>. Applications may be built on top of these frameworks and libraries. The <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> software does not cover any out-of-band management interfaces. <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> driver software is designed to be extendable, flexible, and provide for bare-metal and virtualized functionality. An in depth look at the various aspects of the driver architecture such as the API, an explanation of the <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> framework, and instructions on how to port <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> driver patches to other kernel distributions can be found on the <a href="https://github.com/OPAE/linux-dfl/wiki"><abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> Wiki</a> page.</p>
<h2 id="30-intel-fpga-pac-d5005-card-and-server-requirements"><strong>3.0 Intel FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005 Card and Server Requirements</strong><a class="headerlink" href="#30-intel-fpga-pac-d5005-card-and-server-requirements" title="Permanent link">&para;</a></h2>
<p>Currently <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> for Intel® Stratix 10® FPGA targets the Intel® FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005. Because the Intel® FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005 is a production card, you must prepare the card in order to receive a new non-production bitstream. For these instructions, please contact an Intel representative.</p>
<p>In addition, refer to sections 2.1-2.3 of the <a href="https://www.intel.com/content/www/us/en/programmable/documentation/edj1542148561811.html">Intel Acceleration Stack Quick Start Guide: Intel FPGA Programmable Acceleration Card D5005</a> for a complete overview of the physical installation process and ESD precautions for the D5005 platform.</p>
<hr />
<p><strong>Note:</strong> Ensure that the system meets all the following requirements   before proceeding to install the Intel® FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005 into a server.</p>
<hr />
<p><strong>Table 3-1 Server Requirements for Intel D5005</strong></p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Server</td>
<td><a href="https://www.intel.com/content/www/us/en/products/details/fpga/platforms/pac/d5005/view.html">Qualified Servers</a></td>
</tr>
<tr>
<td>Main Board</td>
<td>PCI Express 3.0 compliant motherboard with at least one dual-width x16 PCIe slot available for card installation</td>
</tr>
<tr>
<td>Board Power Supply*</td>
<td>Auxiliary Power (12V)</td>
</tr>
</tbody>
</table>
<p>* For more information on the required auxiliary power supply, refer to section 2.2.2 of the <a href="https://www.intel.com/content/www/us/en/programmable/documentation/cvl1520030638800.html">Intel FPGA Programmable Acceleration Card D5005 Data Sheet</a>.</p>
<h3 id="31-supported-processors-for-intel-d5005"><strong>3.1 Supported Processors for Intel D5005</strong><a class="headerlink" href="#31-supported-processors-for-intel-d5005" title="Permanent link">&para;</a></h3>
<p><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> requires that the deployment machine's Xeon processor must support the following technologies. These options must also be enabled in the BIOS and as kernel parameters. The process to enable these parameters will be discussed in the section on driver installation:</p>
<ul>
<li><abbr title="Intel Virtualization Technology for Directed I/O, Extension of the VT-x and VT-I processor virtualization technologies which adds new support for I/O device virtualization.">Intel VT-d</abbr> (Intel Virtualization Technology for IA-32 and Intel 64 Processors)</li>
<li>Intel VT-x (Intel Virtualization Technology for Directed I/O)</li>
<li>Intel IOMMU</li>
</ul>
<h3 id="32-cooling-requirements-for-the-intel-fpga-pac-d5005"><strong>3.2 Cooling Requirements for the Intel FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005</strong><a class="headerlink" href="#32-cooling-requirements-for-the-intel-fpga-pac-d5005" title="Permanent link">&para;</a></h3>
<p>Please refer to sections 8.1 and 8.2 of the <a href="https://www.intel.com/content/www/us/en/docs/programmable/683568/current/thermal-and-airflow-requirements.html">Intel FPGA Programmable Acceleration Card D5005 Data Sheet</a> for guidance on cooling specifications that must be met when using the D5005 card. Failure to adhere to these guidelines may result in thermal runaway and/or performance degradation.</p>
<h2 id="40-ofs-dfl-kernel-drivers"><strong>4.0 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> Kernel Drivers</strong><a class="headerlink" href="#40-ofs-dfl-kernel-drivers" title="Permanent link">&para;</a></h2>
<h3 id="41-ofs-dfl-kernel-driver-environment-setup"><strong>4.1 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> Kernel Driver Environment Setup</strong><a class="headerlink" href="#41-ofs-dfl-kernel-driver-environment-setup" title="Permanent link">&para;</a></h3>
<p>All <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> kernel driver code resides in the <a href="https://github.com/OFS/linux-dfl">Linux <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr></a> GitHub repository. This repository is open source and does not require any permissions to access. It includes a snapshot of the latest best-known configuration (<abbr title="Best Known Configuration, The exact hardware configuration Intel has optimized and validated the solution against.">BKC</abbr>) Linux kernel with the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> driver included in the drivers/fpga/* directory. Downloading, configuration, and compilation will be discussed in this section. Please refer to <a href="#table-1-3">Table 1-3</a> for the latest supported OS.</p>
<p>It is recommended you boot into your operating system's native 4.18.x kernel  before attempting to upgrade to the dfl enabled 6.1.22 You may experience issues when moving between two dfl enabled 6.1.22  kernels.</p>
<p>This installation process assumes the user has access to an internet connection in order to pull specific GitHub repositories, and to satisfy package dependencies.</p>
<p><strong>1.</strong> You must make the following changes in order to install all dependencies on the latest <abbr title="Best Known Configuration, The exact hardware configuration Intel has optimized and validated the solution against.">BKC</abbr> Operating System. These are required to both build and install the drivers from source, and to install them from pre-built packages:</p>
<p><br></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>subscription-manager<span class="w"> </span>repos<span class="w"> </span>--enable<span class="w"> </span>codeready-builder-for-rhel-8-x86_64-rpms
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm
</code></pre></div>
<p><strong>2.</strong> You must satisfy the following package dependencies if building and installing the drivers from source. Double check that all packages have been found and installed:</p>
<p><br></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>python3<span class="w"> </span>python3-pip<span class="w"> </span>python3-devel<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>gdb<span class="w"> </span>vim<span class="w"> </span>git<span class="w"> </span>gcc<span class="w"> </span>gcc-c++<span class="w"> </span>make<span class="w"> </span>cmake<span class="w"> </span>libuuid-devel<span class="w"> </span>rpm-build<span class="w"> </span>systemd-devel<span class="w"> </span>sudo<span class="w"> </span>nmap<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>python3-jsonschema<span class="w"> </span>json-c-devel<span class="w"> </span>tbb-devel<span class="w"> </span>rpmdevtools<span class="w"> </span>libcap-devel<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>spdlog-devel<span class="w"> </span>cli11-devel<span class="w"> </span>python3-pyyaml<span class="w"> </span>hwloc-devel<span class="w"> </span>libedit-devel<span class="w"> </span>openssl-devel
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--user<span class="w"> </span>jsonschema<span class="w"> </span>virtualenv<span class="w"> </span>pudb<span class="w"> </span>pyyaml
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>sudo<span class="w"> </span>pip3<span class="w"> </span>uninstall<span class="w"> </span>setuptools
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>sudo<span class="w"> </span>pip3<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>setuptools<span class="w"> </span>--prefix<span class="o">=</span>/usr
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="c1"># To Install pybind11 following are the steps</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>curl<span class="w"> </span><span class="s1">&#39;ftp://ftp.pbone.net/mirror/archive.fedoraproject.org/epel/8.2.2020-11-04/Everything/x86_64/Packages/p/python3-pybind11-2.4.3-2.el8.x86_64.rpm&#39;</span><span class="w"> </span>--output<span class="w"> </span>./python3-pybind11-2.4.3-2.el8.x86_64.rpm
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>curl<span class="w"> </span><span class="s1">&#39;ftp://ftp.pbone.net/mirror/archive.fedoraproject.org/epel/8.2.2020-11-04/Everything/x86_64/Packages/p/pybind11-devel-2.4.3-2.el8.x86_64.rpm&#39;</span><span class="w"> </span>--output<span class="w"> </span>./pybind11-devel-2.4.3-2.el8.x86_64.rpm
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>sudo<span class="w"> </span>dnf<span class="w"> </span>localinstall<span class="w"> </span>./python3-pybind11-2.4.3-2.el8.x86_64.rpm<span class="w"> </span>./pybind11-devel-2.4.3-2.el8.x86_64.rpm
</code></pre></div>
<p>It is recommended you create an empty top-level directory for their <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> related repositories to keep the working environment clean. All steps in this installation will use a generic top-level directory at <code>/home/user/OFS/</code>. If you have created a different top-level directory, replace this path with your custom path.</p>
<p><strong>3.</strong> Initialize an empty git repository and clone the LTS tagged <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> driver source code:
<br></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nb">cd</span><span class="w"> </span>/home/user/OFS/
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>git<span class="w"> </span>init
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OPAE/linux-dfl
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="nb">cd</span><span class="w"> </span>/home/user/OFS/linux-dfl
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>git<span class="w"> </span>checkout<span class="w"> </span>tags/ofs-2023.1-6.1-1<span class="w"> </span>-b<span class="w"> </span>fpga-ofs-dev-6.1.22
</code></pre></div>
<p><strong>4.</strong> Verify that the correct tag has been checkout out.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>git<span class="w"> </span>describe<span class="w"> </span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>ofs-2023.1-6.1-1
</code></pre></div>
<h3 id="42-building-and-installing-the-ofs-dfl-kernel-drivers-from-source"><strong>4.2 Building and Installing the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> Kernel Drivers from Source</strong><a class="headerlink" href="#42-building-and-installing-the-ofs-dfl-kernel-drivers-from-source" title="Permanent link">&para;</a></h3>
<p><strong>1.</strong> The following set of instructions walk you through copying an existing kernel configuration file on your machine and changing the minimal required configuration settings:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nb">cd</span><span class="w"> </span>/home/user/OFS/linux-dfl
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>cp<span class="w"> </span>/boot/config-<span class="sb">`</span>uname<span class="w"> </span>-r<span class="sb">`</span><span class="w"> </span>.config
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>cat<span class="w"> </span>configs/dfl-config<span class="w"> </span>&gt;&gt;<span class="w"> </span>.config
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;CONFIG_LOCALVERSION=&quot;-dfl&quot;&#39;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>.config
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;CONFIG_LOCALVERSION_AUTO=y&#39;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>.config
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>sed<span class="w"> </span>-i<span class="w"> </span>-r<span class="w"> </span><span class="s1">&#39;s/CONFIG_SYSTEM_TRUSTED_KEYS=.*/CONFIG_SYSTEM_TRUSTED_KEYS=&quot;&quot;/&#39;</span><span class="w"> </span>.config
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;/^CONFIG_DEBUG_INFO_BTF/ s/./#&amp;/&#39;</span><span class="w"> </span>.config
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;CONFIG_DEBUG_ATOMIC_SLEEP=y&#39;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>.config
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="nb">export</span><span class="w"> </span><span class="nv">LOCALVERSION</span><span class="o">=</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>make<span class="w"> </span>olddefconfig
</code></pre></div>
<p>(Optional) To use the built-in GUI menu for editing kernel configuration parameters, you can opt to run <code>make menuconfig</code>.</p>
<p><strong>2.</strong> Linux kernel builds take advantage of multiple processors to parallelize the build process. Display how many processors are available with the <code>nproc</code> command, and then specify how many make threads to utilize with the -j option. Note that number of threads can exceed the number of processors. In this case, the number of threads are set to the number of processors in the system.</p>
<p><br></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nb">cd</span><span class="w"> </span>/home/user/OFS/linux-dfl
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>make<span class="w"> </span>-j<span class="w"> </span><span class="sb">`</span>nproc<span class="sb">`</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>make<span class="w"> </span>-j<span class="w"> </span><span class="sb">`</span>nproc<span class="sb">`</span><span class="w"> </span>modules
</code></pre></div>
<p><strong>3.</strong> The user has two options for installation from source:</p>
<ul>
<li>Using the built-in install option from the kernel Makefile.</li>
<li>Locally building a set of RPM/DEB packages.</li>
</ul>
<p><strong>3.a</strong> This first flow will directly install the kernel and kernel module files without the need to create a package first:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nb">cd</span><span class="w"> </span>/home/user/OFS/linux-dfl
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>sudo<span class="w"> </span>make<span class="w"> </span>-j<span class="w"> </span><span class="sb">`</span>nproc<span class="sb">`</span><span class="w"> </span>modules_install
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>sudo<span class="w"> </span>make<span class="w"> </span>-j<span class="w"> </span><span class="sb">`</span>nproc<span class="sb">`</span><span class="w"> </span>install
</code></pre></div>
<p><strong>3.b</strong> This second flow will locally build a set of packages. The package options for this flow as as follows:</p>
<ul>
<li>rpm-pkg: Build both source and binary RPM kernel packages</li>
<li>binrpm-pkg: Build only the binary kernel RPM package</li>
<li>deb-pkg: Build both source and binary deb kernel packages</li>
<li>bindeb-pkg: Build only the binary kernel deb package</li>
</ul>
<p>If you are concerned about the size of the resulting package and binaries, you can significantly reduce the size of the package and object files by using the make variable INSTALL_MOD_STRIP. If this is not a concern, feel free to skip this step. The below instructions will build a set of binary RPM packages:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nb">cd</span><span class="w"> </span>/home/user/OFS/linux-dfl
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>make<span class="w"> </span><span class="nv">INSTALL_MOD_STRIP</span><span class="o">=</span><span class="m">1</span><span class="w"> </span>binrpm-pkg
</code></pre></div>
<p><strong>3.b.1</strong> By default a directory is created in your <code>home</code> directory called <code>rpmbuild</code>. This directory will house all of the kernel packages which have been built. You need to navigate to the newly built kernel packages and install them. The following files were generated using the build command executed in the previous step:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nb">cd</span><span class="w"> </span>~/rpmbuild/RPMS/x86_64
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>ls
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>kernel-6.1.22_dfl-1.x86_64.rpm<span class="w">  </span>kernel-headers-6.1.22_dfl-1.x86_64.rpm
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>sudo<span class="w"> </span>dnf<span class="w"> </span>localinstall<span class="w"> </span>kernel*.rpm
</code></pre></div>
<p><strong>4.</strong> The system will need to be rebooted for changes to take effect. After a reboot, select the newly built kernel as the boot target. This can be done pre-boot using the command <code>grub2-reboot</code>, which removes the requirement for user intervention. After boot, verify that the currently running kernel matches expectation.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>uname<span class="w"> </span>-r
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="m">6</span>.1.22-dfl
</code></pre></div>
<p><strong>5.</strong> Verify the <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> drivers have been successfully installed. If an Intel® FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005 card with the appropriate <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> is on the local system, the kernel driver modules will have been loaded. In the <code>lsmod</code> output the second column corresponds to the size of the kernel module in bytes, the third column displays the number of devices registered to that driver, and the fourth column displays the names of the devices using it. Verify their versions against the below.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>lsmod<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-e<span class="w"> </span>fpga<span class="w"> </span>-e<span class="w"> </span>dfl
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="c1">#output</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>uio_dfl<span class="w">                </span><span class="m">20480</span><span class="w">  </span><span class="m">0</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>spi_altera_dfl<span class="w">         </span><span class="m">20480</span><span class="w">  </span><span class="m">0</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>uio<span class="w">                    </span><span class="m">20480</span><span class="w">  </span><span class="m">1</span><span class="w"> </span>uio_dfl
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>dfl_emif<span class="w">               </span><span class="m">16384</span><span class="w">  </span><span class="m">0</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>spi_altera_core<span class="w">        </span><span class="m">16384</span><span class="w">  </span><span class="m">1</span><span class="w"> </span>spi_altera_dfl
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>dfl_fme_region<span class="w">         </span><span class="m">20480</span><span class="w">  </span><span class="m">0</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>dfl_fme_br<span class="w">             </span><span class="m">16384</span><span class="w">  </span><span class="m">0</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>dfl_fme_mgr<span class="w">            </span><span class="m">20480</span><span class="w">  </span><span class="m">0</span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>dfl_afu<span class="w">                </span><span class="m">36864</span><span class="w">  </span><span class="m">0</span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>dfl_fme<span class="w">                </span><span class="m">49152</span><span class="w">  </span><span class="m">0</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a>dfl_pci<span class="w">                </span><span class="m">20480</span><span class="w">  </span><span class="m">0</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>dfl<span class="w">                    </span><span class="m">40960</span><span class="w">  </span><span class="m">8</span><span class="w"> </span>dfl_pci,s10hssi,uio_dfl,dfl_fme,dfl_fme_br,dfl_afu,spi_altera_dfl,dfl_emif
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>fpga_region<span class="w">            </span><span class="m">20480</span><span class="w">  </span><span class="m">3</span><span class="w"> </span>dfl_fme_region,dfl_fme,dfl
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a>fpga_bridge<span class="w">            </span><span class="m">20480</span><span class="w">  </span><span class="m">4</span><span class="w"> </span>dfl_fme_region,fpga_region,dfl_fme,dfl_fme_br
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>fpga_mgr<span class="w">               </span><span class="m">24576</span><span class="w">  </span><span class="m">4</span><span class="w"> </span>dfl_fme_region,fpga_region,dfl_fme_mgr,dfl_fme
</code></pre></div>
<p>If an Intel® FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005 card is not installed in the system and/or does not have the appropriate <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> configured, the user may read version information of the <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> drivers directly from <code>/lib/modules</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="nb">cd</span><span class="w"> </span>/usr/lib/modules/<span class="sb">`</span>uname<span class="w"> </span>-r<span class="sb">`</span>/kernel/drivers/fpga
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>modinfo<span class="w"> </span>dfl*<span class="w"> </span>fpga*<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>^name
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="c1">#output</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>name:<span class="w">           </span>dfl_afu
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>name:<span class="w">           </span>dfl_fme_br
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>name:<span class="w">           </span>dfl_fme
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>name:<span class="w">           </span>dfl_fme_mgr
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>name:<span class="w">           </span>dfl_fme_region
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>name:<span class="w">           </span>dfl_hssi
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>name:<span class="w">           </span>dfl
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>name:<span class="w">           </span>dfl_n3000_nios
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>name:<span class="w">           </span>dfl_pci
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>name:<span class="w">           </span>fpga_bridge
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a>name:<span class="w">           </span>fpga_mgr
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a>name:<span class="w">           </span>fpga_regions
</code></pre></div>
<p><strong>6.</strong> Four kernel parameters must be added to the boot command-line for the newly installed kernel. First, open the file <code>grub</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>sudo<span class="w"> </span>vim<span class="w"> </span>/etc/default/grub
</code></pre></div>
<p><strong>7.</strong> In the variable GRUB_CMDLINE_LINUX add the parameters shown after <code>quiet</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="nv">GRUB_CMDLINE_LINUX</span><span class="o">=</span><span class="s2">&quot;crashkernel=auto resume=/dev/mapper/cl-swap rd.lvm.lv=cl/root rd.lvm.lv=cl/swap rhgb quiet intel_iommu=on pcie=realloc hugepagesz=2M hugepages=200&quot;</span>
</code></pre></div>
<p><em>Note: If you wish to instead set hugepages on a per session basis, you can perform the following step. These settings will be lost on reboot.</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>mkdir<span class="w"> </span>-p<span class="w"> </span>/mnt/huge<span class="w"> </span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>mount<span class="w"> </span>-t<span class="w"> </span>hugetlbfs<span class="w"> </span>nodev<span class="w"> </span>/mnt/huge<span class="w"> </span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="nb">echo</span><span class="w"> </span><span class="m">2048</span><span class="w"> </span>&gt;<span class="w"> </span>/sys/devices/system/node/node0/hugepages/hugepages-2048kB/nr_hugepages<span class="w"> </span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="nb">echo</span><span class="w"> </span><span class="m">2048</span><span class="w"> </span>&gt;<span class="w"> </span>/sys/devices/system/node/node1/hugepages/hugepages-2048kB/nr_hugepages<span class="w"> </span>
</code></pre></div>
<p><strong>8.</strong> Save your edits, then apply them to the GRUB2 configuration file.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>sudo<span class="w"> </span>grub2-mkconfig<span class="w">  </span>-o<span class="w"> </span>/boot/efi/EFI/redhat/grub.cfg
</code></pre></div>
<p><strong>9.</strong> Warm reboot. Your kernel parameter changes should have taken affect.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>cat<span class="w"> </span>/proc/cmdline
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="nv">BOOT_IMAGE</span><span class="o">=(</span>hd0,gpt2<span class="o">)</span>/vmlinuz-6.1.22-dfl<span class="w"> </span><span class="nv">root</span><span class="o">=</span>/dev/mapper/rhel_bapvedell028-root<span class="w"> </span>ro<span class="w"> </span><span class="nv">crashkernel</span><span class="o">=</span>auto<span class="w"> </span><span class="nv">resume</span><span class="o">=</span>/dev/mapper/rhel_bapvedell028-swap<span class="w"> </span>rd.lvm.lv<span class="o">=</span>rhel_bapvedell028/root<span class="w"> </span>rd.lvm.lv<span class="o">=</span>rhel_bapvedell028/swap<span class="w"> </span>rhgb<span class="w"> </span>quiet<span class="w"> </span><span class="nv">intel_iommu</span><span class="o">=</span>on<span class="w"> </span><span class="nv">pcie</span><span class="o">=</span>realloc<span class="w"> </span><span class="nv">hugepagesz</span><span class="o">=</span>2M<span class="w"> </span><span class="nv">hugepages</span><span class="o">=</span><span class="m">200</span>
</code></pre></div>
<h2 id="50-opae-software-development-kit"><strong>5.0 OPAE Software Development Kit</strong><a class="headerlink" href="#50-opae-software-development-kit" title="Permanent link">&para;</a></h2>
<p>The <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> software stack sits in user space on top of the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> kernel drivers. It is a common software infrastructure layer that simplifies and streamlines integration of programmable accelerators such as FPGAs into software applications and environments. OPAE consists of a set of drivers, user-space libraries, and tools to discover, enumerate, share, query, access, manipulate, and reconfigure programmable accelerators. OPAE is designed to support a layered, common programming model across different platforms and devices. To learn more about OPAE, its documentation, code samples, an explanation of the available tools, and an overview of the software architecture, please visit the <a href="https://github.com/OFS/opae-sdk">OPAE GitHub</a> page.</p>
<p>The <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> source code is contained within a single GitHub repository hosted at the <a href="https://github.com/OFS/opae-sdk">OPAE GitHub</a>. This repository is open source.</p>
<h3 id="51-opae-sdk-build-environment-setup"><strong>5.1 <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> Build Environment Setup</strong><a class="headerlink" href="#51-opae-sdk-build-environment-setup" title="Permanent link">&para;</a></h3>
<p>Ensure the local environment matches the supported Operating System discussed in section <a href="#table-1-3">Table 1-3: Software Version Summary</a>. This installation process assumes you have access to an internet connection in order to pull specific GitHub repositories, and to satisfy package dependencies.</p>
<h4 id="511-building-and-installing-the-opae-sdk-from-source"><strong>5.1.1 Building and Installing the <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> from Source</strong><a class="headerlink" href="#511-building-and-installing-the-opae-sdk-from-source" title="Permanent link">&para;</a></h4>
<p><strong>1.</strong> Before <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> installation the user must remove any prior OPAE frameworks.  To remove these packages:
<br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>sudo<span class="w"> </span>dnf<span class="w"> </span>remove<span class="w"> </span>opae*
</code></pre></div></p>
<p><strong>2.</strong> You must make the following changes to install all dependencies on RHEL 8.2:
<br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>subscription-manager<span class="w"> </span>repos<span class="w"> </span>--enable<span class="w"> </span>codeready-builder-for-rhel-8-x86_64-rpms
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm
</code></pre></div></p>
<p><strong>3.</strong> You must satisfy the following package dependencies. Double check that all packages have been found and installed:</p>
<p><br></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>python3<span class="w"> </span>python3-pip<span class="w"> </span>python3-devel<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>gdb<span class="w"> </span>vim<span class="w"> </span>git<span class="w"> </span>gcc<span class="w"> </span>gcc-c++<span class="w"> </span>make<span class="w"> </span>cmake<span class="w"> </span>libarchive<span class="w"> </span>libuuid-devel<span class="w"> </span>rpm-build<span class="w"> </span>systemd-devel<span class="w"> </span>sudo<span class="w"> </span>nmap<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>python3-jsonschema<span class="w"> </span>json-c-devel<span class="w"> </span>tbb-devel<span class="w"> </span>rpmdevtools<span class="w"> </span>libcap-devel<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>spdlog-devel<span class="w"> </span>cli11-devel<span class="w"> </span>python3-pyyaml<span class="w"> </span>hwloc-devel<span class="w"> </span>libedit-devel<span class="w"> </span>openssl-devel
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--user<span class="w"> </span>jsonschema<span class="w"> </span>virtualenv<span class="w"> </span>pudb<span class="w"> </span>pyyaml
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>sudo<span class="w"> </span>pip3<span class="w"> </span>uninstall<span class="w"> </span>setuptools
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>sudo<span class="w"> </span>pip3<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>setuptools<span class="w"> </span>--prefix<span class="o">=</span>/usr
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="c1"># To Install pybind11 following are the steps</span>
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a>curl<span class="w"> </span><span class="s1">&#39;ftp://ftp.pbone.net/mirror/archive.fedoraproject.org/epel/8.2.2020-11-04/Everything/x86_64/Packages/p/python3-pybind11-2.4.3-2.el8.x86_64.rpm&#39;</span><span class="w"> </span>--output<span class="w"> </span>./python3-pybind11-2.4.3-2.el8.x86_64.rpm
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a>
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a>curl<span class="w"> </span><span class="s1">&#39;ftp://ftp.pbone.net/mirror/archive.fedoraproject.org/epel/8.2.2020-11-04/Everything/x86_64/Packages/p/pybind11-devel-2.4.3-2.el8.x86_64.rpm&#39;</span><span class="w"> </span>--output<span class="w"> </span>./pybind11-devel-2.4.3-2.el8.x86_64.rpm
<a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a>
<a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a>sudo<span class="w"> </span>dnf<span class="w"> </span>localinstall<span class="w"> </span>./python3-pybind11-2.4.3-2.el8.x86_64.rpm<span class="w"> </span>./pybind11-devel-2.4.3-2.el8.x86_64.rpm
</code></pre></div>
<p>It is recommended you create an empty top-level directory for their <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> related repositories to keep the working environment clean. All steps in this installation will use a generic top-level directory at <code>/home/user/OFS/</code>. If you have created a different top-level directory, replace this path with your custom path.</p>
<p><strong>4.</strong> Initialize an empty git repository and clone the tagged <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> source code:
<br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="nb">cd</span><span class="w"> </span>/home/user/OFS/
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>git<span class="w"> </span>init
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OPAE/opae-sdk.git
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="nb">cd</span><span class="w"> </span>opae-sdk
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>git<span class="w"> </span>checkout<span class="w"> </span>tags/2.5.0-3<span class="w"> </span>-b<span class="w"> </span>release/2.5.0
</code></pre></div></p>
<p><strong>5.</strong> Verify that the correct tag has been checkout out:
<br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>git<span class="w"> </span>describe<span class="w"> </span>--tags
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="m">2</span>.5.0-3
</code></pre></div></p>
<p><strong>6.</strong> Build the <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> source code, and pack it into several local RPM packages. Building the code into packages allows for easier installation and removal.
<br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="nb">cd</span><span class="w"> </span>packaging/opae/rpm
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>./create<span class="w"> </span>fedora
</code></pre></div></p>
<p><strong>7.</strong> After a successful compile there should be 8 packages present:
<br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>ls<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>rpm
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="c1">#output</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>opae-2.5.0-3.el8.src.rpm
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>opae-2.5.0-3.el8.x86_64.rpm
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>opae-debuginfo-2.5.0-3.el8.x86_64.rpm
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>opae-debugsource-2.5.0-3.el8.x86_64.rpm
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>opae-devel-2.5.0-3.el8.x86_64.rpm
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>opae-devel-debuginfo-2.5.0-3.el8.x86_64.rpm
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a>opae-extra-tools-2.5.0-3.el8.x86_64.rpm
<a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a>opae-extra-tools-debuginfo-2.5.0-3.el8.x86_64.rpm
</code></pre></div>
Remove the opae-2.5.0-3.el8.src.rpm file as it is not used.
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>rm<span class="w"> </span>opae-2.5.0-3.el8.src.rpm
</code></pre></div></p>
<p><strong>7.a</strong> Install the user-built <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> packages:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>sudo<span class="w"> </span>dnf<span class="w"> </span>clean<span class="w"> </span>all
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>sudo<span class="w"> </span>dnf<span class="w"> </span>localinstall<span class="w"> </span>-y<span class="w"> </span>opae*.rpm
</code></pre></div>
<p><strong>8.</strong> Check that all packages have been installed:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>rpm<span class="w"> </span>-qa<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>opae
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="c1">#output</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>opae-extra-tools-2.5.0-3.el8.x86_64
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>opae-debugsource-2.5.0-3.el8.x86_64
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>opae-2.5.0-3.el8.x86_64
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>opae-extra-tools-debuginfo-2.5.0-3.el8.x86_64
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>opae-debuginfo-2.5.0-3.el8.x86_64
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>opae-devel-2.5.0-3.el8.x86_64
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>opae-devel-debuginfo-2.5.0-3.el8.x86_64
</code></pre></div>
<p>You can query information about each installed package using <code>rpm -qi &lt;package__name&gt;</code>.</p>
<h3 id="52-opae-tools-overview"><strong>5.2 OPAE Tools Overview</strong><a class="headerlink" href="#52-opae-tools-overview" title="Permanent link">&para;</a></h3>
<p>The <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> user-space tools sit upon the kernel-space <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> drivers. In order to use <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> functionality the user needs to complete the steps outlined in the previous section <a href="#heading-4.1">4.1 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> Kernel Driver Environment Setup</a> before attempting to run any OPAE commands or flows. You must have at least one D5005 card with the appropriate <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> present in your system. The steps to read and load a new <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> version are discussed in section <a href="#heading-6.1">6.1 Programming the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr></a>. After both the <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> kernel-space drivers have been installed and the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> has been upgraded, you may proceed to test the OPAE commands discussed below.</p>
<p>This section covers basic functionality of the commonly used OPAE tools and their expected results. These steps may also be used to verify that all <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> software installation has been completed successfully. A complete overview of the OPAE tools can be found on the <a href="https://github.com/OFS/opae-sdk">OPAE GitHub</a> and in your cloned GitHub repo at <code>&lt;your path&gt;/opae-sdk/doc/src/fpga_tools</code>. More commands are listed than are defined in the list below - most of these are called by other tools and do not need to be called directly themselves.</p>
<h4 id="521-fpgasupdate"><strong>5.2.1 <code>fpgasupdate</code></strong><a class="headerlink" href="#521-fpgasupdate" title="Permanent link">&para;</a></h4>
<p>The fpgasupdate tool updates the Intel Max10 <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> image and firmware, root entry hash, and FPGA Static Region (SR) and user image (<abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr>). The fpgasupdate will only accept images that have been formatted using PACsign. If a root entry hash has been programmed onto the board, then the image will also need to be signed using the correct keys. Please refer to the [Security User Guide: Intel Open FPGA Stack] for information on created signed images and on programming and managing the root entry hash.</p>
<p>The Intel FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> ships with a factory and user programmed image for both the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> and <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> FW and RTL on all cards.</p>
<h4 id="table-5-1-fpgasupdate-overview">Table 5-1: <code>fpgasupdate</code> Overview<a class="headerlink" href="#table-5-1-fpgasupdate-overview" title="Permanent link">&para;</a></h4>
<p><strong>Synopsis:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>fpgasupdate<span class="w"> </span><span class="o">[</span>--log-level<span class="o">=</span>&lt;level&gt;<span class="o">]</span><span class="w"> </span>file<span class="w"> </span><span class="o">[</span>bdf<span class="o">]</span>
</code></pre></div>
<p><strong>Description:</strong> The fpgasupdate command implements a secure firmware update.</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>args (optional)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>--log-level <level></td>
<td>Specifies the <code>log-level</code> which is the level of information output to your command tool. The following seven levels  are available: <code>state</code>, <code>ioctl</code>, <code>debug</code>, <code>info</code>, <code>warning</code>, <code>error</code>, <code>critical</code>. Setting <code>--log-level=state</code> provides the most verbose output. Setting <code>--log-level=ioctl</code> provides the second most information, and so on. The default level is <code>info</code>.</td>
</tr>
<tr>
<td></td>
<td>file</td>
<td>Specifies the secure update firmware file to be programmed. This file may be to program a static region (SR), programmable region (<abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr>), root entry hash, key cancellation, or other device-specific firmware.</td>
</tr>
<tr>
<td></td>
<td>bdf</td>
<td>The PCIe address of the <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> to program. <code>bdf</code> is of the form <code>[ssss:]bb:dd:f</code>, corresponding to PCIe segment, bus, device, function. The segment is optional. If you do not specify a segment, the segment defaults to <code>0000</code>. If the system has only one <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> you can omit the <code>bdf</code> and let <code>fpgasupdate</code>  determine the address automatically.</td>
</tr>
</tbody>
</table>
<h4 id="522-fpgainfo"><strong>5.2.2 <code>fpgainfo</code></strong><a class="headerlink" href="#522-fpgainfo" title="Permanent link">&para;</a></h4>
<p><strong>Synopsis:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="w">   </span>fpgainfo<span class="w"> </span><span class="o">[</span>-h<span class="o">]</span><span class="w"> </span><span class="o">[</span>-S<span class="w"> </span>&lt;segment&gt;<span class="o">]</span><span class="w"> </span><span class="o">[</span>-B<span class="w"> </span>&lt;bus&gt;<span class="o">]</span><span class="w"> </span><span class="o">[</span>-D<span class="w"> </span>&lt;device&gt;<span class="o">]</span><span class="w"> </span><span class="o">[</span>-F<span class="w"> </span>&lt;<span class="k">function</span>&gt;<span class="o">]</span><span class="w"> </span><span class="o">[</span>PCI_ADDR<span class="o">]</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="w">            </span><span class="o">{</span>errors,power,temp,fme,port,bmc,mac,phy,security<span class="o">}</span>
</code></pre></div>
<p><strong>Description:</strong>
 Displays FPGA information derived from sysfs files. The command argument is one of the following: errors, power, temp, port, fme, bmc, phy or mac, security. Some commands may also have other arguments or options that control their behavior.</p>
<p>For systems with multiple FPGA devices, you can specify the BDF to limit the output to the FPGA resource with the corresponding PCIe configuration. If not specified, information displays for all resources for the given command.</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>args (optional)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>--help, -h</td>
<td>Prints help information and exits.</td>
</tr>
<tr>
<td></td>
<td>--version, -v</td>
<td>Prints version information and exits.</td>
</tr>
<tr>
<td></td>
<td>-S, --segment</td>
<td>PCIe segment number of resource.</td>
</tr>
<tr>
<td></td>
<td>-B, --bus</td>
<td>PCIe bus number of resource.</td>
</tr>
<tr>
<td></td>
<td>-D, --device</td>
<td>PCIe device number of resource.</td>
</tr>
<tr>
<td></td>
<td>-F, --function</td>
<td>PCIe function number of resource.</td>
</tr>
<tr>
<td>errors</td>
<td>{fme, port, all} --clear, -c</td>
<td>First agument to the errors command specifies the resource type to display in human readable format. The second optional argument clears errors for the given FPGA resource.</td>
</tr>
<tr>
<td>power</td>
<td></td>
<td>Provides total power in watts that the FPGA hardware consumes</td>
</tr>
<tr>
<td>temp</td>
<td></td>
<td>Provides FPGA temperature values in degrees Celsius</td>
</tr>
<tr>
<td>port</td>
<td></td>
<td>Provides information about the port</td>
</tr>
<tr>
<td>fme</td>
<td></td>
<td>Provides information about the <abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr></td>
</tr>
<tr>
<td>bmc</td>
<td></td>
<td>Provides <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> sensors information</td>
</tr>
<tr>
<td>mac</td>
<td></td>
<td>Provides information about MAC ROM connected to FPGA</td>
</tr>
<tr>
<td>security</td>
<td></td>
<td>Provides information about the security keys, hashes, and flash count, if available.</td>
</tr>
</tbody>
</table>
<p><em>Note: Your Bitstream ID and <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> Interface Id may not match the below examples.</em></p>
<p>The following examples walk through sample outputs generated by <code>fpgainfo</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>sudo<span class="w"> </span>fpgainfo<span class="w"> </span>fme
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="c1">#output</span>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>Open<span class="w"> </span>FPGA<span class="w"> </span>Stack<span class="w"> </span>Platform
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>Board<span class="w"> </span>Management<span class="w"> </span>Controller,<span class="w"> </span>MAX10<span class="w"> </span>NIOS<span class="w"> </span>FW<span class="w"> </span>version:<span class="w"> </span><span class="m">2</span>.0.13
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>Board<span class="w"> </span>Management<span class="w"> </span>Controller,<span class="w"> </span>MAX10<span class="w"> </span>Build<span class="w"> </span>version:<span class="w"> </span><span class="m">2</span>.0.8
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>//******<span class="w"> </span>FME<span class="w"> </span>******//
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xF000000
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:3B:00.0
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCE
<a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x138D
<a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x00
<a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a>Ports<span class="w"> </span>Num<span class="w">                        </span>:<span class="w"> </span><span class="m">01</span>
<a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a>Bitstream<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span><span class="m">288511862659474365</span>
<a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a>Bitstream<span class="w"> </span>Version<span class="w">                </span>:<span class="w"> </span><span class="m">4</span>.0.1
<a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a>Pr<span class="w"> </span>Interface<span class="w"> </span>Id<span class="w">                  </span>:<span class="w"> </span>2b5c1c35-9ec4-54ec-8835-94ce6b6c3461
<a id="__codelineno-29-18" name="__codelineno-29-18" href="#__codelineno-29-18"></a>Boot<span class="w"> </span>Page<span class="w">                        </span>:<span class="w"> </span>user
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>sudo<span class="w"> </span>fpgainfo<span class="w"> </span>bmc
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="c1">#output</span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>Open<span class="w"> </span>FPGA<span class="w"> </span>Stack<span class="w"> </span>Platform
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a>Board<span class="w"> </span>Management<span class="w"> </span>Controller,<span class="w"> </span>MAX10<span class="w"> </span>NIOS<span class="w"> </span>FW<span class="w"> </span>version:<span class="w"> </span><span class="m">2</span>.0.13
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a>Board<span class="w"> </span>Management<span class="w"> </span>Controller,<span class="w"> </span>MAX10<span class="w"> </span>Build<span class="w"> </span>version:<span class="w"> </span><span class="m">2</span>.0.8
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a>//******<span class="w"> </span>BMC<span class="w"> </span>SENSORS<span class="w"> </span>******//
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xF000000
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:3B:00.0
<a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCE
<a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-30-12" name="__codelineno-30-12" href="#__codelineno-30-12"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x138D
<a id="__codelineno-30-13" name="__codelineno-30-13" href="#__codelineno-30-13"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x00
<a id="__codelineno-30-14" name="__codelineno-30-14" href="#__codelineno-30-14"></a>Ports<span class="w"> </span>Num<span class="w">                        </span>:<span class="w"> </span><span class="m">01</span>
<a id="__codelineno-30-15" name="__codelineno-30-15" href="#__codelineno-30-15"></a>Bitstream<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span><span class="m">288511862659474365</span>
<a id="__codelineno-30-16" name="__codelineno-30-16" href="#__codelineno-30-16"></a>Bitstream<span class="w"> </span>Version<span class="w">                </span>:<span class="w"> </span><span class="m">4</span>.0.1
<a id="__codelineno-30-17" name="__codelineno-30-17" href="#__codelineno-30-17"></a>Pr<span class="w"> </span>Interface<span class="w"> </span>Id<span class="w">                  </span>:<span class="w"> </span>2b5c1c35-9ec4-54ec-8835-94ce6b6c3461
<a id="__codelineno-30-18" name="__codelineno-30-18" href="#__codelineno-30-18"></a><span class="o">(</span><span class="w"> </span><span class="m">1</span><span class="o">)</span><span class="w"> </span>VCCERAM<span class="w"> </span>Voltage<span class="w">                                    </span>:<span class="w"> </span><span class="m">0</span>.90<span class="w"> </span>Volts
<a id="__codelineno-30-19" name="__codelineno-30-19" href="#__codelineno-30-19"></a><span class="o">(</span><span class="w"> </span><span class="m">2</span><span class="o">)</span><span class="w"> </span>VCCT<span class="w"> </span>Temperature<span class="w">                                   </span>:<span class="w"> </span><span class="m">29</span>.00<span class="w"> </span>Celsius
<a id="__codelineno-30-20" name="__codelineno-30-20" href="#__codelineno-30-20"></a><span class="o">(</span><span class="w"> </span><span class="m">3</span><span class="o">)</span><span class="w"> </span>12v<span class="w"> </span>Backplane<span class="w"> </span>Voltage<span class="w">                              </span>:<span class="w"> </span><span class="m">12</span>.17<span class="w"> </span>Volts
<a id="__codelineno-30-21" name="__codelineno-30-21" href="#__codelineno-30-21"></a><span class="o">(</span><span class="w"> </span><span class="m">4</span><span class="o">)</span><span class="w"> </span>VCCERAM<span class="w"> </span>Current<span class="w">                                    </span>:<span class="w"> </span><span class="m">0</span>.18<span class="w"> </span>Amps
<a id="__codelineno-30-22" name="__codelineno-30-22" href="#__codelineno-30-22"></a><span class="o">(</span><span class="w"> </span><span class="m">5</span><span class="o">)</span><span class="w"> </span>FPGA<span class="w"> </span>Transceiver<span class="w"> </span>Temperature<span class="w">                       </span>:<span class="w"> </span><span class="m">36</span>.50<span class="w"> </span>Celsius
<a id="__codelineno-30-23" name="__codelineno-30-23" href="#__codelineno-30-23"></a><span class="o">(</span><span class="w"> </span><span class="m">6</span><span class="o">)</span><span class="w"> </span>QSFP1<span class="w"> </span>Supply<span class="w"> </span>Voltage<span class="w">                               </span>:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>Volts
<a id="__codelineno-30-24" name="__codelineno-30-24" href="#__codelineno-30-24"></a><span class="o">(</span><span class="w"> </span><span class="m">7</span><span class="o">)</span><span class="w"> </span><span class="m">3</span>.3v<span class="w"> </span>Temperature<span class="w">                                   </span>:<span class="w"> </span><span class="m">29</span>.00<span class="w"> </span>Celsius
<a id="__codelineno-30-25" name="__codelineno-30-25" href="#__codelineno-30-25"></a><span class="o">(</span><span class="w"> </span><span class="m">8</span><span class="o">)</span><span class="w"> </span>12v<span class="w"> </span>Backplane<span class="w"> </span>Current<span class="w">                              </span>:<span class="w"> </span><span class="m">2</span>.28<span class="w"> </span>Amps
<a id="__codelineno-30-26" name="__codelineno-30-26" href="#__codelineno-30-26"></a><span class="o">(</span><span class="w"> </span><span class="m">9</span><span class="o">)</span><span class="w"> </span>RDIMM3<span class="w"> </span>Temperature<span class="w">                                 </span>:<span class="w"> </span><span class="m">25</span>.50<span class="w"> </span>Celsius
<a id="__codelineno-30-27" name="__codelineno-30-27" href="#__codelineno-30-27"></a><span class="o">(</span><span class="m">10</span><span class="o">)</span><span class="w"> </span>VCCR<span class="w"> </span>Voltage<span class="w">                                       </span>:<span class="w"> </span><span class="m">1</span>.12<span class="w"> </span>Volts
<a id="__codelineno-30-28" name="__codelineno-30-28" href="#__codelineno-30-28"></a><span class="o">(</span><span class="m">11</span><span class="o">)</span><span class="w"> </span>Board<span class="w"> </span>Inlet<span class="w"> </span>Air<span class="w"> </span>Temperature<span class="w">                        </span>:<span class="w"> </span><span class="m">24</span>.50<span class="w"> </span>Celsius
<a id="__codelineno-30-29" name="__codelineno-30-29" href="#__codelineno-30-29"></a><span class="o">(</span><span class="m">12</span><span class="o">)</span><span class="w"> </span><span class="m">1</span>.8v<span class="w"> </span>Temperature<span class="w">                                   </span>:<span class="w"> </span><span class="m">27</span>.50<span class="w"> </span>Celsius
<a id="__codelineno-30-30" name="__codelineno-30-30" href="#__codelineno-30-30"></a><span class="o">(</span><span class="m">13</span><span class="o">)</span><span class="w"> </span>12v<span class="w"> </span>AUX<span class="w"> </span>Voltage<span class="w">                                    </span>:<span class="w"> </span><span class="m">12</span>.14<span class="w"> </span>Volts
<a id="__codelineno-30-31" name="__codelineno-30-31" href="#__codelineno-30-31"></a><span class="o">(</span><span class="m">14</span><span class="o">)</span><span class="w"> </span>VCCR<span class="w"> </span>Current<span class="w">                                       </span>:<span class="w"> </span><span class="m">0</span>.55<span class="w"> </span>Amps
<a id="__codelineno-30-32" name="__codelineno-30-32" href="#__codelineno-30-32"></a><span class="o">(</span><span class="m">15</span><span class="o">)</span><span class="w"> </span>RDIMM0<span class="w"> </span>Temperature<span class="w">                                 </span>:<span class="w"> </span><span class="m">24</span>.50<span class="w"> </span>Celsius
<a id="__codelineno-30-33" name="__codelineno-30-33" href="#__codelineno-30-33"></a><span class="o">(</span><span class="m">16</span><span class="o">)</span><span class="w"> </span>FPGA<span class="w"> </span>Core<span class="w"> </span>Voltage<span class="w">                                  </span>:<span class="w"> </span><span class="m">0</span>.88<span class="w"> </span>Volts
<a id="__codelineno-30-34" name="__codelineno-30-34" href="#__codelineno-30-34"></a><span class="o">(</span><span class="m">17</span><span class="o">)</span><span class="w"> </span>VCCERAM<span class="w"> </span>Temperature<span class="w">                                </span>:<span class="w"> </span><span class="m">27</span>.50<span class="w"> </span>Celsius
<a id="__codelineno-30-35" name="__codelineno-30-35" href="#__codelineno-30-35"></a><span class="o">(</span><span class="m">18</span><span class="o">)</span><span class="w"> </span>12v<span class="w"> </span>AUX<span class="w"> </span>Current<span class="w">                                    </span>:<span class="w"> </span><span class="m">1</span>.19<span class="w"> </span>Amps
<a id="__codelineno-30-36" name="__codelineno-30-36" href="#__codelineno-30-36"></a><span class="o">(</span><span class="m">19</span><span class="o">)</span><span class="w"> </span>QSFP0<span class="w"> </span>Temperature<span class="w">                                  </span>:<span class="w"> </span>N/A
<a id="__codelineno-30-37" name="__codelineno-30-37" href="#__codelineno-30-37"></a><span class="o">(</span><span class="m">20</span><span class="o">)</span><span class="w"> </span>VCCT<span class="w"> </span>Voltage<span class="w">                                       </span>:<span class="w"> </span><span class="m">1</span>.12<span class="w"> </span>Volts
<a id="__codelineno-30-38" name="__codelineno-30-38" href="#__codelineno-30-38"></a><span class="o">(</span><span class="m">21</span><span class="o">)</span><span class="w"> </span>FPGA<span class="w"> </span>Core<span class="w"> </span>Current<span class="w">                                  </span>:<span class="w"> </span><span class="m">11</span>.60<span class="w"> </span>Amps
<a id="__codelineno-30-39" name="__codelineno-30-39" href="#__codelineno-30-39"></a><span class="o">(</span><span class="m">22</span><span class="o">)</span><span class="w"> </span>FPGA<span class="w"> </span>Core<span class="w"> </span>Temperature<span class="w">                              </span>:<span class="w"> </span><span class="m">42</span>.50<span class="w"> </span>Celsius
<a id="__codelineno-30-40" name="__codelineno-30-40" href="#__codelineno-30-40"></a><span class="o">(</span><span class="m">23</span><span class="o">)</span><span class="w"> </span>12v<span class="w"> </span>Backplane<span class="w"> </span>Temperature<span class="w">                          </span>:<span class="w"> </span><span class="m">24</span>.00<span class="w"> </span>Celsius
<a id="__codelineno-30-41" name="__codelineno-30-41" href="#__codelineno-30-41"></a><span class="o">(</span><span class="m">24</span><span class="o">)</span><span class="w"> </span>VCCT<span class="w"> </span>Current<span class="w">                                       </span>:<span class="w"> </span><span class="m">0</span>.14<span class="w"> </span>Amps
<a id="__codelineno-30-42" name="__codelineno-30-42" href="#__codelineno-30-42"></a><span class="o">(</span><span class="m">25</span><span class="o">)</span><span class="w"> </span>RDIMM1<span class="w"> </span>Temperature<span class="w">                                 </span>:<span class="w"> </span><span class="m">24</span>.00<span class="w"> </span>Celsius
<a id="__codelineno-30-43" name="__codelineno-30-43" href="#__codelineno-30-43"></a><span class="o">(</span><span class="m">26</span><span class="o">)</span><span class="w"> </span><span class="m">3</span>.3v<span class="w"> </span>Voltage<span class="w">                                       </span>:<span class="w"> </span><span class="m">3</span>.30<span class="w"> </span>Volts
<a id="__codelineno-30-44" name="__codelineno-30-44" href="#__codelineno-30-44"></a><span class="o">(</span><span class="m">27</span><span class="o">)</span><span class="w"> </span>VCCR<span class="w"> </span>Temperature<span class="w">                                   </span>:<span class="w"> </span><span class="m">33</span>.50<span class="w"> </span>Celsius
<a id="__codelineno-30-45" name="__codelineno-30-45" href="#__codelineno-30-45"></a><span class="o">(</span><span class="m">28</span><span class="o">)</span><span class="w"> </span><span class="m">1</span>.8v<span class="w"> </span>Voltage<span class="w">                                       </span>:<span class="w"> </span><span class="m">1</span>.80<span class="w"> </span>Volts
<a id="__codelineno-30-46" name="__codelineno-30-46" href="#__codelineno-30-46"></a><span class="o">(</span><span class="m">29</span><span class="o">)</span><span class="w"> </span><span class="m">3</span>.3v<span class="w"> </span>Current<span class="w">                                       </span>:<span class="w"> </span><span class="m">0</span>.32<span class="w"> </span>Amps
<a id="__codelineno-30-47" name="__codelineno-30-47" href="#__codelineno-30-47"></a><span class="o">(</span><span class="m">30</span><span class="o">)</span><span class="w"> </span>Board<span class="w"> </span>Exhaust<span class="w"> </span>Air<span class="w"> </span>Temperature<span class="w">                      </span>:<span class="w"> </span><span class="m">26</span>.00<span class="w"> </span>Celsius
<a id="__codelineno-30-48" name="__codelineno-30-48" href="#__codelineno-30-48"></a><span class="o">(</span><span class="m">31</span><span class="o">)</span><span class="w"> </span>12v<span class="w"> </span>AUX<span class="w"> </span>Temperature<span class="w">                                </span>:<span class="w"> </span><span class="m">25</span>.00<span class="w"> </span>Celsius
<a id="__codelineno-30-49" name="__codelineno-30-49" href="#__codelineno-30-49"></a><span class="o">(</span><span class="m">32</span><span class="o">)</span><span class="w"> </span>QSFP0<span class="w"> </span>Supply<span class="w"> </span>Voltage<span class="w">                               </span>:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>Volts
<a id="__codelineno-30-50" name="__codelineno-30-50" href="#__codelineno-30-50"></a><span class="o">(</span><span class="m">33</span><span class="o">)</span><span class="w"> </span>QSFP1<span class="w"> </span>Temperature<span class="w">                                  </span>:<span class="w"> </span>N/A
<a id="__codelineno-30-51" name="__codelineno-30-51" href="#__codelineno-30-51"></a><span class="o">(</span><span class="m">34</span><span class="o">)</span><span class="w"> </span><span class="m">1</span>.8v<span class="w"> </span>Current<span class="w">                                       </span>:<span class="w"> </span><span class="m">0</span>.54<span class="w"> </span>Amps
<a id="__codelineno-30-52" name="__codelineno-30-52" href="#__codelineno-30-52"></a><span class="o">(</span><span class="m">35</span><span class="o">)</span><span class="w"> </span>RDIMM2<span class="w"> </span>Temperature<span class="w">                                 </span>:<span class="w"> </span><span class="m">26</span>.00<span class="w"> </span>Celsius
</code></pre></div>
<h4 id="523-rsu"><strong>5.2.3 <code>rsu</code></strong><a class="headerlink" href="#523-rsu" title="Permanent link">&para;</a></h4>
<p>The <strong>rsu</strong> performs a <strong>R**emote **S**ystem **U**pdate operation on a device, given its PCIe address. A **rsu</strong> operation sends an instruction to the device to trigger a power cycle of the card only. This will force reconfiguration from flash for either the <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> or FPGA.</p>
<p>The Intel FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> contains a region of flash the user may store their <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> image. After an image has been programmed with fpgasupdate the user may choose to perform rsu to update the image on the device.</p>
<p><strong>Note:</strong> The D5005 platform only supports storing and configuring a single user image from flash for the FPGA. It does not include support for the user1/user2 partitions as shown in other <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> related acceleration boards.</p>
<p><strong><code>rsu</code> Overview</strong></p>
<p><strong>Synopsis</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>rsu<span class="w"> </span><span class="o">[</span>-h<span class="o">]</span><span class="w"> </span><span class="o">[</span>-d<span class="o">]</span><span class="w"> </span><span class="o">{</span>bmc,bmcimg,retimer,sdm,fpgadefault<span class="o">}</span><span class="w"> </span><span class="o">[</span>PCIE_ADDR<span class="o">]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>rsu<span class="w"> </span>bmc<span class="w"> </span>--page<span class="o">=(</span>user<span class="o">)</span><span class="w"> </span><span class="o">[</span>PCIE_ADDR<span class="o">]</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>rsu<span class="w"> </span>retimer<span class="w"> </span><span class="o">[</span>PCIE_ADDR<span class="o">]</span>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>rsu<span class="w"> </span>sdm<span class="w"> </span><span class="o">[</span>PCIE_ADDR<span class="o">]</span>
</code></pre></div>
<p>Perform <abbr title="Remote System Update, A Remote System Update operation sends an instruction to the Intel FPGA PAC D5005 device that triggers a power cycle of the card only, forcing reconfiguration.">RSU</abbr> (remote system update) operation on <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> device given its PCIe address. An <abbr title="Remote System Update, A Remote System Update operation sends an instruction to the Intel FPGA PAC D5005 device that triggers a power cycle of the card only, forcing reconfiguration.">RSU</abbr> operation sends an instruction to the device to trigger a power cycle of the card only. This will force reconfiguration from flash for either <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr>, Retimer, SDM, (on devices that support these) or the FPGA.</p>
<p><em>Note: As a result of using the <strong>rsu</strong> command, the host rescans the PCI bus and may assign a different Bus/Device/Function (B/D/F) value than the originally assigned value.</em></p>
<h4 id="525-bitstreaminfo"><strong>5.2.5 <code>bitstreaminfo</code></strong><a class="headerlink" href="#525-bitstreaminfo" title="Permanent link">&para;</a></h4>
<p>Displays authentication information contained with each provided <code>file</code> on the command line. This includes any JSON header strings, authentication header block information, and a small portion  of the payload. The binary is installed by default at <code>/usr/bin/bitstreaminfo</code>.<br></p>
<h4 id="526-hssi"><strong>5.2.6 <code>hssi</code></strong><a class="headerlink" href="#526-hssi" title="Permanent link">&para;</a></h4>
<p>The hssi application provides a means of interacting with the 10G and with the 100G HSSI AFUs. In both 10G and 100G operating modes, the application initializes the <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr>, completes the desired transfer as described by the mode-specific options. Only the <code>hssi_10g</code> MODE is currently supported. An example of this command's output can be found in section <a href="#heading-5.2.9">5.2.9 Running the Host Exerciser Modules</a>. The binary is installed by default at <code>/usr/bin/hssi</code>.<br></p>
<h4 id="527-opaeio"><strong>5.2.7 <code>opae.io</code></strong><a class="headerlink" href="#527-opaeio" title="Permanent link">&para;</a></h4>
<p>Opae.io is a interactive Python environment packaged on top of libopaevfio.so, which provides user space access to PCIe devices via the vfio-pci driver. The main feature of opae.io is its built-in Python command interpreter, along with some Python bindings that provide a means to access Configuration and Status Registers (CSRs) that reside on the PCIe device. opae.io has two operating modes: command line mode and interactive mode. An example of this command's output can be found in section <a href="#heading-5.2.9">5.2.9 Running the Host Exerciser Modules</a>. The binary is installed by default at <code>/usr/bin/opae.io</code>.<br></p>
<h4 id="528-host_exerciser"><strong>5.2.8 <code>host_exerciser</code></strong><a class="headerlink" href="#528-host_exerciser" title="Permanent link">&para;</a></h4>
<p>The host exerciser is used to exercise and characterize the various host-FPGA interactions eg. <abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr>, Data transfer from host to FPGA , <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr>, host to FPGA memory etc. An example of this command's output can be found in section <a href="#heading-5.2.9">5.2.9 Running the Host Exerciser Modules</a>. The binary is installed by default at <code>/usr/bin/host_exerciser</code>. For more information refer to - <a href="https://opae.github.io/latest/docs/fpga_tools/host_exerciser/host_exerciser.html">Host Exerciser</a><br></p>
<h4 id="529-running-the-host-exerciser-modules"><strong>5.2.9 Running the Host Exerciser Modules</strong><a class="headerlink" href="#529-running-the-host-exerciser-modules" title="Permanent link">&para;</a></h4>
<p>The reference <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> and unchanged compilations contain Host Exerciser Modules (HEMs). These are used to exercise and characterize the various host-FPGA interactions, including Memory Mapped Input/Output (<abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr>), data transfer from host to FPGA, <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr>, host to FPGA memory, etc. </p>
<hr />
<p><strong>Note:</strong> Before continuing, if huge pages are not set refer to <a href="#step-7">section 4.2</a></p>
<hr />
<p>There are three HEMs present in the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> - HE-LPBK, HE-HSSI, and HE-MEM. These exercisers are tied to three different VFs that must be enabled before they can be used. The user should enable the VF for each <abbr title="Host Exerciser Module, Host exercisers are used to exercise and characterize the various host-FPGA interactions, including Memory Mapped Input/Output (MMIO), data transfer from host to FPGA, PR, host to FPGA memory, etc.">HEM</abbr> using the below steps:</p>
<p><strong>1.</strong> Determine the BDF of the Intel® FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005 card.</p>
<p>The PCIe BDF address is initially determined when the server powers on. The user can determine the addresses of all Intel® FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005 boards using <code>lspci</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>lspci<span class="w"> </span>-d<span class="w"> </span>:bcce
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="c1">#output</span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a>3b:00.0<span class="w"> </span>Processing<span class="w"> </span>accelerators:<span class="w"> </span>Intel<span class="w"> </span>Corporation<span class="w"> </span>Device<span class="w"> </span>bcce<span class="w"> </span><span class="o">(</span>rev<span class="w"> </span><span class="m">01</span><span class="o">)</span>
</code></pre></div>
<hr />
<p><strong>Note:</strong> Before continuing, if you updated your <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> installation, please also <a href="#heading-6.1.1">update your <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr></a> to run <abbr title="Host Exerciser Module, Host exercisers are used to exercise and characterize the various host-FPGA interactions, including Memory Mapped Input/Output (MMIO), data transfer from host to FPGA, PR, host to FPGA memory, etc.">HEM</abbr></p>
<hr />
<p><strong>2.</strong> Enable three VFs.</p>
<p>In this example, the BDF address is 0000:3b:00.0. With this information the user can now enable three VFs with the following:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>sudo<span class="w"> </span>pci_device<span class="w"> </span><span class="m">0000</span>:3b:00.0<span class="w"> </span>vf<span class="w"> </span><span class="m">3</span>
</code></pre></div>
<p><strong>3.</strong> Verify that all three VFs have been created.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>lspci<span class="w"> </span>-s<span class="w"> </span>3b:00
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="c1">#output</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>3b:00.0<span class="w"> </span>Processing<span class="w"> </span>accelerators:<span class="w"> </span>Intel<span class="w"> </span>Corporation<span class="w"> </span>Device<span class="w"> </span>bcce<span class="w"> </span><span class="o">(</span>rev<span class="w"> </span><span class="m">01</span><span class="o">)</span>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a>3b:00.1<span class="w"> </span>Processing<span class="w"> </span>accelerators:<span class="w"> </span>Intel<span class="w"> </span>Corporation<span class="w"> </span>Device<span class="w"> </span>bccf<span class="w"> </span><span class="o">(</span>rev<span class="w"> </span><span class="m">01</span><span class="o">)</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>3b:00.2<span class="w"> </span>Processing<span class="w"> </span>accelerators:<span class="w"> </span>Intel<span class="w"> </span>Corporation<span class="w"> </span>Device<span class="w"> </span>bccf<span class="w"> </span><span class="o">(</span>rev<span class="w"> </span><span class="m">01</span><span class="o">)</span>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a>3b:00.3<span class="w"> </span>Processing<span class="w"> </span>accelerators:<span class="w"> </span>Intel<span class="w"> </span>Corporation<span class="w"> </span>Device<span class="w"> </span>bccf<span class="w"> </span><span class="o">(</span>rev<span class="w"> </span><span class="m">01</span><span class="o">)</span>
</code></pre></div>
<p><strong>4.</strong> Bind the 3 VFs to the vfio-pci driver.</p>
<p>sudo opae.io init -d PCI_ADDR USER[:GROUP]]</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>init<span class="w"> </span>-d<span class="w"> </span><span class="m">0000</span>:3b:00.1<span class="w"> </span><span class="nv">$USER</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="c1">#output</span>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>opae.io<span class="w"> </span><span class="m">0</span>.2.5
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a>Unbinding<span class="w"> </span><span class="o">(</span>0x8086,0xbccf<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:3b:00.1<span class="w"> </span>from<span class="w"> </span>dfl-pci
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a>Binding<span class="w"> </span><span class="o">(</span>0x8086,0xbccf<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:3b:00.1<span class="w"> </span>to<span class="w"> </span>vfio-pci
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a>iommu<span class="w"> </span>group<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">(</span>0x8086,0xbccf<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:3b:00.1<span class="w"> </span>is<span class="w"> </span><span class="m">142</span>
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a>Assigning<span class="w"> </span>/dev/vfio/142<span class="w"> </span>to<span class="w"> </span><span class="nv">$USER</span>:<span class="nv">$USER</span>
<a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a>Changing<span class="w"> </span>permissions<span class="w"> </span><span class="k">for</span><span class="w"> </span>/dev/vfio/142<span class="w"> </span>to<span class="w"> </span>rw-rw----
<a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a>
<a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a>
<a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>init<span class="w"> </span>-d<span class="w"> </span><span class="m">0000</span>:3b:00.2<span class="w"> </span><span class="nv">$USER</span>
<a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a><span class="c1">#output </span>
<a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a>opae.io<span class="w"> </span><span class="m">0</span>.2.5
<a id="__codelineno-36-14" name="__codelineno-36-14" href="#__codelineno-36-14"></a>Unbinding<span class="w"> </span><span class="o">(</span>0x8086,0xbccf<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:3b:00.2<span class="w"> </span>from<span class="w"> </span>dfl-pci
<a id="__codelineno-36-15" name="__codelineno-36-15" href="#__codelineno-36-15"></a>Binding<span class="w"> </span><span class="o">(</span>0x8086,0xbccf<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:3b:00.2<span class="w"> </span>to<span class="w"> </span>vfio-pci
<a id="__codelineno-36-16" name="__codelineno-36-16" href="#__codelineno-36-16"></a>iommu<span class="w"> </span>group<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">(</span>0x8086,0xbccf<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:3b:00.2<span class="w"> </span>is<span class="w"> </span><span class="m">143</span>
<a id="__codelineno-36-17" name="__codelineno-36-17" href="#__codelineno-36-17"></a>Assigning<span class="w"> </span>/dev/vfio/143<span class="w"> </span>to<span class="w"> </span><span class="nv">$USER</span>:<span class="nv">$USER</span>
<a id="__codelineno-36-18" name="__codelineno-36-18" href="#__codelineno-36-18"></a>Changing<span class="w"> </span>permissions<span class="w"> </span><span class="k">for</span><span class="w"> </span>/dev/vfio/143<span class="w"> </span>to<span class="w"> </span>rw-rw----
<a id="__codelineno-36-19" name="__codelineno-36-19" href="#__codelineno-36-19"></a>
<a id="__codelineno-36-20" name="__codelineno-36-20" href="#__codelineno-36-20"></a>
<a id="__codelineno-36-21" name="__codelineno-36-21" href="#__codelineno-36-21"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>init<span class="w"> </span>-d<span class="w"> </span><span class="m">0000</span>:3b:00.3<span class="w"> </span><span class="nv">$USER</span>
<a id="__codelineno-36-22" name="__codelineno-36-22" href="#__codelineno-36-22"></a><span class="c1">#output</span>
<a id="__codelineno-36-23" name="__codelineno-36-23" href="#__codelineno-36-23"></a>opae.io<span class="w"> </span><span class="m">0</span>.2.5
<a id="__codelineno-36-24" name="__codelineno-36-24" href="#__codelineno-36-24"></a>Unbinding<span class="w"> </span><span class="o">(</span>0x8086,0xbccf<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:3b:00.3<span class="w"> </span>from<span class="w"> </span>dfl-pci
<a id="__codelineno-36-25" name="__codelineno-36-25" href="#__codelineno-36-25"></a>Binding<span class="w"> </span><span class="o">(</span>0x8086,0xbccf<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:3b:00.3<span class="w"> </span>to<span class="w"> </span>vfio-pci
<a id="__codelineno-36-26" name="__codelineno-36-26" href="#__codelineno-36-26"></a>iommu<span class="w"> </span>group<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">(</span>0x8086,0xbccf<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:3b:00.3<span class="w"> </span>is<span class="w"> </span><span class="m">144</span>
<a id="__codelineno-36-27" name="__codelineno-36-27" href="#__codelineno-36-27"></a>Assigning<span class="w"> </span>/dev/vfio/144<span class="w"> </span>to<span class="w"> </span><span class="nv">$USER</span>:<span class="nv">$USER</span>
<a id="__codelineno-36-28" name="__codelineno-36-28" href="#__codelineno-36-28"></a>Changing<span class="w"> </span>permissions<span class="w"> </span><span class="k">for</span><span class="w"> </span>/dev/vfio/144<span class="w"> </span>to<span class="w"> </span>rw-rw----
</code></pre></div>
<p><strong>5.</strong> Check that the accelerators are present using fpgainfo. <em>Note your port configuration may differ from the below.</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>sudo<span class="w"> </span>fpgainfo<span class="w"> </span>port
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="c1">#output</span>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a>//******<span class="w"> </span>PORT<span class="w"> </span>******//
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xF000000
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:3B:00.0
<a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCE
<a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x138D
<a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x00
<a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a>//******<span class="w"> </span>PORT<span class="w"> </span>******//
<a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x603B000000000000
<a id="__codelineno-37-13" name="__codelineno-37-13" href="#__codelineno-37-13"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:3B:00.3
<a id="__codelineno-37-14" name="__codelineno-37-14" href="#__codelineno-37-14"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-37-15" name="__codelineno-37-15" href="#__codelineno-37-15"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCF
<a id="__codelineno-37-16" name="__codelineno-37-16" href="#__codelineno-37-16"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-37-17" name="__codelineno-37-17" href="#__codelineno-37-17"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x138D
<a id="__codelineno-37-18" name="__codelineno-37-18" href="#__codelineno-37-18"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x00
<a id="__codelineno-37-19" name="__codelineno-37-19" href="#__codelineno-37-19"></a>Accelerator<span class="w"> </span>GUID<span class="w">                 </span>:<span class="w"> </span>823c334c-98bf-11ea-bb37-0242ac130002
<a id="__codelineno-37-20" name="__codelineno-37-20" href="#__codelineno-37-20"></a>//******<span class="w"> </span>PORT<span class="w"> </span>******//
<a id="__codelineno-37-21" name="__codelineno-37-21" href="#__codelineno-37-21"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x403B000000000000
<a id="__codelineno-37-22" name="__codelineno-37-22" href="#__codelineno-37-22"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:3B:00.2
<a id="__codelineno-37-23" name="__codelineno-37-23" href="#__codelineno-37-23"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-37-24" name="__codelineno-37-24" href="#__codelineno-37-24"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCF
<a id="__codelineno-37-25" name="__codelineno-37-25" href="#__codelineno-37-25"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-37-26" name="__codelineno-37-26" href="#__codelineno-37-26"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x138D
<a id="__codelineno-37-27" name="__codelineno-37-27" href="#__codelineno-37-27"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x00
<a id="__codelineno-37-28" name="__codelineno-37-28" href="#__codelineno-37-28"></a>Accelerator<span class="w"> </span>GUID<span class="w">                 </span>:<span class="w"> </span>8568ab4e-6ba5-4616-bb65-2a578330a8eb
<a id="__codelineno-37-29" name="__codelineno-37-29" href="#__codelineno-37-29"></a>//******<span class="w"> </span>PORT<span class="w"> </span>******//
<a id="__codelineno-37-30" name="__codelineno-37-30" href="#__codelineno-37-30"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x203B000000000000
<a id="__codelineno-37-31" name="__codelineno-37-31" href="#__codelineno-37-31"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:3B:00.1
<a id="__codelineno-37-32" name="__codelineno-37-32" href="#__codelineno-37-32"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-37-33" name="__codelineno-37-33" href="#__codelineno-37-33"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCF
<a id="__codelineno-37-34" name="__codelineno-37-34" href="#__codelineno-37-34"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-37-35" name="__codelineno-37-35" href="#__codelineno-37-35"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x138D
<a id="__codelineno-37-36" name="__codelineno-37-36" href="#__codelineno-37-36"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x00
<a id="__codelineno-37-37" name="__codelineno-37-37" href="#__codelineno-37-37"></a>Accelerator<span class="w"> </span>GUID<span class="w">                 </span>:<span class="w"> </span>56e203e9-864f-49a7-b94b-12284c31e02b
</code></pre></div>
<h4 id="table-5-5-vf-to-hem-mappings">Table 5-5 VF to <abbr title="Host Exerciser Module, Host exercisers are used to exercise and characterize the various host-FPGA interactions, including Memory Mapped Input/Output (MMIO), data transfer from host to FPGA, PR, host to FPGA memory, etc.">HEM</abbr> Mappings<a class="headerlink" href="#table-5-5-vf-to-hem-mappings" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>VF BDF</th>
<th><abbr title="Host Exerciser Module, Host exercisers are used to exercise and characterize the various host-FPGA interactions, including Memory Mapped Input/Output (MMIO), data transfer from host to FPGA, PR, host to FPGA memory, etc.">HEM</abbr></th>
</tr>
</thead>
<tbody>
<tr>
<td>BBBB:DD.1</td>
<td>HE-LB</td>
</tr>
<tr>
<td>BBBB:DD.2</td>
<td>HE-MEM</td>
</tr>
<tr>
<td>BBBB:DD.3</td>
<td>He-HSSI</td>
</tr>
</tbody>
</table>
<p><strong>HE-MEM / HE-LB</strong></p>
<p>HE-LB is responsible for generating traffic with the intention of exercising the path from the <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> to the Host at full bandwidth. HE-MEM is used to exercise the DDR interface; data read from the host is written to DDR, and the same data is read from DDR before sending it back to the host. HE-MEM uses external DDR memory (i.e. EMIF) to store data. It has a customized version of the AVMM interface to communicate with the EMIF memory controller. Both exercisers rely on the user-space tool <code>host_exerciser</code>. The following commands are supported by the HE-LB/HE-MEM OPAE driver program. They may need to be run using <code>sudo</code> privileges, depending on your server configuration.</p>
<p>Basic operations:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>sudo<span class="w"> </span>host_exerciser<span class="w"> </span>lpbk
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="c1">#output</span>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="w">    </span>starting<span class="w"> </span><span class="nb">test</span><span class="w"> </span>run,<span class="w"> </span>count<span class="w"> </span>of<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a>API<span class="w"> </span>version:<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a>AFU<span class="w"> </span>clock:<span class="w"> </span><span class="m">250</span><span class="w"> </span>MHz
<a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a>Allocate<span class="w"> </span>SRC<span class="w"> </span>Buffer
<a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a>Allocate<span class="w"> </span>DST<span class="w"> </span>Buffer
<a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a>Allocate<span class="w"> </span>DSM<span class="w"> </span>Buffer
<a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>Performance<span class="w"> </span>Counter:
<a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numReads:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numWrites:<span class="w"> </span><span class="m">1025</span>
<a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-38-15" name="__codelineno-38-15" href="#__codelineno-38-15"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-38-16" name="__codelineno-38-16" href="#__codelineno-38-16"></a><span class="w">    </span>Number<span class="w"> </span>of<span class="w"> </span>clocks:<span class="w"> </span><span class="m">5342</span>
<a id="__codelineno-38-17" name="__codelineno-38-17" href="#__codelineno-38-17"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Reads<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-38-18" name="__codelineno-38-18" href="#__codelineno-38-18"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Writes<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-38-19" name="__codelineno-38-19" href="#__codelineno-38-19"></a><span class="w">    </span>Bandwidth:<span class="w"> </span><span class="m">3</span>.067<span class="w"> </span>GB/s
<a id="__codelineno-38-20" name="__codelineno-38-20" href="#__codelineno-38-20"></a><span class="w">    </span>Test<span class="w"> </span>lpbk<span class="o">(</span><span class="m">1</span><span class="o">)</span>:<span class="w"> </span>PASS
<a id="__codelineno-38-21" name="__codelineno-38-21" href="#__codelineno-38-21"></a>
<a id="__codelineno-38-22" name="__codelineno-38-22" href="#__codelineno-38-22"></a>sudo<span class="w"> </span>host_exerciser<span class="w"> </span>--mode<span class="w"> </span>lpbk<span class="w"> </span>lpbk
<a id="__codelineno-38-23" name="__codelineno-38-23" href="#__codelineno-38-23"></a><span class="c1">#output</span>
<a id="__codelineno-38-24" name="__codelineno-38-24" href="#__codelineno-38-24"></a><span class="w">    </span>starting<span class="w"> </span><span class="nb">test</span><span class="w"> </span>run,<span class="w"> </span>count<span class="w"> </span>of<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-38-25" name="__codelineno-38-25" href="#__codelineno-38-25"></a>API<span class="w"> </span>version:<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-38-26" name="__codelineno-38-26" href="#__codelineno-38-26"></a>AFU<span class="w"> </span>clock:<span class="w"> </span><span class="m">250</span><span class="w"> </span>MHz
<a id="__codelineno-38-27" name="__codelineno-38-27" href="#__codelineno-38-27"></a>Allocate<span class="w"> </span>SRC<span class="w"> </span>Buffer
<a id="__codelineno-38-28" name="__codelineno-38-28" href="#__codelineno-38-28"></a>Allocate<span class="w"> </span>DST<span class="w"> </span>Buffer
<a id="__codelineno-38-29" name="__codelineno-38-29" href="#__codelineno-38-29"></a>Allocate<span class="w"> </span>DSM<span class="w"> </span>Buffer
<a id="__codelineno-38-30" name="__codelineno-38-30" href="#__codelineno-38-30"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>Performance<span class="w"> </span>Counter:
<a id="__codelineno-38-31" name="__codelineno-38-31" href="#__codelineno-38-31"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numReads:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-38-32" name="__codelineno-38-32" href="#__codelineno-38-32"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numWrites:<span class="w"> </span><span class="m">1025</span>
<a id="__codelineno-38-33" name="__codelineno-38-33" href="#__codelineno-38-33"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-38-34" name="__codelineno-38-34" href="#__codelineno-38-34"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-38-35" name="__codelineno-38-35" href="#__codelineno-38-35"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-38-36" name="__codelineno-38-36" href="#__codelineno-38-36"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-38-37" name="__codelineno-38-37" href="#__codelineno-38-37"></a><span class="w">    </span>Number<span class="w"> </span>of<span class="w"> </span>clocks:<span class="w"> </span><span class="m">5358</span>
<a id="__codelineno-38-38" name="__codelineno-38-38" href="#__codelineno-38-38"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Reads<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-38-39" name="__codelineno-38-39" href="#__codelineno-38-39"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Writes<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-38-40" name="__codelineno-38-40" href="#__codelineno-38-40"></a><span class="w">    </span>Bandwidth:<span class="w"> </span><span class="m">3</span>.058<span class="w"> </span>GB/s
<a id="__codelineno-38-41" name="__codelineno-38-41" href="#__codelineno-38-41"></a><span class="w">    </span>Test<span class="w"> </span>lpbk<span class="o">(</span><span class="m">1</span><span class="o">)</span>:<span class="w"> </span>PASS
<a id="__codelineno-38-42" name="__codelineno-38-42" href="#__codelineno-38-42"></a>
<a id="__codelineno-38-43" name="__codelineno-38-43" href="#__codelineno-38-43"></a>sudo<span class="w"> </span>host_exerciser<span class="w"> </span>--mode<span class="w"> </span>write<span class="w"> </span>lpbk
<a id="__codelineno-38-44" name="__codelineno-38-44" href="#__codelineno-38-44"></a><span class="c1">#output</span>
<a id="__codelineno-38-45" name="__codelineno-38-45" href="#__codelineno-38-45"></a><span class="w">    </span>starting<span class="w"> </span><span class="nb">test</span><span class="w"> </span>run,<span class="w"> </span>count<span class="w"> </span>of<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-38-46" name="__codelineno-38-46" href="#__codelineno-38-46"></a>API<span class="w"> </span>version:<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-38-47" name="__codelineno-38-47" href="#__codelineno-38-47"></a>AFU<span class="w"> </span>clock:<span class="w"> </span><span class="m">250</span><span class="w"> </span>MHz
<a id="__codelineno-38-48" name="__codelineno-38-48" href="#__codelineno-38-48"></a>Allocate<span class="w"> </span>SRC<span class="w"> </span>Buffer
<a id="__codelineno-38-49" name="__codelineno-38-49" href="#__codelineno-38-49"></a>Allocate<span class="w"> </span>DST<span class="w"> </span>Buffer
<a id="__codelineno-38-50" name="__codelineno-38-50" href="#__codelineno-38-50"></a>Allocate<span class="w"> </span>DSM<span class="w"> </span>Buffer
<a id="__codelineno-38-51" name="__codelineno-38-51" href="#__codelineno-38-51"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>Performance<span class="w"> </span>Counter:
<a id="__codelineno-38-52" name="__codelineno-38-52" href="#__codelineno-38-52"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-38-53" name="__codelineno-38-53" href="#__codelineno-38-53"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numWrites:<span class="w"> </span><span class="m">1025</span>
<a id="__codelineno-38-54" name="__codelineno-38-54" href="#__codelineno-38-54"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-38-55" name="__codelineno-38-55" href="#__codelineno-38-55"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-38-56" name="__codelineno-38-56" href="#__codelineno-38-56"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-38-57" name="__codelineno-38-57" href="#__codelineno-38-57"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-38-58" name="__codelineno-38-58" href="#__codelineno-38-58"></a><span class="w">    </span>Number<span class="w"> </span>of<span class="w"> </span>clocks:<span class="w"> </span><span class="m">2592</span>
<a id="__codelineno-38-59" name="__codelineno-38-59" href="#__codelineno-38-59"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Reads<span class="w"> </span>sent:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-38-60" name="__codelineno-38-60" href="#__codelineno-38-60"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Writes<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-38-61" name="__codelineno-38-61" href="#__codelineno-38-61"></a><span class="w">    </span>Bandwidth:<span class="w"> </span><span class="m">6</span>.321<span class="w"> </span>GB/s
<a id="__codelineno-38-62" name="__codelineno-38-62" href="#__codelineno-38-62"></a><span class="w">    </span>Test<span class="w"> </span>lpbk<span class="o">(</span><span class="m">1</span><span class="o">)</span>:<span class="w"> </span>PASS
<a id="__codelineno-38-63" name="__codelineno-38-63" href="#__codelineno-38-63"></a>
<a id="__codelineno-38-64" name="__codelineno-38-64" href="#__codelineno-38-64"></a>sudo<span class="w"> </span>host_exerciser<span class="w"> </span>--mode<span class="w"> </span>trput<span class="w"> </span>lpbk
<a id="__codelineno-38-65" name="__codelineno-38-65" href="#__codelineno-38-65"></a><span class="c1">#output</span>
<a id="__codelineno-38-66" name="__codelineno-38-66" href="#__codelineno-38-66"></a><span class="w">    </span>starting<span class="w"> </span><span class="nb">test</span><span class="w"> </span>run,<span class="w"> </span>count<span class="w"> </span>of<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-38-67" name="__codelineno-38-67" href="#__codelineno-38-67"></a>API<span class="w"> </span>version:<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-38-68" name="__codelineno-38-68" href="#__codelineno-38-68"></a>AFU<span class="w"> </span>clock:<span class="w"> </span><span class="m">250</span><span class="w"> </span>MHz
<a id="__codelineno-38-69" name="__codelineno-38-69" href="#__codelineno-38-69"></a>Allocate<span class="w"> </span>SRC<span class="w"> </span>Buffer
<a id="__codelineno-38-70" name="__codelineno-38-70" href="#__codelineno-38-70"></a>Allocate<span class="w"> </span>DST<span class="w"> </span>Buffer
<a id="__codelineno-38-71" name="__codelineno-38-71" href="#__codelineno-38-71"></a>Allocate<span class="w"> </span>DSM<span class="w"> </span>Buffer
<a id="__codelineno-38-72" name="__codelineno-38-72" href="#__codelineno-38-72"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>Performance<span class="w"> </span>Counter:
<a id="__codelineno-38-73" name="__codelineno-38-73" href="#__codelineno-38-73"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numReads:<span class="w"> </span><span class="m">512</span>
<a id="__codelineno-38-74" name="__codelineno-38-74" href="#__codelineno-38-74"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numWrites:<span class="w"> </span><span class="m">513</span>
<a id="__codelineno-38-75" name="__codelineno-38-75" href="#__codelineno-38-75"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-38-76" name="__codelineno-38-76" href="#__codelineno-38-76"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-38-77" name="__codelineno-38-77" href="#__codelineno-38-77"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-38-78" name="__codelineno-38-78" href="#__codelineno-38-78"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-38-79" name="__codelineno-38-79" href="#__codelineno-38-79"></a><span class="w">    </span>Number<span class="w"> </span>of<span class="w"> </span>clocks:<span class="w"> </span><span class="m">3384</span>
<a id="__codelineno-38-80" name="__codelineno-38-80" href="#__codelineno-38-80"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Reads<span class="w"> </span>sent:<span class="w"> </span><span class="m">512</span>
<a id="__codelineno-38-81" name="__codelineno-38-81" href="#__codelineno-38-81"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Writes<span class="w"> </span>sent:<span class="w"> </span><span class="m">512</span>
<a id="__codelineno-38-82" name="__codelineno-38-82" href="#__codelineno-38-82"></a><span class="w">    </span>Bandwidth:<span class="w"> </span><span class="m">4</span>.842<span class="w"> </span>GB/s
<a id="__codelineno-38-83" name="__codelineno-38-83" href="#__codelineno-38-83"></a><span class="w">    </span>Test<span class="w"> </span>lpbk<span class="o">(</span><span class="m">1</span><span class="o">)</span>:<span class="w"> </span>PASS
</code></pre></div>
<p>Number of cachelines per request 1, 2, and 4. The user may replace <code>--mode lpbk</code> with <code>read, write, trput</code>. The target <code>lpbk</code> can be replaced with <code>mem</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>sudo<span class="w"> </span>host_exerciser<span class="w"> </span>--mode<span class="w"> </span>lpbk<span class="w"> </span>--cls<span class="w"> </span>cl_1<span class="w"> </span>lpbk
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="c1">#output</span>
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="w">    </span>starting<span class="w"> </span><span class="nb">test</span><span class="w"> </span>run,<span class="w"> </span>count<span class="w"> </span>of<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a>API<span class="w"> </span>version:<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a>AFU<span class="w"> </span>clock:<span class="w"> </span><span class="m">250</span><span class="w"> </span>MHz
<a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a>Allocate<span class="w"> </span>SRC<span class="w"> </span>Buffer
<a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a>Allocate<span class="w"> </span>DST<span class="w"> </span>Buffer
<a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a>Allocate<span class="w"> </span>DSM<span class="w"> </span>Buffer
<a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>Performance<span class="w"> </span>Counter:
<a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numReads:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numWrites:<span class="w"> </span><span class="m">1025</span>
<a id="__codelineno-39-12" name="__codelineno-39-12" href="#__codelineno-39-12"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-39-13" name="__codelineno-39-13" href="#__codelineno-39-13"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-39-14" name="__codelineno-39-14" href="#__codelineno-39-14"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-39-15" name="__codelineno-39-15" href="#__codelineno-39-15"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-39-16" name="__codelineno-39-16" href="#__codelineno-39-16"></a><span class="w">    </span>Number<span class="w"> </span>of<span class="w"> </span>clocks:<span class="w"> </span><span class="m">5475</span>
<a id="__codelineno-39-17" name="__codelineno-39-17" href="#__codelineno-39-17"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Reads<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-39-18" name="__codelineno-39-18" href="#__codelineno-39-18"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Writes<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-39-19" name="__codelineno-39-19" href="#__codelineno-39-19"></a><span class="w">    </span>Bandwidth:<span class="w"> </span><span class="m">2</span>.993<span class="w"> </span>GB/s
<a id="__codelineno-39-20" name="__codelineno-39-20" href="#__codelineno-39-20"></a><span class="w">    </span>Test<span class="w"> </span>lpbk<span class="o">(</span><span class="m">1</span><span class="o">)</span>:<span class="w"> </span>PASS
<a id="__codelineno-39-21" name="__codelineno-39-21" href="#__codelineno-39-21"></a>
<a id="__codelineno-39-22" name="__codelineno-39-22" href="#__codelineno-39-22"></a>
<a id="__codelineno-39-23" name="__codelineno-39-23" href="#__codelineno-39-23"></a>sudo<span class="w"> </span>host_exerciser<span class="w"> </span>--mode<span class="w"> </span>lpbk<span class="w"> </span>--cls<span class="w"> </span>cl_2<span class="w"> </span>lpbk
<a id="__codelineno-39-24" name="__codelineno-39-24" href="#__codelineno-39-24"></a><span class="c1">#output</span>
<a id="__codelineno-39-25" name="__codelineno-39-25" href="#__codelineno-39-25"></a><span class="w">    </span>starting<span class="w"> </span><span class="nb">test</span><span class="w"> </span>run,<span class="w"> </span>count<span class="w"> </span>of<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-39-26" name="__codelineno-39-26" href="#__codelineno-39-26"></a>API<span class="w"> </span>version:<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-39-27" name="__codelineno-39-27" href="#__codelineno-39-27"></a>AFU<span class="w"> </span>clock:<span class="w"> </span><span class="m">250</span><span class="w"> </span>MHz
<a id="__codelineno-39-28" name="__codelineno-39-28" href="#__codelineno-39-28"></a>Allocate<span class="w"> </span>SRC<span class="w"> </span>Buffer
<a id="__codelineno-39-29" name="__codelineno-39-29" href="#__codelineno-39-29"></a>Allocate<span class="w"> </span>DST<span class="w"> </span>Buffer
<a id="__codelineno-39-30" name="__codelineno-39-30" href="#__codelineno-39-30"></a>Allocate<span class="w"> </span>DSM<span class="w"> </span>Buffer
<a id="__codelineno-39-31" name="__codelineno-39-31" href="#__codelineno-39-31"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>Performance<span class="w"> </span>Counter:
<a id="__codelineno-39-32" name="__codelineno-39-32" href="#__codelineno-39-32"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numReads:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-39-33" name="__codelineno-39-33" href="#__codelineno-39-33"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numWrites:<span class="w"> </span><span class="m">1025</span>
<a id="__codelineno-39-34" name="__codelineno-39-34" href="#__codelineno-39-34"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-39-35" name="__codelineno-39-35" href="#__codelineno-39-35"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-39-36" name="__codelineno-39-36" href="#__codelineno-39-36"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-39-37" name="__codelineno-39-37" href="#__codelineno-39-37"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-39-38" name="__codelineno-39-38" href="#__codelineno-39-38"></a><span class="w">    </span>Number<span class="w"> </span>of<span class="w"> </span>clocks:<span class="w"> </span><span class="m">5356</span>
<a id="__codelineno-39-39" name="__codelineno-39-39" href="#__codelineno-39-39"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Reads<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-39-40" name="__codelineno-39-40" href="#__codelineno-39-40"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Writes<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-39-41" name="__codelineno-39-41" href="#__codelineno-39-41"></a><span class="w">    </span>Bandwidth:<span class="w"> </span><span class="m">3</span>.059<span class="w"> </span>GB/s
<a id="__codelineno-39-42" name="__codelineno-39-42" href="#__codelineno-39-42"></a><span class="w">    </span>Test<span class="w"> </span>lpbk<span class="o">(</span><span class="m">1</span><span class="o">)</span>:<span class="w"> </span>PASS
<a id="__codelineno-39-43" name="__codelineno-39-43" href="#__codelineno-39-43"></a>
<a id="__codelineno-39-44" name="__codelineno-39-44" href="#__codelineno-39-44"></a>
<a id="__codelineno-39-45" name="__codelineno-39-45" href="#__codelineno-39-45"></a>sudo<span class="w"> </span>host_exerciser<span class="w"> </span>--mode<span class="w"> </span>lpbk<span class="w"> </span>--cls<span class="w"> </span>cl_4<span class="w"> </span>lpbk
<a id="__codelineno-39-46" name="__codelineno-39-46" href="#__codelineno-39-46"></a><span class="c1">#output</span>
<a id="__codelineno-39-47" name="__codelineno-39-47" href="#__codelineno-39-47"></a><span class="w">    </span>starting<span class="w"> </span><span class="nb">test</span><span class="w"> </span>run,<span class="w"> </span>count<span class="w"> </span>of<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-39-48" name="__codelineno-39-48" href="#__codelineno-39-48"></a>API<span class="w"> </span>version:<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-39-49" name="__codelineno-39-49" href="#__codelineno-39-49"></a>AFU<span class="w"> </span>clock:<span class="w"> </span><span class="m">250</span><span class="w"> </span>MHz
<a id="__codelineno-39-50" name="__codelineno-39-50" href="#__codelineno-39-50"></a>Allocate<span class="w"> </span>SRC<span class="w"> </span>Buffer
<a id="__codelineno-39-51" name="__codelineno-39-51" href="#__codelineno-39-51"></a>Allocate<span class="w"> </span>DST<span class="w"> </span>Buffer
<a id="__codelineno-39-52" name="__codelineno-39-52" href="#__codelineno-39-52"></a>Allocate<span class="w"> </span>DSM<span class="w"> </span>Buffer
<a id="__codelineno-39-53" name="__codelineno-39-53" href="#__codelineno-39-53"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>Performance<span class="w"> </span>Counter:
<a id="__codelineno-39-54" name="__codelineno-39-54" href="#__codelineno-39-54"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numReads:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-39-55" name="__codelineno-39-55" href="#__codelineno-39-55"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numWrites:<span class="w"> </span><span class="m">1025</span>
<a id="__codelineno-39-56" name="__codelineno-39-56" href="#__codelineno-39-56"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-39-57" name="__codelineno-39-57" href="#__codelineno-39-57"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-39-58" name="__codelineno-39-58" href="#__codelineno-39-58"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-39-59" name="__codelineno-39-59" href="#__codelineno-39-59"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-39-60" name="__codelineno-39-60" href="#__codelineno-39-60"></a><span class="w">    </span>Number<span class="w"> </span>of<span class="w"> </span>clocks:<span class="w"> </span><span class="m">4481</span>
<a id="__codelineno-39-61" name="__codelineno-39-61" href="#__codelineno-39-61"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Reads<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-39-62" name="__codelineno-39-62" href="#__codelineno-39-62"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Writes<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-39-63" name="__codelineno-39-63" href="#__codelineno-39-63"></a><span class="w">    </span>Bandwidth:<span class="w"> </span><span class="m">3</span>.656<span class="w"> </span>GB/s
<a id="__codelineno-39-64" name="__codelineno-39-64" href="#__codelineno-39-64"></a><span class="w">    </span>Test<span class="w"> </span>lpbk<span class="o">(</span><span class="m">1</span><span class="o">)</span>:<span class="w"> </span>PASS
</code></pre></div>
<p>Interrupt tests (only valid for mode <code>mem</code>):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>sudo<span class="w"> </span>host_exerciser<span class="w"> </span>--interrupt<span class="w"> </span><span class="m">0</span><span class="w"> </span>mem
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="c1">#output</span>
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="w">    </span>starting<span class="w"> </span><span class="nb">test</span><span class="w"> </span>run,<span class="w"> </span>count<span class="w"> </span>of<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a>API<span class="w"> </span>version:<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a>AFU<span class="w"> </span>clock:<span class="w"> </span><span class="m">250</span><span class="w"> </span>MHz
<a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a>Allocate<span class="w"> </span>SRC<span class="w"> </span>Buffer
<a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a>Allocate<span class="w"> </span>DST<span class="w"> </span>Buffer
<a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a>Allocate<span class="w"> </span>DSM<span class="w"> </span>Buffer
<a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a>Using<span class="w"> </span>Interrupts
<a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>Performance<span class="w"> </span>Counter:
<a id="__codelineno-40-11" name="__codelineno-40-11" href="#__codelineno-40-11"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numReads:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-40-12" name="__codelineno-40-12" href="#__codelineno-40-12"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numWrites:<span class="w"> </span><span class="m">1026</span>
<a id="__codelineno-40-13" name="__codelineno-40-13" href="#__codelineno-40-13"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-40-14" name="__codelineno-40-14" href="#__codelineno-40-14"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-40-15" name="__codelineno-40-15" href="#__codelineno-40-15"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-40-16" name="__codelineno-40-16" href="#__codelineno-40-16"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-40-17" name="__codelineno-40-17" href="#__codelineno-40-17"></a><span class="w">    </span>Number<span class="w"> </span>of<span class="w"> </span>clocks:<span class="w"> </span><span class="m">5140</span>
<a id="__codelineno-40-18" name="__codelineno-40-18" href="#__codelineno-40-18"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Reads<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-40-19" name="__codelineno-40-19" href="#__codelineno-40-19"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Writes<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-40-20" name="__codelineno-40-20" href="#__codelineno-40-20"></a><span class="w">    </span>Bandwidth:<span class="w"> </span><span class="m">3</span>.188<span class="w"> </span>GB/s
<a id="__codelineno-40-21" name="__codelineno-40-21" href="#__codelineno-40-21"></a><span class="w">    </span>Test<span class="w"> </span>mem<span class="o">(</span><span class="m">1</span><span class="o">)</span>:<span class="w"> </span>PASS
<a id="__codelineno-40-22" name="__codelineno-40-22" href="#__codelineno-40-22"></a>
<a id="__codelineno-40-23" name="__codelineno-40-23" href="#__codelineno-40-23"></a>sudo<span class="w"> </span>host_exerciser<span class="w"> </span>--interrupt<span class="w"> </span><span class="m">1</span><span class="w"> </span>mem
<a id="__codelineno-40-24" name="__codelineno-40-24" href="#__codelineno-40-24"></a><span class="c1">#output</span>
<a id="__codelineno-40-25" name="__codelineno-40-25" href="#__codelineno-40-25"></a><span class="w">    </span>starting<span class="w"> </span><span class="nb">test</span><span class="w"> </span>run,<span class="w"> </span>count<span class="w"> </span>of<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-40-26" name="__codelineno-40-26" href="#__codelineno-40-26"></a>API<span class="w"> </span>version:<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-40-27" name="__codelineno-40-27" href="#__codelineno-40-27"></a>AFU<span class="w"> </span>clock:<span class="w"> </span><span class="m">250</span><span class="w"> </span>MHz
<a id="__codelineno-40-28" name="__codelineno-40-28" href="#__codelineno-40-28"></a>Allocate<span class="w"> </span>SRC<span class="w"> </span>Buffer
<a id="__codelineno-40-29" name="__codelineno-40-29" href="#__codelineno-40-29"></a>Allocate<span class="w"> </span>DST<span class="w"> </span>Buffer
<a id="__codelineno-40-30" name="__codelineno-40-30" href="#__codelineno-40-30"></a>Allocate<span class="w"> </span>DSM<span class="w"> </span>Buffer
<a id="__codelineno-40-31" name="__codelineno-40-31" href="#__codelineno-40-31"></a>Using<span class="w"> </span>Interrupts
<a id="__codelineno-40-32" name="__codelineno-40-32" href="#__codelineno-40-32"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>Performance<span class="w"> </span>Counter:
<a id="__codelineno-40-33" name="__codelineno-40-33" href="#__codelineno-40-33"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numReads:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-40-34" name="__codelineno-40-34" href="#__codelineno-40-34"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numWrites:<span class="w"> </span><span class="m">1026</span>
<a id="__codelineno-40-35" name="__codelineno-40-35" href="#__codelineno-40-35"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-40-36" name="__codelineno-40-36" href="#__codelineno-40-36"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-40-37" name="__codelineno-40-37" href="#__codelineno-40-37"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-40-38" name="__codelineno-40-38" href="#__codelineno-40-38"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-40-39" name="__codelineno-40-39" href="#__codelineno-40-39"></a><span class="w">    </span>Number<span class="w"> </span>of<span class="w"> </span>clocks:<span class="w"> </span><span class="m">5079</span>
<a id="__codelineno-40-40" name="__codelineno-40-40" href="#__codelineno-40-40"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Reads<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-40-41" name="__codelineno-40-41" href="#__codelineno-40-41"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Writes<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-40-42" name="__codelineno-40-42" href="#__codelineno-40-42"></a><span class="w">    </span>Bandwidth:<span class="w"> </span><span class="m">3</span>.226<span class="w"> </span>GB/s
<a id="__codelineno-40-43" name="__codelineno-40-43" href="#__codelineno-40-43"></a><span class="w">    </span>Test<span class="w"> </span>mem<span class="o">(</span><span class="m">1</span><span class="o">)</span>:<span class="w"> </span>PASS
<a id="__codelineno-40-44" name="__codelineno-40-44" href="#__codelineno-40-44"></a>
<a id="__codelineno-40-45" name="__codelineno-40-45" href="#__codelineno-40-45"></a>
<a id="__codelineno-40-46" name="__codelineno-40-46" href="#__codelineno-40-46"></a>sudo<span class="w"> </span>host_exerciser<span class="w"> </span>--interrupt<span class="w"> </span><span class="m">2</span><span class="w"> </span>mem
<a id="__codelineno-40-47" name="__codelineno-40-47" href="#__codelineno-40-47"></a><span class="c1">#output</span>
<a id="__codelineno-40-48" name="__codelineno-40-48" href="#__codelineno-40-48"></a><span class="w">    </span>starting<span class="w"> </span><span class="nb">test</span><span class="w"> </span>run,<span class="w"> </span>count<span class="w"> </span>of<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-40-49" name="__codelineno-40-49" href="#__codelineno-40-49"></a>API<span class="w"> </span>version:<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-40-50" name="__codelineno-40-50" href="#__codelineno-40-50"></a>AFU<span class="w"> </span>clock:<span class="w"> </span><span class="m">250</span><span class="w"> </span>MHz
<a id="__codelineno-40-51" name="__codelineno-40-51" href="#__codelineno-40-51"></a>Allocate<span class="w"> </span>SRC<span class="w"> </span>Buffer
<a id="__codelineno-40-52" name="__codelineno-40-52" href="#__codelineno-40-52"></a>Allocate<span class="w"> </span>DST<span class="w"> </span>Buffer
<a id="__codelineno-40-53" name="__codelineno-40-53" href="#__codelineno-40-53"></a>Allocate<span class="w"> </span>DSM<span class="w"> </span>Buffer
<a id="__codelineno-40-54" name="__codelineno-40-54" href="#__codelineno-40-54"></a>Using<span class="w"> </span>Interrupts
<a id="__codelineno-40-55" name="__codelineno-40-55" href="#__codelineno-40-55"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>Performance<span class="w"> </span>Counter:
<a id="__codelineno-40-56" name="__codelineno-40-56" href="#__codelineno-40-56"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numReads:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-40-57" name="__codelineno-40-57" href="#__codelineno-40-57"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numWrites:<span class="w"> </span><span class="m">1026</span>
<a id="__codelineno-40-58" name="__codelineno-40-58" href="#__codelineno-40-58"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-40-59" name="__codelineno-40-59" href="#__codelineno-40-59"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-40-60" name="__codelineno-40-60" href="#__codelineno-40-60"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-40-61" name="__codelineno-40-61" href="#__codelineno-40-61"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-40-62" name="__codelineno-40-62" href="#__codelineno-40-62"></a><span class="w">    </span>Number<span class="w"> </span>of<span class="w"> </span>clocks:<span class="w"> </span><span class="m">5525</span>
<a id="__codelineno-40-63" name="__codelineno-40-63" href="#__codelineno-40-63"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Reads<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-40-64" name="__codelineno-40-64" href="#__codelineno-40-64"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Writes<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-40-65" name="__codelineno-40-65" href="#__codelineno-40-65"></a><span class="w">    </span>Bandwidth:<span class="w"> </span><span class="m">3</span>.439<span class="w"> </span>GB/s
<a id="__codelineno-40-66" name="__codelineno-40-66" href="#__codelineno-40-66"></a><span class="w">    </span>Test<span class="w"> </span>mem<span class="o">(</span><span class="m">1</span><span class="o">)</span>:<span class="w"> </span>PASS
<a id="__codelineno-40-67" name="__codelineno-40-67" href="#__codelineno-40-67"></a>
<a id="__codelineno-40-68" name="__codelineno-40-68" href="#__codelineno-40-68"></a>
<a id="__codelineno-40-69" name="__codelineno-40-69" href="#__codelineno-40-69"></a>sudo<span class="w"> </span>host_exerciser<span class="w"> </span>--interrupt<span class="w"> </span><span class="m">3</span><span class="w"> </span>mem
<a id="__codelineno-40-70" name="__codelineno-40-70" href="#__codelineno-40-70"></a><span class="c1">#output</span>
<a id="__codelineno-40-71" name="__codelineno-40-71" href="#__codelineno-40-71"></a><span class="w">    </span>starting<span class="w"> </span><span class="nb">test</span><span class="w"> </span>run,<span class="w"> </span>count<span class="w"> </span>of<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-40-72" name="__codelineno-40-72" href="#__codelineno-40-72"></a>API<span class="w"> </span>version:<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-40-73" name="__codelineno-40-73" href="#__codelineno-40-73"></a>AFU<span class="w"> </span>clock:<span class="w"> </span><span class="m">250</span><span class="w"> </span>MHz
<a id="__codelineno-40-74" name="__codelineno-40-74" href="#__codelineno-40-74"></a>Allocate<span class="w"> </span>SRC<span class="w"> </span>Buffer
<a id="__codelineno-40-75" name="__codelineno-40-75" href="#__codelineno-40-75"></a>Allocate<span class="w"> </span>DST<span class="w"> </span>Buffer
<a id="__codelineno-40-76" name="__codelineno-40-76" href="#__codelineno-40-76"></a>Allocate<span class="w"> </span>DSM<span class="w"> </span>Buffer
<a id="__codelineno-40-77" name="__codelineno-40-77" href="#__codelineno-40-77"></a>Using<span class="w"> </span>Interrupts
<a id="__codelineno-40-78" name="__codelineno-40-78" href="#__codelineno-40-78"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>Performance<span class="w"> </span>Counter:
<a id="__codelineno-40-79" name="__codelineno-40-79" href="#__codelineno-40-79"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numReads:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-40-80" name="__codelineno-40-80" href="#__codelineno-40-80"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numWrites:<span class="w"> </span><span class="m">1026</span>
<a id="__codelineno-40-81" name="__codelineno-40-81" href="#__codelineno-40-81"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-40-82" name="__codelineno-40-82" href="#__codelineno-40-82"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-40-83" name="__codelineno-40-83" href="#__codelineno-40-83"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-40-84" name="__codelineno-40-84" href="#__codelineno-40-84"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-40-85" name="__codelineno-40-85" href="#__codelineno-40-85"></a><span class="w">    </span>Number<span class="w"> </span>of<span class="w"> </span>clocks:<span class="w"> </span><span class="m">4735</span>
<a id="__codelineno-40-86" name="__codelineno-40-86" href="#__codelineno-40-86"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Reads<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-40-87" name="__codelineno-40-87" href="#__codelineno-40-87"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Writes<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-40-88" name="__codelineno-40-88" href="#__codelineno-40-88"></a><span class="w">    </span>Bandwidth:<span class="w"> </span><span class="m">3</span>.460<span class="w"> </span>GB/s
<a id="__codelineno-40-89" name="__codelineno-40-89" href="#__codelineno-40-89"></a><span class="w">    </span>Test<span class="w"> </span>mem<span class="o">(</span><span class="m">1</span><span class="o">)</span>:<span class="w"> </span>PASS
</code></pre></div>
<p><strong>HE-HSSI</strong></p>
<p>HE-HSSI is responsible for handling client-side ethernet traffic. It wraps the 10G ethernet <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> and includes a 10G traffic generator and checker. The user-space tool <code>hssi</code> exports a control interface to the HE-HSSI's <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr>'s packet generator logic. Context sensitive information is given by the <code>hssi --help</code> command. Help for the 10G specific test is given by <code>hssi hssi_10g --help</code> Example useage:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a>sudo<span class="w"> </span>hssi<span class="w"> </span>--pci-address<span class="w"> </span>3b:00.3<span class="w"> </span>hssi_10g<span class="w"> </span>--eth-ifc<span class="w"> </span>s10hssi0<span class="w"> </span>--eth-loopback<span class="w"> </span>on<span class="w"> </span>--he-loopback<span class="o">=</span>off<span class="w">  </span>--num-packets<span class="w"> </span><span class="m">100</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="c1">#output</span>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a>10G<span class="w"> </span>loopback<span class="w"> </span><span class="nb">test</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="w">  </span>port:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="w">  </span>eth_loopback:<span class="w"> </span>on
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="w">  </span>he_loopback:<span class="w"> </span>off
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="w">  </span>num_packets:<span class="w"> </span><span class="m">100</span>
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="w">  </span>packet_length:<span class="w"> </span><span class="m">64</span>
<a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a><span class="w">  </span>src_address:<span class="w"> </span><span class="m">11</span>:22:33:44:55:66
<a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a><span class="w">    </span><span class="o">(</span>bits<span class="o">)</span>:<span class="w">  </span>0x665544332211
<a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a><span class="w">  </span>dest_address:<span class="w"> </span><span class="m">77</span>:88:99:aa:bb:cc
<a id="__codelineno-41-12" name="__codelineno-41-12" href="#__codelineno-41-12"></a><span class="w">    </span><span class="o">(</span>bits<span class="o">)</span>:<span class="w"> </span>0xccbbaa998877
<a id="__codelineno-41-13" name="__codelineno-41-13" href="#__codelineno-41-13"></a><span class="w">  </span>random_length:<span class="w"> </span>fixed
<a id="__codelineno-41-14" name="__codelineno-41-14" href="#__codelineno-41-14"></a><span class="w">  </span>random_payload:<span class="w"> </span>incremental
<a id="__codelineno-41-15" name="__codelineno-41-15" href="#__codelineno-41-15"></a><span class="w">  </span>rnd_seed0:<span class="w"> </span>5eed0000
<a id="__codelineno-41-16" name="__codelineno-41-16" href="#__codelineno-41-16"></a><span class="w">  </span>rnd_seed1:<span class="w"> </span>5eed0001
<a id="__codelineno-41-17" name="__codelineno-41-17" href="#__codelineno-41-17"></a><span class="w">  </span>rnd_seed2:<span class="w"> </span>25eed
<a id="__codelineno-41-18" name="__codelineno-41-18" href="#__codelineno-41-18"></a><span class="w">  </span>eth:<span class="w"> </span>s10hssi0
</code></pre></div>
<h2 id="60-compiling-ofs-fim"><strong>6.0 Compiling <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr></strong><a class="headerlink" href="#60-compiling-ofs-fim" title="Permanent link">&para;</a></h2>
<p>Pre-Compiled <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> binaries are at <a href="https://github.com/OFS/ofs-d5005/releases/tag/ofs-2023.1-1"><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> 2023.1 release page</a> and to compile the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> for Intel® FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005 follow the below steps :</p>
<p>1) Compile <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> manually - Steps are provided in the developer guide to compile <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> and generate binaries. Refer to <a href="https://ofs.github.io/hw/d5005/dev_guides/fim_dev/ug_dev_fim_ofs_d5005/">Intel® FPGA Interface Manager Developer Guide: Open Stack for Intel® Stratix 10®</a>.</p>
<p>2) Compile <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> using evaluation script - The script guides you to the steps required for compilation via selecting options from the menu. Refer to <a href="https://github.com/OFS/ofs-d5005/tree/release/1.0.x/eval_scripts">evaluation script</a></p>
<h2 id="notices-disclaimers">Notices &amp; Disclaimers<a class="headerlink" href="#notices-disclaimers" title="Permanent link">&para;</a></h2>
<p>Intel<sup>&reg;</sup> technologies may require enabled hardware, software or service activation.
No product or component can be absolutely secure. 
Performance varies by use, configuration and other factors.
Your costs and results may vary. 
You may not use or facilitate the use of this document in connection with any infringement or other legal analysis concerning Intel products described herein. You agree to grant Intel a non-exclusive, royalty-free license to any patent claim thereafter drafted which includes subject matter disclosed herein.
No license (express or implied, by estoppel or otherwise) to any intellectual property rights is granted by this document, with the sole exception that you may publish an unmodified copy. You may create software implementations based on this document and in compliance with the foregoing that are intended to execute on the Intel product(s) referenced in this document. No rights are granted to create modifications or derivatives of this document.
The products described may contain design defects or errors known as errata which may cause the product to deviate from published specifications.  Current characterized errata are available on request.
Intel disclaims all express and implied warranties, including without limitation, the implied warranties of merchantability, fitness for a particular purpose, and non-infringement, as well as any warranty arising from course of performance, course of dealing, or usage in trade.
You are responsible for safety of the overall system, including compliance with applicable safety-related requirements or standards. 
<sup>&copy;</sup> Intel Corporation.  Intel, the Intel logo, and other Intel marks are trademarks of Intel Corporation or its subsidiaries.  Other names and brands may be claimed as the property of others. </p>
<p>OpenCL and the OpenCL logo are trademarks of Apple Inc. used by permission of the Khronos Group™.   </p>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.indexes", "search.suggest", "search.highlight", "content.code.copy", "navigation.indexes", "toc.follow"], "search": "../../../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.fac441b0.min.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>