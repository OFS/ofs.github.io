
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../ug_eval_ofs/ug_eval_script_ofs_f2000x/">
      
      
        <link rel="next" href="../../../../common/reference_manual/ofs_sw/mnl_sw_ofs/">
      
      <link rel="icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.9">
    
    
      
        <title>Getting Started - OFS</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.85bb2934.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../../../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ofs-getting-started-guide-for-intel-agilex-soc-attach-fpgas" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="OFS" class="md-header__button md-logo" aria-label="OFS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OFS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Getting Started
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ofs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ofs
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../../.." class="md-tabs__link">
      Welcome
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../d5005/user_guides/ug_eval_ofs_d5005/ug_eval_script_ofs_d5005/" class="md-tabs__link">
        Stratix 10 PCIe Attach OFS
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../n6001/user_guides/ug_eval_ofs_n6001/ug_eval_script_ofs_n6001/" class="md-tabs__link">
        Agilex PCIe Attach OFS
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../ug_eval_ofs/ug_eval_script_ofs_f2000x/" class="md-tabs__link md-tabs__link--active">
        Agilex SoC Attach OFS
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../common/user_guides/oneapi_asp/ug_oneapi_asp/" class="md-tabs__link">
        oneAPI
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../sw/fpga_api/quick_start/readme/" class="md-tabs__link">
        OFS Software
      </a>
    </li>
  

  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="OFS" class="md-nav__button md-logo" aria-label="OFS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    OFS
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ofs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ofs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Stratix 10 PCIe Attach OFS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Stratix 10 PCIe Attach OFS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../d5005/user_guides/ug_eval_ofs_d5005/ug_eval_script_ofs_d5005/" class="md-nav__link">
        Quick Start Evaluation Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../d5005/user_guides/ug_qs_ofs_d5005/ug_qs_ofs_d5005/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/reference_manual/ofs_sw/mnl_sw_ofs/" class="md-nav__link">
        Software Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../d5005/reference_manuals/ofs_fim/mnl_fim_ofs_d5005/" class="md-nav__link">
        FPGA Interface Manager Technical Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../d5005/dev_guides/fim_dev/ug_dev_fim_ofs_d5005/" class="md-nav__link">
        FPGA Interface Manager Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../d5005/dev_guides/afu_dev/ug_dev_afu_d5005/" class="md-nav__link">
        AFU Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../d5005/user_guides/ug_sim_ofs_d5005/ug_sim_ofs_d5005/" class="md-nav__link">
        Simulation User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_docker/ug_docker/" class="md-nav__link">
        Docker User guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_kvm/ug_kvm/" class="md-nav__link">
        KVM User guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../d5005/doc_modules/Glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Agilex PCIe Attach OFS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Agilex PCIe Attach OFS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/user_guides/ug_eval_ofs_n6001/ug_eval_script_ofs_n6001/" class="md-nav__link">
        Quick Start Evaluation Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/user_guides/ug_qs_ofs_n6001/ug_qs_ofs_n6001/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/reference_manual/ofs_sw/mnl_sw_ofs/" class="md-nav__link">
        Software Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/reference_manuals/ofs_fim/mnl_fim_ofs_n6001/" class="md-nav__link">
        FPGA Interface Manager Technical Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/dev_guides/fim_dev/ug_dev_fim_ofs_n6001/" class="md-nav__link">
        FPGA Interface Manager Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/dev_guides/afu_dev/ug_dev_afu_ofs_n6001/" class="md-nav__link">
        AFU Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/dev_guides/hps_dev/hps_developer_ug/" class="md-nav__link">
        HPS Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/user_guides/ug_sim_ofs_n6001/ug_sim_ofs_n6001/" class="md-nav__link">
        Simulation User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_docker/ug_docker/" class="md-nav__link">
        Docker User guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_kvm/ug_kvm/" class="md-nav__link">
        KVM User guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/doc_modules/Glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Agilex SoC Attach OFS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Agilex SoC Attach OFS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ug_eval_ofs/ug_eval_script_ofs_f2000x/" class="md-nav__link">
        Quick Start Evaluation Guide
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Getting Started
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#10-about-this-document" class="md-nav__link">
    1.0 About this Document
  </a>
  
    <nav class="md-nav" aria-label="1.0 About this Document">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-audience" class="md-nav__link">
    1.1 Audience
  </a>
  
    <nav class="md-nav" aria-label="1.1 Audience">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-1-terminology" class="md-nav__link">
    Table 1: Terminology
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-2-related-documentation" class="md-nav__link">
    Table 2: Related Documentation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-3-related-repositories" class="md-nav__link">
    Table 3: Related Repositories
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-4-software-and-firmware-component-version-summary-for-soc-attach" class="md-nav__link">
    Table 4: Software and Firmware Component Version Summary for SoC Attach
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-server-requirements" class="md-nav__link">
    1.2 Server Requirements
  </a>
  
    <nav class="md-nav" aria-label="1.2 Server Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121-host-server-specifications" class="md-nav__link">
    1.2.1 Host Server Specifications
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122-host-bios" class="md-nav__link">
    1.2.2 Host BIOS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#123-host-server-kernel-and-grub-configuration" class="md-nav__link">
    1.2.3 Host Server Kernel and GRUB Configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-server-forced-air-cooling" class="md-nav__link">
    1.3 Server Forced Air Cooling
  </a>
  
    <nav class="md-nav" aria-label="1.3 Server Forced Air Cooling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-5-thermal-terms-and-descriptions" class="md-nav__link">
    Table 5: Thermal Terms and Descriptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-external-connections" class="md-nav__link">
    1.4 External Connections
  </a>
  
    <nav class="md-nav" aria-label="1.4 External Connections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#figure-1-external-connections" class="md-nav__link">
    Figure 1: External Connections
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-6-external-connection-cables" class="md-nav__link">
    Table 6: External Connection Cables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-preparing-the-intel-ipu-platform-f2000x-pl-for-installation" class="md-nav__link">
    1.5 Preparing the Intel IPU Platform F2000X-PL for Installation
  </a>
  
    <nav class="md-nav" aria-label="1.5 Preparing the Intel IPU Platform F2000X-PL for Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-7-switch-settings" class="md-nav__link">
    Table 7: Switch Settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#figure-2-board-switch-settings" class="md-nav__link">
    Figure 2: Board Switch Settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#151-usb-to-serial-adapter" class="md-nav__link">
    1.5.1 USB to Serial Adapter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#figure-3-cable-routing" class="md-nav__link">
    Figure 3: Cable Routing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#figure-4-usb-to-serial-adapter-connection" class="md-nav__link">
    Figure 4: USB to Serial Adapter connection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#152-ipu-jtag" class="md-nav__link">
    1.5.2 IPU JTAG
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#figure-5-usb-blaster-ii-connection" class="md-nav__link">
    Figure 5: USB Blaster II Connection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#figure-6-usb-blaster-ii-installation" class="md-nav__link">
    Figure 6: USB Blaster II Installation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#153-power" class="md-nav__link">
    1.5.3 Power
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#figure-7-12v-pcie-aux-connector-location" class="md-nav__link">
    Figure 7: 12V PCIe AUX Connector Location
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-8-12v-2x3-aux-connector-pin-out" class="md-nav__link">
    Table 8: 12V (2x3) AUX Connector Pin Out
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#figure-8-auxiliary-power-connection" class="md-nav__link">
    Figure 8: Auxiliary Power Connection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#154-usb-hub-connection" class="md-nav__link">
    1.5.4 USB Hub Connection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#figure-9-usb-hub-connection" class="md-nav__link">
    Figure 9: USB Hub Connection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#155-creating-a-bootable-usb-flash-drive-for-the-soc" class="md-nav__link">
    1.5.5 Creating a Bootable USB Flash Drive for the SoC
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#20-updating-the-intel-ipu-platform-f2000x-pl" class="md-nav__link">
    2.0 Updating the Intel IPU Platform F2000X-PL
  </a>
  
    <nav class="md-nav" aria-label="2.0 Updating the Intel IPU Platform F2000X-PL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-9-intel-ipu-platform-f2000x-pl-fw-components" class="md-nav__link">
    Table 9: Intel IPU Platform F2000X-PL FW Components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#21-updating-the-f2000x-pl-icx-d-soc-nvme" class="md-nav__link">
    2.1 Updating the F2000X-PL ICX-D SoC NVMe
  </a>
  
    <nav class="md-nav" aria-label="2.1 Updating the F2000X-PL ICX-D SoC NVMe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#211-setting-the-time" class="md-nav__link">
    2.1.1 Setting the Time
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#30-updating-the-intel-ipu-platform-f2000x-pl" class="md-nav__link">
    3.0 Updating the Intel IPU Platform F2000X-PL
  </a>
  
    <nav class="md-nav" aria-label="3.0 Updating the Intel IPU Platform F2000X-PL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-preparing-the-intel-ipu-platform-f2000x-pl-soc-for-updates" class="md-nav__link">
    3.1 Preparing the Intel IPU Platform F2000X-PL SoC for Updates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-updating-fim-bmc-and-afu-with-fpgasupdate" class="md-nav__link">
    3.2 Updating FIM, BMC and AFU with fpgasupdate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-loading-images-with-rsu" class="md-nav__link">
    3.3 Loading images with rsu
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-updating-the-icx-d-soc-bios" class="md-nav__link">
    3.4 Updating the ICX-D SoC BIOS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#40-compiling-a-custom-yocto-soc-image" class="md-nav__link">
    4.0 Compiling a Custom Yocto SoC Image
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#50-verifying-the-icx-d-soc-opae-sdk" class="md-nav__link">
    5.0 Verifying the ICX-D SoC OPAE SDK
  </a>
  
    <nav class="md-nav" aria-label="5.0 Verifying the ICX-D SoC OPAE SDK">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-checking-telemetry-with-fpgainfo" class="md-nav__link">
    5.1 Checking Telemetry with fpgainfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-host-exercisers" class="md-nav__link">
    5.2 Host Exercisers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-additional-opae-sdk-utilities" class="md-nav__link">
    5.3 Additional OPAE SDK Utilities
  </a>
  
    <nav class="md-nav" aria-label="5.3 Additional OPAE SDK Utilities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-6-opae-sdk-utilities" class="md-nav__link">
    Table 6: OPAE SDK Utilities
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#60-setting-up-the-host" class="md-nav__link">
    6.0 Setting up the Host
  </a>
  
    <nav class="md-nav" aria-label="6.0 Setting up the Host">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-installing-the-opae-sdk-on-the-host" class="md-nav__link">
    6.1 Installing the OPAE SDK On the Host
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-verifying-the-soc-attach-solution-on-the-host" class="md-nav__link">
    6.2 Verifying the SoC Attach Solution on the Host
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/reference_manual/ofs_sw/mnl_sw_ofs/" class="md-nav__link">
        Software Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference_manuals/ofs_fim/mnl_fim_ofs/" class="md-nav__link">
        FPGA Interface Manager Technical Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev_guides/fim_dev/ug_dev_fim_ofs_f2000x/" class="md-nav__link">
        FPGA Interface Manager Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev_guides/afu_dev/ug_dev_afu_ofs_f2000x/" class="md-nav__link">
        AFU Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ug_sim_ofs/ug_sim_ofs/" class="md-nav__link">
        Simulation User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_docker/ug_docker/" class="md-nav__link">
        Docker User guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_kvm/ug_kvm/" class="md-nav__link">
        KVM User guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc_modules/Glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          oneAPI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          oneAPI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/oneapi_asp/ug_oneapi_asp/" class="md-nav__link">
        oneAPI ASP Getting Started User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/reference_manual/oneapi_asp/oneapi_asp_ref_mnl/" class="md-nav__link">
        oneAPI Accelerator Support Package(ASP) Reference Manual
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          OFS Software
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          OFS Software
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
          OPAE USER GUIDES
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_1">
          <span class="md-nav__icon md-icon"></span>
          OPAE USER GUIDES
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_api/quick_start/readme/" class="md-nav__link">
        Quick Start Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/install_guide/installation_guide/" class="md-nav__link">
        OPAE Installation Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_api/prog_guide/readme/" class="md-nav__link">
        OPAE C API Programming Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/pyopae/python_bindings/" class="md-nav__link">
        OPAE Python Bindings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_api/plug_guide/readme/" class="md-nav__link">
        OPAE Plugin Developers Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
          OPAE LIBRARIES
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          OPAE LIBRARIES
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_api/fpga_api/" class="md-nav__link">
        OPAE C API Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_api/fpga_cxx_api/" class="md-nav__link">
        OPAE C++ Core API Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_api/fpga_python_api/" class="md-nav__link">
        OPAE Python API Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_api/plug_guide/readme/" class="md-nav__link">
        OPAE Plugin Developers Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
          OPAE LINUX KERNEL DRIVERS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          OPAE LINUX KERNEL DRIVERS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/drv_arch/drv_arch/" class="md-nav__link">
        Open Programmable Accelerator Engine (OPAE) Linux Device Driver Architecture
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../../sw/fpga_tools/fpgadiag/">OPAE FPGA TOOLS</a>
          
            <label for="__nav_6_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_4">
          <span class="md-nav__icon md-icon"></span>
          OPAE FPGA TOOLS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/fpgaconf/fpgaconf/" class="md-nav__link">
        fpgaconf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/fpgainfo/fpgainfo/" class="md-nav__link">
        fpgainfo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/fpgasupdate/fpgasupdate/" class="md-nav__link">
        fpgasupdate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/mmlink/mmlink/" class="md-nav__link">
        mmlink
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/packager/packager/" class="md-nav__link">
        packager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/userclk/userclk/" class="md-nav__link">
        userclk
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/hssi/hssi/" class="md-nav__link">
        hssi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/pci_device/pci_device/" class="md-nav__link">
        pci_device
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/opae.io/opae.io/" class="md-nav__link">
        opae.io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/rsu/rsu/" class="md-nav__link">
        rsu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/host_exerciser/host_exerciser/" class="md-nav__link">
        host_exerciser
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/hssi_ethernet/hssistats/" class="md-nav__link">
        HSSI ethernet statistics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/hssi_ethernet/hssimac/" class="md-nav__link">
        HSSI ethernet mac
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/hssi_ethernet/hssiloopback/" class="md-nav__link">
        HSSI ethernet loopback
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/mem_tg/mem_tg/" class="md-nav__link">
        mem_tg
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/vabtool/vabtool/" class="md-nav__link">
        vabtool
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/opaevfio/opaevfio/" class="md-nav__link">
        opaevfio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/ofs.uio/ofs.uio/" class="md-nav__link">
        ofs.uio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/opaeuio/opaeuio/" class="md-nav__link">
        opaeuio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/fpgad/fpgad/" class="md-nav__link">
        fpgad
      </a>
    </li>
  

            
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#10-about-this-document" class="md-nav__link">
    1.0 About this Document
  </a>
  
    <nav class="md-nav" aria-label="1.0 About this Document">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-audience" class="md-nav__link">
    1.1 Audience
  </a>
  
    <nav class="md-nav" aria-label="1.1 Audience">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-1-terminology" class="md-nav__link">
    Table 1: Terminology
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-2-related-documentation" class="md-nav__link">
    Table 2: Related Documentation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-3-related-repositories" class="md-nav__link">
    Table 3: Related Repositories
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-4-software-and-firmware-component-version-summary-for-soc-attach" class="md-nav__link">
    Table 4: Software and Firmware Component Version Summary for SoC Attach
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-server-requirements" class="md-nav__link">
    1.2 Server Requirements
  </a>
  
    <nav class="md-nav" aria-label="1.2 Server Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121-host-server-specifications" class="md-nav__link">
    1.2.1 Host Server Specifications
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122-host-bios" class="md-nav__link">
    1.2.2 Host BIOS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#123-host-server-kernel-and-grub-configuration" class="md-nav__link">
    1.2.3 Host Server Kernel and GRUB Configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-server-forced-air-cooling" class="md-nav__link">
    1.3 Server Forced Air Cooling
  </a>
  
    <nav class="md-nav" aria-label="1.3 Server Forced Air Cooling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-5-thermal-terms-and-descriptions" class="md-nav__link">
    Table 5: Thermal Terms and Descriptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-external-connections" class="md-nav__link">
    1.4 External Connections
  </a>
  
    <nav class="md-nav" aria-label="1.4 External Connections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#figure-1-external-connections" class="md-nav__link">
    Figure 1: External Connections
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-6-external-connection-cables" class="md-nav__link">
    Table 6: External Connection Cables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-preparing-the-intel-ipu-platform-f2000x-pl-for-installation" class="md-nav__link">
    1.5 Preparing the Intel IPU Platform F2000X-PL for Installation
  </a>
  
    <nav class="md-nav" aria-label="1.5 Preparing the Intel IPU Platform F2000X-PL for Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-7-switch-settings" class="md-nav__link">
    Table 7: Switch Settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#figure-2-board-switch-settings" class="md-nav__link">
    Figure 2: Board Switch Settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#151-usb-to-serial-adapter" class="md-nav__link">
    1.5.1 USB to Serial Adapter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#figure-3-cable-routing" class="md-nav__link">
    Figure 3: Cable Routing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#figure-4-usb-to-serial-adapter-connection" class="md-nav__link">
    Figure 4: USB to Serial Adapter connection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#152-ipu-jtag" class="md-nav__link">
    1.5.2 IPU JTAG
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#figure-5-usb-blaster-ii-connection" class="md-nav__link">
    Figure 5: USB Blaster II Connection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#figure-6-usb-blaster-ii-installation" class="md-nav__link">
    Figure 6: USB Blaster II Installation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#153-power" class="md-nav__link">
    1.5.3 Power
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#figure-7-12v-pcie-aux-connector-location" class="md-nav__link">
    Figure 7: 12V PCIe AUX Connector Location
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-8-12v-2x3-aux-connector-pin-out" class="md-nav__link">
    Table 8: 12V (2x3) AUX Connector Pin Out
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#figure-8-auxiliary-power-connection" class="md-nav__link">
    Figure 8: Auxiliary Power Connection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#154-usb-hub-connection" class="md-nav__link">
    1.5.4 USB Hub Connection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#figure-9-usb-hub-connection" class="md-nav__link">
    Figure 9: USB Hub Connection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#155-creating-a-bootable-usb-flash-drive-for-the-soc" class="md-nav__link">
    1.5.5 Creating a Bootable USB Flash Drive for the SoC
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#20-updating-the-intel-ipu-platform-f2000x-pl" class="md-nav__link">
    2.0 Updating the Intel IPU Platform F2000X-PL
  </a>
  
    <nav class="md-nav" aria-label="2.0 Updating the Intel IPU Platform F2000X-PL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-9-intel-ipu-platform-f2000x-pl-fw-components" class="md-nav__link">
    Table 9: Intel IPU Platform F2000X-PL FW Components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#21-updating-the-f2000x-pl-icx-d-soc-nvme" class="md-nav__link">
    2.1 Updating the F2000X-PL ICX-D SoC NVMe
  </a>
  
    <nav class="md-nav" aria-label="2.1 Updating the F2000X-PL ICX-D SoC NVMe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#211-setting-the-time" class="md-nav__link">
    2.1.1 Setting the Time
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#30-updating-the-intel-ipu-platform-f2000x-pl" class="md-nav__link">
    3.0 Updating the Intel IPU Platform F2000X-PL
  </a>
  
    <nav class="md-nav" aria-label="3.0 Updating the Intel IPU Platform F2000X-PL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-preparing-the-intel-ipu-platform-f2000x-pl-soc-for-updates" class="md-nav__link">
    3.1 Preparing the Intel IPU Platform F2000X-PL SoC for Updates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-updating-fim-bmc-and-afu-with-fpgasupdate" class="md-nav__link">
    3.2 Updating FIM, BMC and AFU with fpgasupdate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-loading-images-with-rsu" class="md-nav__link">
    3.3 Loading images with rsu
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-updating-the-icx-d-soc-bios" class="md-nav__link">
    3.4 Updating the ICX-D SoC BIOS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#40-compiling-a-custom-yocto-soc-image" class="md-nav__link">
    4.0 Compiling a Custom Yocto SoC Image
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#50-verifying-the-icx-d-soc-opae-sdk" class="md-nav__link">
    5.0 Verifying the ICX-D SoC OPAE SDK
  </a>
  
    <nav class="md-nav" aria-label="5.0 Verifying the ICX-D SoC OPAE SDK">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-checking-telemetry-with-fpgainfo" class="md-nav__link">
    5.1 Checking Telemetry with fpgainfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-host-exercisers" class="md-nav__link">
    5.2 Host Exercisers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-additional-opae-sdk-utilities" class="md-nav__link">
    5.3 Additional OPAE SDK Utilities
  </a>
  
    <nav class="md-nav" aria-label="5.3 Additional OPAE SDK Utilities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-6-opae-sdk-utilities" class="md-nav__link">
    Table 6: OPAE SDK Utilities
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#60-setting-up-the-host" class="md-nav__link">
    6.0 Setting up the Host
  </a>
  
    <nav class="md-nav" aria-label="6.0 Setting up the Host">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-installing-the-opae-sdk-on-the-host" class="md-nav__link">
    6.1 Installing the OPAE SDK On the Host
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-verifying-the-soc-attach-solution-on-the-host" class="md-nav__link">
    6.2 Verifying the SoC Attach Solution on the Host
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="ofs-getting-started-guide-for-intel-agilex-soc-attach-fpgas"><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Getting Started Guide for Intel Agilex SoC Attach FPGAs<a class="headerlink" href="#ofs-getting-started-guide-for-intel-agilex-soc-attach-fpgas" title="Permanent link">&para;</a></h1>
<p>Last updated: <strong>August 01, 2023</strong> </p>
<h2 id="10-about-this-document">1.0 About this Document<a class="headerlink" href="#10-about-this-document" title="Permanent link">&para;</a></h2>
<p>The purpose of this document is to help users get started in evaluating the 2023.1 version of the SoC Attach release targeting the Intel® Infrastructure Processing Unit (Intel® IPU) Platform F2000X-PL. After reviewing this document, a user shall be able to:</p>
<ul>
<li>Set up their server environment according to the Best Known Configuration (<abbr title="Best Known Configuration, The exact hardware configuration Intel has optimized and validated the solution against.">BKC</abbr>)</li>
<li>Build a Yocto image with the <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> and Linux <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> Drivers included</li>
<li>Load and verify firmware targeting the SR and <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> regions of the board, the <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr>, and the ICX-D SoC NVMe and BIOS</li>
<li>Verify full stack functionality offered by the SoC Attach <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> solution</li>
<li>Know where to find additional information on other SoC Attach ingredients</li>
</ul>
<h3 id="11-audience">1.1 Audience<a class="headerlink" href="#11-audience" title="Permanent link">&para;</a></h3>
<p>The information in this document is intended for customers evaluating the Intel IPU Platform F2000X-PL. The card is an acceleration development platform (ADP) intended to be used as a starting point for evaluation and development. This document will cover key topics related to initial bring up and development of the Intel IPU Platform F2000X-PL, with links for deeper dives on the topics discussed therein.</p>
<p><em>Note:</em> Code command blocks are used throughout the document. Commands that are intended for you to run are preceded with the symbol '$', and comments with '#'. Full command output may not be shown.</p>
<h4 id="table-1-terminology">Table 1: Terminology<a class="headerlink" href="#table-1-terminology" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Term</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><abbr title="Advanced Error Reporting, The PCIe AER driver is the extended PCI Express error reporting capability providing more robust error reporting.">AER</abbr></td>
<td>Advanced Error Reporting, The PCIe <abbr title="Advanced Error Reporting, The PCIe AER driver is the extended PCI Express error reporting capability providing more robust error reporting.">AER</abbr> driver is the extended PCI Express error reporting capability providing more robust error reporting.</td>
</tr>
<tr>
<td><abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr></td>
<td>Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> region is the part of the design where an <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> may reside. This <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> may or may not be a partial reconfiguration region</td>
</tr>
<tr>
<td><abbr title="Basic Building Block, Features within an AFU or part of an FPGA interface that can be reused across designs. These building blocks do not have stringent interface requirements like the FIM's AFU and host interface requires. All BBBs must have a (globally unique identifier) GUID.">BBB</abbr></td>
<td>Basic Building Block, Features within an <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> or part of an FPGA interface that can be reused across designs. These building blocks do not have stringent interface requirements like the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr>'s <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> and host interface requires. All BBBs must have a (globally unique identifier) GUID.</td>
</tr>
<tr>
<td><abbr title="Best Known Configuration, The exact hardware configuration Intel has optimized and validated the solution against.">BKC</abbr></td>
<td>Best Known Configuration, The exact hardware configuration Intel has optimized and validated the solution against.</td>
</tr>
<tr>
<td><abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr></td>
<td>Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> platform. Supports features such as power sequence management and board monitoring through on-board sensors.</td>
</tr>
<tr>
<td>CSR</td>
<td>Command/status registers (CSR) and software interface, <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> uses a defined set of CSR's to expose the functionality of the FPGA to the host software.</td>
</tr>
<tr>
<td><abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr></td>
<td>Device Feature List, A concept inherited from <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>. The <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> drivers provide support for FPGA devices that are designed to support the Device Feature List. The <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr>, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> driver to automatically load the drivers required for a given FPGA configuration.</td>
</tr>
<tr>
<td><abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr></td>
<td>FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> resides in the static region of the FPGA and contains the FPGA Management Engine (<abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr>) and I/O ring.</td>
</tr>
<tr>
<td><abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr></td>
<td>FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.</td>
</tr>
<tr>
<td><abbr title="Host Exerciser Module, Host exercisers are used to exercise and characterize the various host-FPGA interactions, including Memory Mapped Input/Output (MMIO), data transfer from host to FPGA, PR, host to FPGA memory, etc.">HEM</abbr></td>
<td>Host Exerciser Module, Host exercisers are used to exercise and characterize the various host-FPGA interactions, including Memory Mapped Input/Output (<abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr>), data transfer from host to FPGA, <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr>, host to FPGA memory, etc.</td>
</tr>
<tr>
<td><abbr title="Intel Virtualization Technology for Directed I/O, Extension of the VT-x and VT-I processor virtualization technologies which adds new support for I/O device virtualization.">Intel VT-d</abbr></td>
<td>Intel Virtualization Technology for Directed I/O, Extension of the VT-x and VT-I processor virtualization technologies which adds new support for I/O device virtualization.</td>
</tr>
<tr>
<td><abbr title="Input/Output Control, System calls used to manipulate underlying device parameters of special files.">IOCTL</abbr></td>
<td>Input/Output Control, System calls used to manipulate underlying device parameters of special files.</td>
</tr>
<tr>
<td><abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr></td>
<td>Joint Test Action Group, Refers to the IEEE 1149.1 <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr> standard; Another FPGA configuration methodology.</td>
</tr>
<tr>
<td><abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr></td>
<td>Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.</td>
</tr>
<tr>
<td><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr></td>
<td>Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> and software developers to optimize and reuse their designs.</td>
</tr>
<tr>
<td><abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr></td>
<td>Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.</td>
</tr>
<tr>
<td><abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr></td>
<td>Programmable Acceleration Card: FPGA based Accelerator card</td>
</tr>
<tr>
<td><abbr title="Platform Interface Manager, An interface manager that comprises two components: a configurable platform specific interface for board developers and a collection of shims that AFU developers can use to handle clock crossing, response sorting, buffering and different protocols.">PIM</abbr></td>
<td>Platform Interface Manager, An interface manager that comprises two components: a configurable platform specific interface for board developers and a collection of shims that <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> developers can use to handle clock crossing, response sorting, buffering and different protocols.</td>
</tr>
<tr>
<td><abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr></td>
<td>Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr>, a <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> bitstream refers to an Intel FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr>. Refer to <a href="https://www.intel.com/content/www/us/en/programmable/products/design-software/fpga-design/quartus-prime/features/partial-reconfiguration.html">Partial Reconfiguration</a> support page.</td>
</tr>
<tr>
<td><abbr title="Remote System Update, A Remote System Update operation sends an instruction to the Intel FPGA PAC D5005 device that triggers a power cycle of the card only, forcing reconfiguration.">RSU</abbr></td>
<td>Remote System Update, A Remote System Update operation sends an instruction to the Intel FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005 device that triggers a power cycle of the card only, forcing reconfiguration.</td>
</tr>
<tr>
<td><abbr title="Single-Root Input-Output Virtualization, Allows the isolation of PCI Express resources for manageability and performance.">SR-IOV</abbr></td>
<td>Single-Root Input-Output Virtualization, Allows the isolation of PCI Express resources for manageability and performance.</td>
</tr>
<tr>
<td><abbr title="Testbench, Testbench or Verification Environment is used to check the functional correctness of the Design Under Test (DUT) by generating and driving a predefined input sequence to a design, capturing the design output and comparing with-respect-to expected output.">TB</abbr></td>
<td>Testbench, Testbench or Verification Environment is used to check the functional correctness of the Design Under Test (DUT) by generating and driving a predefined input sequence to a design, capturing the design output and comparing with-respect-to expected output.</td>
</tr>
<tr>
<td><abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr></td>
<td>Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.</td>
</tr>
<tr>
<td><abbr title="Virtual Function Input/Output, An IOMMU/device agnostic framework for exposing direct device access to userspace.">VFIO</abbr></td>
<td>Virtual Function Input/Output, An IOMMU/device agnostic framework for exposing direct device access to user space.</td>
</tr>
</tbody>
</table>
<h4 id="table-2-related-documentation">Table 2: Related Documentation<a class="headerlink" href="#table-2-related-documentation" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Location</th>
</tr>
</thead>
<tbody>
<tr>
<td>Platform Evaluation Script: Open FPGA Stack for Intel Agilex FPGA</td>
<td><a href="https://ofs.github.io/hw/f2000x/user_guides/ug_eval_ofs/ug_eval_script_ofs_f2000x/">link</a></td>
</tr>
<tr>
<td>FPGA Interface Manager Technical Reference Manual for Intel Agilex SoC Attach: Open FPGA Stack</td>
<td><a href="../../f2000x/">link</a></td>
</tr>
<tr>
<td>Software Reference Manual: Open FPGA Stack</td>
<td><a href="https://ofs.github.io/hw/common/reference_manual/ofs_sw/mnl_sw_ofs/">link</a></td>
</tr>
<tr>
<td>Intel® FPGA Interface Manager Developer Guide: Intel Agilex SoC Attach: Open FPGA Stack</td>
<td><a href="https://ofs.github.io/hw/f2000x/dev_guides/fim_dev/ug_dev_fim_ofs/">link</a></td>
</tr>
<tr>
<td>Intel® Accelerator Functional Unit Developer Guide: Open FPGA Stack for Intel® Agilex® FPGAs SoC Attach</td>
<td><a href="https://ofs.github.io/hw/f2000x/dev_guides/afu_dev/ug_dev_afu_ofs_f2000x/">link</a></td>
</tr>
<tr>
<td>Security User Guide: Intel Open FPGA Stack</td>
<td><a href="https://github.com/otcshare/ofs-bmc/blob/main/docs/user_guides/security/">link</a></td>
</tr>
<tr>
<td>Virtual machine User Guide: Open FPGA Stack + KVM</td>
<td><a href="https://ofs.github.io/hw/common/user_guides/ug_kvm/ug_kvm/">link</a></td>
</tr>
<tr>
<td>Docker User Guide: Intel® Open FPGA Stack</td>
<td><a href="https://ofs.github.io/hw/common/user_guides/ug_docker/ug_docker/">link</a></td>
</tr>
<tr>
<td>Release Notes</td>
<td><a href="https://github.com/OFS/ofs-n6001/releases/tag/ofs-2023.1-1">link</a> - under "Important Notes"</td>
</tr>
<tr>
<td>Board Management Controller User Guide v1.1.9 (Pre-Release): Intel IPU Platform F2000X-PL</td>
<td>Work with your Intel sales representative for access</td>
</tr>
</tbody>
</table>
<h4 id="table-3-related-repositories">Table 3: Related Repositories<a class="headerlink" href="#table-3-related-repositories" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Location</th>
</tr>
</thead>
<tbody>
<tr>
<td>Intel-FPGA-<abbr title="Basic Building Block, Features within an AFU or part of an FPGA interface that can be reused across designs. These building blocks do not have stringent interface requirements like the FIM's AFU and host interface requires. All BBBs must have a (globally unique identifier) GUID.">BBB</abbr></td>
<td>https://github.com/OPAE/intel-fpga-bbb.git</td>
</tr>
<tr>
<td><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>-PLATFORM-<abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr>-<abbr title="Basic Building Block, Features within an AFU or part of an FPGA interface that can be reused across designs. These building blocks do not have stringent interface requirements like the FIM's AFU and host interface requires. All BBBs must have a (globally unique identifier) GUID.">BBB</abbr></td>
<td>https://github.com/<abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>/ofs-platform-afu-bbb.git, tag: ofs-2023.1-1</td>
</tr>
<tr>
<td><abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr>-EXAMPLES</td>
<td>https://github.com/<abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>/examples-afu.git, tag: ofs-2023.1-1</td>
</tr>
<tr>
<td>OPAE-SDK</td>
<td>https://github.com/<abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>/opae-sdk.git, tag: 2.5.0-3</td>
</tr>
<tr>
<td>LINUX-<abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr></td>
<td>https://github.com/<abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>/linux-dfl.git, tag: ofs-2023.1-6.1-1</td>
</tr>
<tr>
<td>META-<abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr></td>
<td>https://github.com/<abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>/meta-ofs, tag: ofs-2023.1-4</td>
</tr>
</tbody>
</table>
<h4 id="table-4-software-and-firmware-component-version-summary-for-soc-attach">Table 4: Software and Firmware Component Version Summary for SoC Attach<a class="headerlink" href="#table-4-software-and-firmware-component-version-summary-for-soc-attach" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Component</th>
<th>Version</th>
<th>Download link (where applicable)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Available <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> Version(s)</td>
<td><abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> Interface ID: bf2a9e1a-b05d-5130-b47c-776055c0d67e</td>
<td><a href="https://github.com/OFS/ofs-f2000x-pl/releases/tag/ofs-2023.1-1">2023.1 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Release for Intel Agilex SoC Attach Reference Shell</a></td>
</tr>
<tr>
<td>Host Operating System</td>
<td>Ubuntu 22.04</td>
<td><a href="https://ubuntu.com/download/desktop">Official Release Page</a></td>
</tr>
<tr>
<td>Host <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr></td>
<td>2.5.0-3</td>
<td><a href="https://github.com/OFS/opae-sdk/releases/tag/2.5.0-3">https://github.com/<abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>/opae-sdk/releases/tag/2.5.0-3</a></td>
</tr>
<tr>
<td>Host Linux <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr></td>
<td>ofs-2023.1-6.1-1</td>
<td><a href="https://github.com/OFS/linux-dfl/releases/tag/ofs-2023.1-6.1-1">https://github.com/<abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>/linux-dfl/releases/tag/ofs-2023.1-6.1-1</a></td>
</tr>
<tr>
<td>SoC OS</td>
<td>meta-intel-ese Reference Distro 1.0-ESE (kirkstone)</td>
<td><a href="https://github.com/OFS/ofs-f2000x-pl/releases/tag/ofs-2023.1-1">2023.1 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Release for Intel Agilex SoC Attach Reference Shell</a></td>
</tr>
<tr>
<td>SoC Kernel Version</td>
<td>5.15.92-dfl-66b0076c2c-lts</td>
<td><a href="https://github.com/OFS/ofs-f2000x-pl/releases/tag/ofs-2023.1-1">2023.1 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Release for Intel Agilex SoC Attach Reference Shell</a></td>
</tr>
<tr>
<td>SoC <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr></td>
<td>2.5.0-3</td>
<td><a href="https://github.com/OFS/opae-sdk/releases/tag/2.5.0-3">https://github.com/<abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>/opae-sdk/releases/tag/2.5.0-3</a></td>
</tr>
<tr>
<td>SoC Linux <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr></td>
<td>ofs-2023.1-6.1-1</td>
<td><a href="https://github.com/OFS/linux-dfl/releases/tag/ofs-2023.1-6.1-1">https://github.com/<abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>/linux-dfl/releases/tag/ofs-2023.1-6.1-1</a></td>
</tr>
<tr>
<td>SoC <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> and RTL</td>
<td>1.1.9</td>
<td><a href="https://github.com/OFS/ofs-f2000x-pl/releases/tag/ofs-2023.1-1">2023.1 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Release for Intel Agilex SoC Attach Reference Shell</a></td>
</tr>
<tr>
<td>SoC BIOS</td>
<td>0ACRH608_REL</td>
<td><a href="https://github.com/OFS/ofs-f2000x-pl/releases/tag/ofs-2023.1-1">2023.1 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Release for Intel Agilex SoC Attach Reference Shell</a></td>
</tr>
</tbody>
</table>
<p>Not all components shown in Table 4 will have an update available upon release. The <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> and Linux <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> software stacks are incorporated into a Yocto image and do not need to be downloaded separately. Updates required for the 2023.1 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> SoC Attach Release for Intel IPU Platform F2000X-PL are shown under Table 9 in section <a href="#20-updating-the-Intel IPU Platform F2000X-PL">2.0 Updating the Intel IPU Platform F2000X-PL</a>.</p>
<h3 id="12-server-requirements">1.2 Server Requirements<a class="headerlink" href="#12-server-requirements" title="Permanent link">&para;</a></h3>
<p>The following requirements must be met when purchasing a server to support the Intel IPU Platform F2000X-PL.</p>
<h4 id="121-host-server-specifications">1.2.1 Host Server Specifications<a class="headerlink" href="#121-host-server-specifications" title="Permanent link">&para;</a></h4>
<p>The host server must meet the following minimal specifications:</p>
<ul>
<li>The server platform must contain at least 64GiB of RAM to to compile the Yocto or <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> images</li>
<li>If using the server platform to build a Yocto image, it is recommended to have at least 200 GB of free storage space</li>
</ul>
<h4 id="122-host-bios">1.2.2 Host BIOS<a class="headerlink" href="#122-host-bios" title="Permanent link">&para;</a></h4>
<p>Te Host BIOS settings known to work with the Intel IPU Platform F2000X-PL:</p>
<ul>
<li>PCIe slot width must be <strong>x16</strong></li>
<li>PCIe slot speed must be <strong>4</strong></li>
<li>PCIe slot must have <strong>iommu</strong> enabled</li>
<li>Intel VT for Directed I/O (VT-d) must be <strong>enabled</strong></li>
<li>PCIe Volume Management for the riser and PCIe slot in which the F2000x-PL card is installed must be <strong>disabled</strong></li>
</ul>
<p>Specific BIOS paths are not listed here, as they can differ between BIOS vendors and versions.</p>
<h4 id="123-host-server-kernel-and-grub-configuration">1.2.3 Host Server Kernel and GRUB Configuration<a class="headerlink" href="#123-host-server-kernel-and-grub-configuration" title="Permanent link">&para;</a></h4>
<p>While many host Linux kernel and OS distributions may work with this design, only the following configuration(s) have been tested:</p>
<ul>
<li>Ubuntu 22.04, 5.15-lts</li>
</ul>
<h3 id="13-server-forced-air-cooling">1.3 Server Forced Air Cooling<a class="headerlink" href="#13-server-forced-air-cooling" title="Permanent link">&para;</a></h3>
<p>The Intel IPU Platform F2000X-PL is a high-performance processing card with a
passive heat sink to dissipate device heat and must be installed
in a server with sufficient forced airflow cooling to keep all devices
operating below maximum temperature. The table below lists the
thermal terms and descriptions used in thermal analysis.</p>
<h4 id="table-5-thermal-terms-and-descriptions">Table 5: Thermal Terms and Descriptions<a class="headerlink" href="#table-5-thermal-terms-and-descriptions" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th><strong>Term</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Cubic Feet per Minute (CFM)</td>
<td>Volumetric airflow rate, in cubic feet per minute, of air passing through faceplate.</td>
</tr>
<tr>
<td>T<sub>j</sub></td>
<td>FPGA Junction Temperature</td>
</tr>
<tr>
<td>T<sub>LA</sub></td>
<td>Local Ambient temperature. Temperature of forced air as it enters the Intel IPU Platform F2000X-PL. &nbsp; <strong>Note:</strong> In many systems, this is higher than the room ambient due to  heating effects of chassis components.</td>
</tr>
</tbody>
</table>
<p><strong>Note:</strong> The FPGA junction temperature must not exceed 100°C. The case
temperature of the QSFP modules must meet the module vendor's
specification.</p>
<p><strong>Note:</strong> The table below provides the thermal targets for which the Intel IPU Platform F2000X-PL
was designed. As a card manufacturer, you must
qualify your own production cards.</p>
<p>The maximum card inlet air temperatures must support continuous
operation under the worst-case power scenario of 150W TDP.</p>
<p>The airflow requirements for optimal heat sink performance at minimum is
characteristic of CAT 3 servers or PCIe SIG Level 7 thermal profiles, in
both, forward &amp; reverse flow, see figure below:</p>
<p><a class="glightbox" href="../images/air_temp_vs_flowrate.PNG" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/air_temp_vs_flowrate.PNG" /></a> <a class="glightbox" href="../images/modified_pcie_sig.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/modified_pcie_sig.png" /></a></p>
<p>As the Intel IPU Platform F2000X-PL is a development platform, it is not
integrated into the server baseband management controller closed loop
cooling control. It is strongly recommended that you set your server's
fan settings to run constantly at 100% with the server chassis lid closed to prevent unwanted Intel IPU Platform F2000X-PL thermal shutdown.</p>
<h3 id="14-external-connections">1.4 External Connections<a class="headerlink" href="#14-external-connections" title="Permanent link">&para;</a></h3>
<h4 id="figure-1-external-connections">Figure 1: External Connections<a class="headerlink" href="#figure-1-external-connections" title="Permanent link">&para;</a></h4>
<p><a class="glightbox" href="../images/external_connections.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/external_connections.png" /></a></p>
<p>The items listed Table 6 in are known to work for external connectivity. Specific links are given for convenience, other products may be used but have not been tested.</p>
<h4 id="table-6-external-connection-cables">Table 6: External Connection Cables<a class="headerlink" href="#table-6-external-connection-cables" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th><strong>Item</strong></th>
<th><strong>Part Number</strong></th>
<th><strong>Link to source</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>RS-232 to USB Adapter</td>
<td>DTECH FTDI USB to TTL Serial Adapter, 3 m</td>
<td><a href="https://www.amazon.com/gp/product/B08BLJ9NFF/ref=ppx_yo_dt_b_search_asin_title?ie=UTF8&amp;psc=1">USB to TTL Serial</a></td>
</tr>
<tr>
<td>USB to Ethernet Adapter, Aluminum 3 Port USB 3.0</td>
<td>Teknet</td>
<td><a href="https://www.amazon.com/TeckNet-Aluminum-Converter-Ultrabooks-Notebooks/dp/B0178HOTOU/ref=sxin_16_ac_d_mf_brs?ac_md=1-0-VEVDS05FVA%3D%3D-ac_d_mf_brs_brs&amp;content-id=amzn1.sym.37d5b521-1d59-436f-8d1e-f9aa8f2d7ab6%3Aamzn1.sym.37d5b521-1d">USB Hub with Ethernet adapter</a></td>
</tr>
<tr>
<td>Flash Drive, 64 GB or larger</td>
<td>SanDisk</td>
<td></td>
</tr>
<tr>
<td>QSFP DAC Cable</td>
<td> FS.com Generic 2m 100G QSP28 Passive Direct Attach Copper</td>
<td><a href="https://www.fs.com/products/74661.html?attribute=10134&amp;id=197229">QSFP28 DAC</a></td>
</tr>
<tr>
<td>(optional) Intel FPGA Download Cable II</td>
<td>PL-USB2-BLASTER</td>
<td><a href="https://www.intel.com/content/www/us/en/products/sku/215664/intel-fpga-download-cable-ii/specifications.html">USB-Blaster II</a></td>
</tr>
</tbody>
</table>
<h3 id="15-preparing-the-intel-ipu-platform-f2000x-pl-for-installation">1.5 Preparing the Intel IPU Platform F2000X-PL for Installation<a class="headerlink" href="#15-preparing-the-intel-ipu-platform-f2000x-pl-for-installation" title="Permanent link">&para;</a></h3>
<p>Turn the board over to back side and remove the Kapton tape covering
switches <strong>SW2</strong> and <strong>SW3</strong> and make sure the switches are set as shown in
<em>Figure 1</em>.</p>
<h4 id="table-7-switch-settings">Table 7: Switch Settings<a class="headerlink" href="#table-7-switch-settings" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>SW3.1</td>
<td>off</td>
</tr>
<tr>
<td>SW3.2</td>
<td>off</td>
</tr>
<tr>
<td>SW3.2</td>
<td>on</td>
</tr>
<tr>
<td>SW3.2</td>
<td>off</td>
</tr>
<tr>
<td>SW2</td>
<td>off</td>
</tr>
</tbody>
</table>
<h4 id="figure-2-board-switch-settings">Figure 2: Board Switch Settings<a class="headerlink" href="#figure-2-board-switch-settings" title="Permanent link">&para;</a></h4>
<p><a class="glightbox" href="../../../dev_guides/fim_dev/images/f2000x_switch_locations.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../../dev_guides/fim_dev/images/f2000x_switch_locations.png" /></a></p>
<h4 id="151-usb-to-serial-adapter">1.5.1 USB to Serial Adapter<a class="headerlink" href="#151-usb-to-serial-adapter" title="Permanent link">&para;</a></h4>
<p>The Intel IPU Platform F2000X-PL has a serial UART for access located on
back edge of the board. This connection is useful for making BIOS and
boot settings and for monitoring the SoC. In most servers, you will need
to remove a riser card and route the USB to serial cable and (optional) Intel FPGA
USB Blaster through an unused PCIe slot above or below where the IPU is
installed. See <em>Figure 3</em> for an example of cable routing.</p>
<h4 id="figure-3-cable-routing">Figure 3: Cable Routing<a class="headerlink" href="#figure-3-cable-routing" title="Permanent link">&para;</a></h4>
<p><a class="glightbox" href="../images/cablerouting.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/cablerouting.png" /></a></p>
<p>The USB to serial connection is shown in <em>Figure 4</em> where the White wire
is TXD, Black wire is ground and Green wire is RXD.</p>
<h4 id="figure-4-usb-to-serial-adapter-connection">Figure 4: USB to Serial Adapter connection<a class="headerlink" href="#figure-4-usb-to-serial-adapter-connection" title="Permanent link">&para;</a></h4>
<p><a class="glightbox" href="../images/serialadapterconnection.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/serialadapterconnection.png" /></a></p>
<h4 id="152-ipu-jtag">1.5.2 IPU <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr><a class="headerlink" href="#152-ipu-jtag" title="Permanent link">&para;</a></h4>
<p>The Intel IPU Platform F2000X-PL provides a 10 pin <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr> header for FPGA and
Cyclone 10 Board Management Controller development work using a <a href="https://www.intel.com/content/www/us/en/products/sku/215664/intel-fpga-download-cable-ii/specifications.html">Intel
FPGA Download Cable
II</a>.
This <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr> connection is optional for initial bring-up but is useful for manual image reprogramming and debug. See <em>Figure 5</em> noting the orientation of the connection. The
orientation of the USB Blaster II requires careful installation in a PCIe bay that
has additional room in the adjacent bay. This may require you to either install the board over the PSU of the server, or to temporarily remove an adjacent
riser while programming.</p>
<h4 id="figure-5-usb-blaster-ii-connection">Figure 5: USB Blaster II Connection<a class="headerlink" href="#figure-5-usb-blaster-ii-connection" title="Permanent link">&para;</a></h4>
<p><a class="glightbox" href="../images/usblasterIIconnection.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/usblasterIIconnection.png" /></a></p>
<h4 id="figure-6-usb-blaster-ii-installation">Figure 6: USB Blaster II Installation<a class="headerlink" href="#figure-6-usb-blaster-ii-installation" title="Permanent link">&para;</a></h4>
<p><a class="glightbox" href="../images/blasterinserver.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/blasterinserver.png" /></a></p>
<h4 id="153-power">1.5.3 Power<a class="headerlink" href="#153-power" title="Permanent link">&para;</a></h4>
<p>The Intel IPU Platform F2000X-PL must receive power from both the 12 V and 3.3V
PCIe slot and the 12 V Auxiliary 2×4 power connector. The board does not power up if any of the 12 V and 3.3 V PCIe slot,
or 12 V Auxiliary power sources are disconnected.</p>
<p>PCIe specifications define 12 V Auxiliary power connector pin
assignment. The Intel IPU Platform F2000X-PL implements an 8-position right
angle (R/A) through-hole PCB header assembly on the top right side of
the board as depicted in the picture below.</p>
<h4 id="figure-7-12v-pcie-aux-connector-location">Figure 7: 12V PCIe AUX Connector Location<a class="headerlink" href="#figure-7-12v-pcie-aux-connector-location" title="Permanent link">&para;</a></h4>
<p><a class="glightbox" href="../images/12vpcieconnector.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/12vpcieconnector.png" /></a></p>
<p>Refer the table below for pinout details.</p>
<h4 id="table-8-12v-2x3-aux-connector-pin-out">Table 8: 12V (2x3) AUX Connector Pin Out<a class="headerlink" href="#table-8-12v-2x3-aux-connector-pin-out" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Pin</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>+12V</td>
</tr>
<tr>
<td>2</td>
<td>+12V</td>
</tr>
<tr>
<td>3</td>
<td>+12V</td>
</tr>
<tr>
<td>4</td>
<td>Sense 1</td>
</tr>
<tr>
<td>5</td>
<td>Ground</td>
</tr>
<tr>
<td>6</td>
<td>Sense 0</td>
</tr>
<tr>
<td>7</td>
<td>Ground</td>
</tr>
<tr>
<td>8</td>
<td>Ground</td>
</tr>
</tbody>
</table>
<p>See Auxiliary power connection in <em>Figure 8</em>.</p>
<h4 id="figure-8-auxiliary-power-connection">Figure 8: Auxiliary Power Connection<a class="headerlink" href="#figure-8-auxiliary-power-connection" title="Permanent link">&para;</a></h4>
<p><a class="glightbox" href="../images/auxpowerconnector.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/auxpowerconnector.png" /></a></p>
<h4 id="154-usb-hub-connection">1.5.4 USB Hub Connection<a class="headerlink" href="#154-usb-hub-connection" title="Permanent link">&para;</a></h4>
<p>The USB Hub is connected to the USB type A connector on the front panel.
Additionally, attach a network connected Ethernet connection to the USB
hub. See <em>Figure 9</em>.</p>
<h4 id="figure-9-usb-hub-connection">Figure 9: USB Hub Connection<a class="headerlink" href="#figure-9-usb-hub-connection" title="Permanent link">&para;</a></h4>
<p><a class="glightbox" href="../images/usbhubconnection.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/usbhubconnection.png" /></a></p>
<h4 id="155-creating-a-bootable-usb-flash-drive-for-the-soc">1.5.5 Creating a Bootable USB Flash Drive for the SoC<a class="headerlink" href="#155-creating-a-bootable-usb-flash-drive-for-the-soc" title="Permanent link">&para;</a></h4>
<p>Connect your flash drive to an available Linux host. In this section the USB will set up to be used as a secondary boot source for the SoC and will also be used to update the NVMe from which the ICX-D SoC boots in section <a href="#21-updating-the-f2000x-pl-icxd-soc-nvme">2.1 Updating the F2000X-PL ICX-D SoC NVMe</a>.</p>
<p>You will load the latest pre-compiled Yocto <code>core-image-minimal</code> WIC image into USB flash. This image can be downloaded from
<a href="https://github.com/OFS/ofs-f2000x-pl/releases/tag/ofs-2023.1-1">2023.1 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Release for Intel Agilex SoC Attach Reference Shell</a>, under assets, or compiled from <a href="https://github.com/OFS/meta-ofs/releases/tag/ofs-2023.1-2">meta-ofs</a>. Compilation is discussed in section <a href="#40-compiling-a-custom-yocto-soc-image">4.0 Compiling a Custom Yocto SoC Image</a>.</p>
<ol>
<li>
<p>Insert a 64 GB or larger USB Flash Drive into the USB slot of a computer/server you can use to format the drive. The following instructions assume you are using some flavor of GNU+Linux. You need sudo access privileges on this machine.</p>
</li>
<li>
<p>In a terminal window, find the device name of the USB flash drive and unmount the device:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>$<span class="w"> </span>lsblk
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>NAME<span class="w"> </span>MAJ:MIN<span class="w"> </span>RM<span class="w"> </span>SIZE<span class="w"> </span>RO<span class="w"> </span>TYPE<span class="w"> </span>MOUNTPOINT
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>sda<span class="w"> </span><span class="m">8</span>:0<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span>.8T<span class="w"> </span><span class="m">0</span><span class="w"> </span>disk
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>├─sda1<span class="w"> </span><span class="m">8</span>:1<span class="w"> </span><span class="m">0</span><span class="w"> </span>600M<span class="w"> </span><span class="m">0</span><span class="w"> </span>part<span class="w"> </span>/boot/efi
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>├─sda2<span class="w"> </span><span class="m">8</span>:2<span class="w"> </span><span class="m">0</span><span class="w"> </span>1G<span class="w"> </span><span class="m">0</span><span class="w"> </span>part<span class="w"> </span>/boot
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>└─sda3<span class="w"> </span><span class="m">8</span>:3<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span>.8T<span class="w"> </span><span class="m">0</span><span class="w"> </span>part
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>├─rhel-root<span class="w"> </span><span class="m">253</span>:0<span class="w"> </span><span class="m">0</span><span class="w"> </span>50G<span class="w"> </span><span class="m">0</span><span class="w"> </span>lvm<span class="w"> </span>/
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>├─rhel-swap<span class="w"> </span><span class="m">253</span>:1<span class="w"> </span><span class="m">0</span><span class="w"> </span>4G<span class="w"> </span><span class="m">0</span><span class="w"> </span>lvm<span class="w"> </span><span class="se">\[</span>SWAP<span class="se">\]</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>└─rhel-home<span class="w"> </span><span class="m">253</span>:6<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span>.7T<span class="w"> </span><span class="m">0</span><span class="w"> </span>lvm<span class="w"> </span>/home
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>sdb<span class="w"> </span><span class="m">8</span>:16<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">447</span>.1G<span class="w"> </span><span class="m">0</span><span class="w"> </span>disk
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>├─sdb1<span class="w"> </span><span class="m">8</span>:17<span class="w"> </span><span class="m">0</span><span class="w"> </span>600M<span class="w"> </span><span class="m">0</span><span class="w"> </span>part
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>├─sdb2<span class="w"> </span><span class="m">8</span>:18<span class="w"> </span><span class="m">0</span><span class="w"> </span>1G<span class="w"> </span><span class="m">0</span><span class="w"> </span>part
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>└─sdb3<span class="w"> </span><span class="m">8</span>:19<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">445</span>.5G<span class="w"> </span><span class="m">0</span><span class="w"> </span>part
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>├─fedora_localhost<span class="se">\-</span>-live-swap<span class="w"> </span><span class="m">253</span>:2<span class="w"> </span><span class="m">0</span><span class="w"> </span>4G<span class="w"> </span><span class="m">0</span><span class="w"> </span>lvm
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>├─fedora_localhost<span class="se">\-</span>-live-home<span class="w"> </span><span class="m">253</span>:3<span class="w"> </span><span class="m">0</span><span class="w"> </span>301G<span class="w"> </span><span class="m">0</span><span class="w"> </span>lvm
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>├─fedora_localhost<span class="se">\-</span>-live-root<span class="w"> </span><span class="m">253</span>:4<span class="w"> </span><span class="m">0</span><span class="w"> </span>70G<span class="w"> </span><span class="m">0</span><span class="w"> </span>lvm
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>└─fedora_localhost<span class="se">\-</span>-live-centos_root<span class="w"> </span><span class="m">253</span>:5<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">70</span>.5G<span class="w"> </span><span class="m">0</span><span class="w"> </span>lvm
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>sdd<span class="w"> </span><span class="m">8</span>:48<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">57</span>.3G<span class="w"> </span><span class="m">0</span><span class="w"> </span>disk
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>└─sdd1<span class="w"> </span><span class="m">8</span>:49<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">57</span>.3G<span class="w"> </span><span class="m">0</span><span class="w"> </span>part
</code></pre></div>
<p>In the above example, the 64 GB USB Flash device is designated <code>sdd</code>. Note, your device file name may be different. You are looking for an entry that matches the size of
  your USB Flash. You can also check the output of <code>dmesg</code> after manually plugging in your USB Flash device to view the name the kernel has given it in an auto-generated event.</p>
</li>
<li>
<p>Unmount the USB flash (if not already unmounted).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>$<span class="w"> </span>sudo<span class="w"> </span>umount<span class="w"> </span>/dev/sdd1
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>umount:<span class="w"> </span>/dev/sdd1:<span class="w"> </span>not<span class="w"> </span>mounted.
</code></pre></div>
</li>
<li>
<p>Download the Yocto WIC image to the Linux computer. To prevent boot errors that may arise when using the same boot image loaded in both USB flash and on-board NVMe, you must choose an older version of the Yocto WIC to load onto the USB. Browse the tagged Yocto release images on <a href="https://github.com/OFS/meta-ofs/releases">GitHub</a> and choose the second newest release image as the temporary USB boot target. In this example we will use the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> 2023.1 RC3 release. You will also need to download the newest Yocto release image (core-image-full-cmdline-intel-corei7-64-20230428022313.rootfs.wic.gz).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># Download an older version of the Yocto release image to use as the USB boot target, version 2023.1 RC3 shown here</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>$<span class="w"> </span>wget<span class="w"> </span>https://github.com/OFS/meta-ofs/releases/download/ofs-2023.1-3/core-image-full-cmdline-intel-corei7-64-20230505161810.rootfs.wic.gz
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>$<span class="w"> </span>wget<span class="w"> </span>https://github.com/OFS/meta-ofs/releases/download/ofs-2023.1-3/core-image-full-cmdline-intel-corei7-64-20230505161810.rootfs.wic.gz.sha256
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="c1"># Verify the checksum of the downloaded image</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>$<span class="w"> </span>sha256sum<span class="w"> </span>-c<span class="w"> </span>https://github.com/OFS/meta-ofs/releases/download/ofs-2023.1-3/core-image-full-cmdline-intel-corei7-64-20230505161810.rootfs.wic.gz.sha256
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="c1"># Uncompress the package</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>$<span class="w"> </span>gzip<span class="w"> </span>-d<span class="w"> </span>core-image-full-cmdline-intel-corei7-64-20230505161810.rootfs.wic.gz
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="c1"># Download the most recent Yocto release image, which will overwrite on-board NVMe</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>$<span class="w"> </span>wget<span class="w"> </span>https://github.com/OFS/meta-ofs/releases/download/ofs-2023.1-4/core-image-full-cmdline-intel-corei7-64-20230512215350.rootfs.wic
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>$<span class="w"> </span>wget<span class="w"> </span>https://github.com/OFS/meta-ofs/releases/download/ofs-2023.1-4/core-image-full-cmdline-intel-corei7-64-20230512215350.rootfs.wic.sha256
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="c1"># Verify the checksum of the downloaded image</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>sha256sum<span class="w"> </span>-c<span class="w"> </span>core-image-full-cmdline-intel-corei7-64-20230512215350.rootfs.wic.sha256
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="c1"># Uncompress the package</span>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>$<span class="w"> </span>gzip<span class="w"> </span>-d<span class="w"> </span>core-image-full-cmdline-intel-corei7-64-20230512215350.rootfs.wic
</code></pre></div>
</li>
<li>
<p>Copy core-image-full-cmdline-intel-corei7-64-20230505161810.rootfs.wic to the USB flash. This process may take several minutes.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>$<span class="w"> </span>sudo<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>core-image-full-cmdline-intel-corei7-64-20230505161810.rootfs.wic<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/dev/sdd1<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>512k<span class="w"> </span><span class="nv">status</span><span class="o">=</span>progress<span class="w"> </span><span class="nv">conv</span><span class="o">=</span>sync
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>$<span class="w"> </span>sgdisk<span class="w"> </span>-e<span class="w"> </span>/dev/sdd
</code></pre></div>
</li>
<li>
<p>Create a partition to store the Yocto image, which will be used to overwrite on-board NVMe as the default boot target.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="w">    </span>$<span class="w"> </span>sudo<span class="w"> </span>fdisk<span class="w"> </span>/dev/sdd
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span>Command<span class="w"> </span><span class="o">(</span>m<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">help</span><span class="o">)</span>:<span class="w"> </span>p
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span>Command<span class="w"> </span><span class="o">(</span>m<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">help</span><span class="o">)</span>:<span class="w"> </span>n
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span>Partition<span class="w"> </span>number<span class="w"> </span><span class="o">(</span><span class="m">4</span>-128,<span class="w"> </span>default<span class="w"> </span><span class="m">4</span><span class="o">)</span>:<span class="w"> </span><span class="s">&lt;&lt;press enter&gt;&gt;</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="s">    First sector (14617908-125045390, default 14618624): &lt;&lt;press</span><span class="w"> </span>enter&gt;&gt;
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">    </span>Last<span class="w"> </span>sector,<span class="w"> </span>+/-sectors<span class="w"> </span>or<span class="w"> </span>+/-size<span class="o">{</span>K,M,G,T,P<span class="o">}</span><span class="w"> </span><span class="o">(</span><span class="m">14618624</span>-125045390,<span class="w"> </span>default
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">    </span><span class="m">125045390</span><span class="o">)</span>:<span class="w"> </span><span class="s">&lt;&lt;press enter&gt;&gt;</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="s">    Created a new p</span>artition<span class="w"> </span><span class="m">4</span><span class="w"> </span>of<span class="w"> </span><span class="nb">type</span><span class="w"> </span><span class="s1">&#39;Linux filesystem&#39;</span><span class="w"> </span>and<span class="w"> </span>of<span class="w"> </span>size<span class="w"> </span><span class="m">92</span><span class="w"> </span>GiB.
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">    </span>Command<span class="w"> </span><span class="o">(</span>m<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">help</span><span class="o">)</span>:<span class="w"> </span>p
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>Command<span class="w"> </span><span class="o">(</span>m<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">help</span><span class="o">)</span>:<span class="w"> </span>w
</code></pre></div>
</li>
<li>
<p>Verify USB flash is partitioned.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>$<span class="w"> </span>lsblk
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span>NAME<span class="w">        </span>MAJ:MIN<span class="w"> </span>RM<span class="w">   </span>SIZE<span class="w"> </span>RO<span class="w"> </span>TYPE<span class="w"> </span>MOUNTPOINTS
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">    </span>sdd<span class="w">           </span><span class="m">8</span>:0<span class="w">    </span><span class="m">1</span><span class="w"> </span><span class="m">114</span>.6G<span class="w">  </span><span class="m">0</span><span class="w"> </span>disk
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">    </span><span class="p">|</span>-sdd1<span class="w">        </span><span class="m">8</span>:1<span class="w">    </span><span class="m">1</span><span class="w">   </span>300M<span class="w">  </span><span class="m">0</span><span class="w"> </span>part
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">    </span><span class="p">|</span>-sdd2<span class="w">        </span><span class="m">8</span>:2<span class="w">    </span><span class="m">1</span><span class="w">  </span><span class="m">22</span>.1G<span class="w">  </span><span class="m">0</span><span class="w"> </span>part
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">    </span><span class="p">|</span>-sdd3<span class="w">        </span><span class="m">8</span>:3<span class="w">    </span><span class="m">1</span><span class="w">    </span>44M<span class="w">  </span><span class="m">0</span><span class="w"> </span>part
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">    </span><span class="sb">`</span>-sdd4<span class="w">        </span><span class="m">8</span>:4<span class="w">    </span><span class="m">1</span><span class="w">  </span><span class="m">92</span>.2G<span class="w">  </span><span class="m">0</span><span class="w"> </span>part
</code></pre></div>
</li>
<li>
<p>Format the new partition.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>$<span class="w"> </span>mkfs<span class="w"> </span>-t<span class="w"> </span>ext4<span class="w"> </span>/dev/sdd4
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>$<span class="w"> </span>mount<span class="w"> </span>/dev/sda4<span class="w"> </span>/mnt
</code></pre></div>
</li>
<li>
<p>Copy compressed <code>core-image-minimal</code> WIC into /mnt.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>$<span class="w"> </span>cp<span class="w"> </span>core-image-full-cmdline-intel-corei7-64-20230428022313.rootfs.wic.gz<span class="w"> </span>/mnt
</code></pre></div>
</li>
</ol>
<p>Remove the USB flash from the Linux computer and install the flash drive in the USB hub attached to the Intel IPU Platform F2000X-PL.</p>
<h2 id="20-updating-the-intel-ipu-platform-f2000x-pl">2.0 Updating the Intel IPU Platform F2000X-PL<a class="headerlink" href="#20-updating-the-intel-ipu-platform-f2000x-pl" title="Permanent link">&para;</a></h2>
<p>Every Intel IPU Platform F2000X-PL ships with pre-programmed firmware for the FPGA <strong>user1</strong>, <strong>user2</strong>, and <strong>factory</strong> images, the Cyclone 10 <strong><abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> RTL and FW</strong>, the <strong>SoC NVMe</strong>, and the <strong>SoC BIOS</strong>. The combination of FW images in <em>Table 4</em> compose the official 2023.1 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> SoC Attach Release for Intel IPU Platform F2000X-PL. Upon initial receipt of the board from manufacturing you will need to update two of these regions of flash to conform with the best known configuration for SoC Attach.  As shown in Table 9, not all devices require firmware updates. To instruct users in the process of updating on-board Intel IPU Platform F2000X-PL firmware, examples are provided in this guide illustrating the firmware update process for all devices.  </p>
<h4 id="table-9-intel-ipu-platform-f2000x-pl-fw-components">Table 9: Intel IPU Platform F2000X-PL FW Components<a class="headerlink" href="#table-9-intel-ipu-platform-f2000x-pl-fw-components" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>HW Component</th>
<th>File Name</th>
<th>Version</th>
<th>Update Required (Yes/No)</th>
<th>Download Location</th>
</tr>
</thead>
<tbody>
<tr>
<td>FPGA SR Image<sup>1</sup></td>
<td>user1: ofs_top_page1_unsigned_user1.bin<br>user2: ofs_top_page2_unsigned_user2.bin<br>factory: ofs_top_page0_unsigned_factory.bin</td>
<td><abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> Interface ID: bf2a9e1a-b05d-5130-b47c-776055c0d67e</td>
<td>Yes</td>
<td><a href="https://github.com/OFS/ofs-f2000x-pl/releases/tag/ofs-2023.1-1">2023.1 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Release for Intel Agilex SoC Attach Reference Shell</a></td>
</tr>
<tr>
<td>FPGA <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> IMAGE<sup>2</sup></td>
<td>ofs_pr_afu.green_region_unsigned.gbs</td>
<td>N/A</td>
<td>Yes</td>
<td>Compiled with <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr></td>
</tr>
<tr>
<td>ICX-D NVMe</td>
<td>core-image-full-cmdline-intel-corei7-64-20230512215350.rootfs.wic</td>
<td>N/A</td>
<td>Yes</td>
<td><a href="https://github.com/OFS/ofs-f2000x-pl/releases/tag/ofs-2023.1-1">2023.1 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Release for Intel Agilex SoC Attach Reference Shell</a></td>
</tr>
<tr>
<td><abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> RTL and FW</td>
<td>AC_BMC_RSU_user_retail_1.1.9_unsigned.rsu</td>
<td>1.1.9</td>
<td>No</td>
<td><a href="https://github.com/OFS/ofs-f2000x-pl/releases/tag/ofs-2023.1-1">2023.1 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Release for Intel Agilex SoC Attach Reference Shell</a></td>
</tr>
<tr>
<td>BIOS Version</td>
<td>0ACRH608_REL.BIN</td>
<td>0ACRH608_REL</td>
<td>Yes</td>
<td><a href="https://github.com/OFS/ofs-f2000x-pl/releases/tag/ofs-2023.1-1">2023.1 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Release for Intel Agilex SoC Attach Reference Shell</a></td>
</tr>
</tbody>
</table>
<p>If a component does not have a required update, it will not have an entry on <a href="https://github.com/OFS/ofs-f2000x-pl/releases/tag/ofs-2023.1-1">2023.1 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Release for Intel Agilex SoC Attach Reference Shell</a>.</p>
<p><sup>1</sup>To check the <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> Interface ID of the currently programmed <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> and the <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> RTL and FW version, use <code>fpgainfo fme</code> from the SoC.
<sup>2</sup>Must be programmed if using <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr>-enabled exercisers, not required otherwise.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>$<span class="w"> </span>fpgainfo<span class="w"> </span>fme
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>Intel<span class="w"> </span>IPU<span class="w"> </span>Platform<span class="w"> </span>F2000X-PL
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>**Board<span class="w"> </span>Management<span class="w"> </span>Controller<span class="w"> </span>NIOS<span class="w"> </span>FW<span class="w"> </span>version:<span class="w"> </span><span class="m">1</span>.1.9**
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>**Board<span class="w"> </span>Management<span class="w"> </span>Controller<span class="w"> </span>Build<span class="w"> </span>version:<span class="w"> </span><span class="m">1</span>.1.9**
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>//******<span class="w"> </span>FME<span class="w"> </span>******//
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xEF00000
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:15:00.0
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCE
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x17D4
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x00
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>Ports<span class="w"> </span>Num<span class="w">                        </span>:<span class="w"> </span><span class="m">01</span>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>**Bitstream<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span><span class="m">360572756236924878</span>**
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a>Bitstream<span class="w"> </span>Version<span class="w">                </span>:<span class="w"> </span><span class="m">5</span>.0.1
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a>**Pr<span class="w"> </span>Interface<span class="w"> </span>Id<span class="w">                  </span>:<span class="w"> </span>bf2a9e1a-b05d-5130-b47c-776055c0d67e**
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a>Boot<span class="w"> </span>Page<span class="w">                        </span>:<span class="w"> </span>user1
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a>User1<span class="w"> </span>Image<span class="w"> </span>Info<span class="w">                 </span>:<span class="w"> </span>9e3db8b6a4d25a4e3e46f2088b495899
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a>User2<span class="w"> </span>Image<span class="w"> </span>Info<span class="w">                 </span>:<span class="w"> </span>None
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a>Factory<span class="w"> </span>Image<span class="w"> </span>Info<span class="w">               </span>:<span class="w"> </span>None
</code></pre></div>
<h3 id="21-updating-the-f2000x-pl-icx-d-soc-nvme">2.1 Updating the F2000X-PL ICX-D SoC NVMe<a class="headerlink" href="#21-updating-the-f2000x-pl-icx-d-soc-nvme" title="Permanent link">&para;</a></h3>
<p>The Intel IPU Platform F2000X-PL ships with a Yocto image pre-programmed in NVMe, which is not the same as the SoC Attach <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> image that we will be using. The latter provides only the <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> and Linux <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> drivers and is fully open source. This section will show how you can use an attached USB drive to load a new image into flash. You will use a serial terminal to install the new image - Minicom and PuTTy terminal emulators have both been tested. <code>minicom</code> is used for demonstration purposes as the serial terminal to access the ICX-D SoC UART connection in this section. Information on compiling your own Yocto image for use with the Intel IPU Platform F2000X-PL is discussed in section <a href="#40-compiling-a-custom-yocto-soc-image">4.0 Compiling a Custom Yocto SoC Image</a>.</p>
<p><strong>Note:</strong> Username and password for the default SoC NVMe boot image are "root" and "root@123".</p>
<ol>
<li>
<p>First, make sure to complete the steps in section <a href="#155-creating-a-bootable-usb-flash-drive-for-the-soc">1.5.5 Creating a Bootable USB Flash Drive for the SoC</a>, and attach the USB drive either directly into the rear of the Intel IPU Platform F2000X-PL, or into a USB Hub that itself is connected to the board.</p>
</li>
<li>
<p>Ensure your Minicom terminal settings match those shown below. You must direct Minicom to the USB device created in <code>/dev</code> associated with your RS-232 to USB Adapter cable. This cable must be attached to a server that is <em>separate</em> from the one housing your Intel IPU Platform F2000X-PL. Check the server logs in <code>dmesg</code> to figure out which device is associated with your cable: <code>[    7.637291] usb 1-4: FTDI USB Serial Device converter now attached to ttyUSB0</code>. In this example the special character file <code>/dev/ttyUSB0</code> is associated with our cable, and can be connected to using the following command: <code>sudo minicom --color=on -D /dev/ttyUSB0</code>.</p>
<p><a class="glightbox" href="../images/minicom_settings.PNG" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/minicom_settings.PNG" /></a></p>
</li>
<li>
<p>Change the SoC boot order to boot from USB first. Reboot the server. From your
    serial Minicom terminal, watch your screen and
    press 'ESC' key to go into BIOS setup mode. Once BIOS setup comes
    up as shown below, click the right arrow key six times to move from
    'Main' set up menu to 'Boot' setup:</p>
<p>Main setup menu:</p>
<p><a class="glightbox" href="../images/mainmenu1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/mainmenu1.png" /></a></p>
<p><a class="glightbox" href="../images/mainmenu2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/mainmenu2.png" /></a></p>
<p>Your order of boot devices may differ. You need to move the USB flash
   up to Boot Option #1 by first using the down arrow key to highlight
   the USB device then use '+' key to move the USB device to #1 as
   shown below:</p>
<p><a class="glightbox" href="../images/mainmenu3.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/mainmenu3.png" /></a></p>
<p>Press 'F4' to save and exit.</p>
</li>
<li>
<p>You will boot into Yocto automatically. Log in with username <code>root</code> and an empty password using Minicom. Take note of the IP address of the board, you can use this to log in without needing the serial cable.</p>
<p><a class="glightbox" href="../images/yocto_login.PNG" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/yocto_login.PNG" /></a></p>
<p>Verify that you have booted from the USB and not the on-board NVMe <code>lsblk -no pkname $(findmnt -n / | awk '{ print $2 }')</code>. You should see a device matching <code>/dev/sd*</code>, and <em>not</em> <code>nvme*n*p*</code>. If you see <code>nvme*n*p*</code>, then review the previous steps.</p>
<p>Record the IP address of the SoC at this time <code>ip -4 addr</code>. This will be used to log in remotely using SSH.</p>
</li>
<li>
<p>Check that 4 partitions created in <a href="#1.5.5-creating-a-bootable-usb-flash-drive-for-the-soc">1.5.5 Creating a Bootable USB Flash Drive for the SoC</a> are visible to the SoC in <code>/dev/sd*</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>$<span class="w"> </span>lsblk<span class="w"> </span>-l
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>root@intel-corei7-64:/mnt#<span class="w"> </span>lsblk<span class="w"> </span>-l
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>NAME<span class="w">      </span>MAJ:MIN<span class="w"> </span>RM<span class="w">   </span>SIZE<span class="w"> </span>RO<span class="w"> </span>TYPE<span class="w"> </span>MOUNTPOINTS
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>sda<span class="w">         </span><span class="m">8</span>:0<span class="w">    </span><span class="m">1</span><span class="w"> </span><span class="m">117</span>.2G<span class="w">  </span><span class="m">0</span><span class="w"> </span>disk
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>sda1<span class="w">        </span><span class="m">8</span>:1<span class="w">    </span><span class="m">1</span><span class="w">  </span><span class="m">38</span>.5M<span class="w">  </span><span class="m">0</span><span class="w"> </span>part<span class="w"> </span>/boot
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>sda2<span class="w">        </span><span class="m">8</span>:2<span class="w">    </span><span class="m">1</span><span class="w">    </span>20G<span class="w">  </span><span class="m">0</span><span class="w"> </span>part<span class="w"> </span>/
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>sda3<span class="w">        </span><span class="m">8</span>:3<span class="w">    </span><span class="m">1</span><span class="w">    </span>44M<span class="w">  </span><span class="m">0</span><span class="w"> </span>part<span class="w"> </span><span class="o">[</span>SWAP<span class="o">]</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>sda4<span class="w">        </span><span class="m">8</span>:4<span class="w">    </span><span class="m">1</span><span class="w">  </span><span class="m">97</span>.1G<span class="w">  </span><span class="m">0</span><span class="w"> </span>part<span class="w"> </span>/mnt
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>nvme0n1<span class="w">   </span><span class="m">259</span>:0<span class="w">    </span><span class="m">0</span><span class="w">  </span><span class="m">59</span>.6G<span class="w">  </span><span class="m">0</span><span class="w"> </span>disk
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>nvme0n1p1<span class="w"> </span><span class="m">259</span>:1<span class="w">    </span><span class="m">0</span><span class="w">   </span>300M<span class="w">  </span><span class="m">0</span><span class="w"> </span>part
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>nvme0n1p2<span class="w"> </span><span class="m">259</span>:2<span class="w">    </span><span class="m">0</span><span class="w">  </span><span class="m">22</span>.1G<span class="w">  </span><span class="m">0</span><span class="w"> </span>part
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>nvme0n1p3<span class="w"> </span><span class="m">259</span>:3<span class="w">    </span><span class="m">0</span><span class="w">    </span>44M<span class="w">  </span><span class="m">0</span><span class="w"> </span>part
</code></pre></div>
<p>Mount partition 4, and <code>cd</code> into it.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>$<span class="w"> </span>mount<span class="w"> </span>/dev/sda4<span class="w"> </span>/mnt<span class="sb">`</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/mnt
</code></pre></div>
</li>
<li>
<p>Uncompress and install the Yocto release image in the SoC NVMe.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>$<span class="w"> </span>zcat<span class="w"> </span>core-image-full-cmdline-intel-corei7-64-20230512215350.rootfs.wic
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>$<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>core-image-full-cmdline-intel-corei7-64-20230512215350.rootfs.wic<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/dev/nvme0n1<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1M<span class="w"> </span><span class="nv">status</span><span class="o">=</span>progress<span class="w"> </span><span class="nv">conv</span><span class="o">=</span>sync
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>$<span class="w"> </span>sync
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>$<span class="w"> </span>sgdisk<span class="w"> </span>-e<span class="w"> </span>/dev/nvme0n1
</code></pre></div>
<p>The transfer from USB to NVMe will take several minutes.</p>
</li>
<li>
<p>Reboot the SoC and update the SoC BIOS to boot from NVMe. Follow steps 2 and 3 from this section again, and this time move the NVME back to the front of the boot order. The NVMe is named <code>UEFI OS (PCIe SSD)</code> by the BIOS. Press F4 to save and exit.</p>
<p>You can use <code>wget</code> to retrieve a new version of the Yocto release image from <a href="https://github.com/OFS/meta-ofs/releases/tag/ofs-2023.1-2">meta-ofs</a> once the SoC's network connection is up. Use <code>wget</code> to copy the image to the SoC over the network under <code>/mnt</code>. You may need to delete previous Yocto images to save on space: <code>$ wget --no-check-certificate --user &lt;Git username&gt; --ask-password https://github.com/OFS/meta-ofs/releases/download/ofs-2023.1-2/core-image-full-cmdline-intel-corei7-64-20230428022313.rootfs.wic.gz</code>. Uncompress the newly retrieved file: <code>gzip -d core-image-full-cmdline-intel-corei7-64-20230428022313.rootfs.wic.gz</code>. This may take several minutes.</p>
</li>
</ol>
<h4 id="211-setting-the-time">2.1.1 Setting the Time<a class="headerlink" href="#211-setting-the-time" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>Use Linux command to set system time using format: <code>date --set="STRING"</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>date<span class="w"> </span>-s<span class="w"> </span><span class="s2">&quot;26 APRIL 2023 18:00:00&quot;</span>
</code></pre></div>
</li>
<li>
<p>Set HWCLOCK to current system time:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>hwclock<span class="w"> </span>--systohc
</code></pre></div>
<p>Verify time is set properly</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>date
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>...
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>hwclock<span class="w"> </span>--show
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>...
</code></pre></div>
</li>
</ol>
<h2 id="30-updating-the-intel-ipu-platform-f2000x-pl">3.0 Updating the Intel IPU Platform F2000X-PL<a class="headerlink" href="#30-updating-the-intel-ipu-platform-f2000x-pl" title="Permanent link">&para;</a></h2>
<h3 id="31-preparing-the-intel-ipu-platform-f2000x-pl-soc-for-updates">3.1 Preparing the Intel IPU Platform F2000X-PL SoC for Updates<a class="headerlink" href="#31-preparing-the-intel-ipu-platform-f2000x-pl-soc-for-updates" title="Permanent link">&para;</a></h3>
<p>Updating the Intel IPU Platform F2000X-PL firmware often requires reboots of the SoC or reconfiguration of the FPGA region. If there are processes connected from the host to the SoC that do not expect the downtime to occur, or if the host is not tolerant to a surprise PCie link down, the following instructions can be used to properly orchestrate updates with the host when reboots occur.</p>
<p><strong>Note:</strong> The following instructions assume you know the PCIe Bus/Device/Function (BDF) address of your Intel IPU Platform F2000X-PL. Run the command <code>lspci | grep bcce</code> to print all boards with a DID that matches <code>bcce</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>$<span class="w"> </span>lspci<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>bcce
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="m">31</span>:00.0<span class="w"> </span>Processing<span class="w"> </span>accelerators:<span class="w"> </span>Intel<span class="w"> </span>Corporation<span class="w"> </span>Device<span class="w"> </span>bcce<span class="w"> </span><span class="o">(</span>rev<span class="w"> </span><span class="m">01</span><span class="o">)</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="m">31</span>:00.1<span class="w"> </span>Processing<span class="w"> </span>accelerators:<span class="w"> </span>Intel<span class="w"> </span>Corporation<span class="w"> </span>Device<span class="w"> </span>bcce<span class="w"> </span><span class="o">(</span>rev<span class="w"> </span><span class="m">01</span><span class="o">)</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="c1"># In this example, 31:00.0 is the proper PCIe BDF of our device</span>
</code></pre></div>
<ol>
<li>Shut down all VMs and software applications attached to any PFs/VFs on the host</li>
<li>Issue the command <code>sudo pci_device &lt;&lt;PCIe BDF&gt;&gt; unplug</code> on the host to remove the PCIe device from the PCIe bus</li>
<li>Shut down all software applications on the SoC accessing non-management PFs/VFs</li>
<li>Issue your update command on the SoC, which will cause an SoC reboot and surprise PCIe link down on the host (ex. <code>reboot</code>, <code>rsu bmc/bmcimg/fpga</code>)</li>
<li>Once you have completed all firmware updates, you may restart application software on the SoC</li>
<li>Issue command <code>sudo pci_device &lt;&lt;PCIe BDF&gt;&gt; plug</code> on the host to rescan the PCIe bus and rebind the device to its native driver</li>
<li>Restart software applications on the host</li>
</ol>
<h3 id="32-updating-fim-bmc-and-afu-with-fpgasupdate">3.2 Updating <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr>, <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> and <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> with <code>fpgasupdate</code><a class="headerlink" href="#32-updating-fim-bmc-and-afu-with-fpgasupdate" title="Permanent link">&para;</a></h3>
<p>The <code>fpgasupdate</code> tool updates the Intel<sup>&reg;</sup> C10 10 <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> image and firmware, root entry hash, FPGA Static Region (SR) and user image (<abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr>). The <code>fpgasupdate</code> will only accept images that have been formatted using PACSign. If a root entry hash has been programmed onto the board, then the image will also need to be signed using the correct keys. Please refer to the <a href="https://github.com/otcshare/ofs-bmc/blob/main/docs/user_guides/security/">Security User Guide: Intel Open FPGA Stack</a> for information on creating signed images and on programming and managing the root entry hash. The <code>fpgasupdate</code> tool is used to program images into flash memory. The <code>rsu</code> tool is used to configure the FPGA/<abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> with an image that is already stored in flash memory, or to switch between <strong>user1</strong> and <strong>user2</strong> images. All images received from an official Intel release will be "unsigned", as described in the <a href="https://github.com/otcshare/ofs-bmc/blob/main/docs/user_guides/security/">Security User Guide: Intel Open FPGA Stack</a>.</p>
<p><strong>Note:</strong> 'Unsigned' in this context means the image has passed through <code>PACsign</code> and has had the proper security blocks prepended using a set of 'dummy' keys. FIMs with image signing enabled will require all programmable images to pass through <code>PACsign</code> even if the currently programmed <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr>/<abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> do not require specific keys to authenticate.</p>
<p>There are two regions of flash you may store <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> images for general usage, and one backup region. These locations are referred to as <strong>user1</strong>, <strong>user2</strong>, and <strong>factory</strong>. The factory region is not programmed by default and can only be updated once keys have been provisioned. The <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> FW and RTL will come pre-programmed with version 1.1.9.</p>
<p>Updating the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> from the SoC requires the SoC be running a Yocto image that includes the <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> and Linux <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> drivers. Updating the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> using <code>fpgasupdate</code> also requires an <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> enabled <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> to be configured on the F2000X-PL, which it will ship with from manufacturing. You need to transfer any update files to the SoC over SSH. The <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> utility <code>fpgasupdate</code> will be used to update all ofthe board's programmable firmware . This utility will accept files of the form *.rsu, *.bin, and *.gbs, provided the proper security data blocks have been prepended by PACSign. The default configuration the IPU platform ships with will match the below:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>$<span class="w"> </span>fpgainfo<span class="w"> </span>fme
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>Intel<span class="w"> </span>IPU<span class="w"> </span>Platform<span class="w"> </span>F2000X-PL
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>**Board<span class="w"> </span>Management<span class="w"> </span>Controller<span class="w"> </span>NIOS<span class="w"> </span>FW<span class="w"> </span>version:<span class="w"> </span><span class="m">1</span>.1.9**
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>**Board<span class="w"> </span>Management<span class="w"> </span>Controller<span class="w"> </span>Build<span class="w"> </span>version:<span class="w"> </span><span class="m">1</span>.1.9**
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>//******<span class="w"> </span>FME<span class="w"> </span>******//
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xEF00000
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:15:00.0
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCE
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x17D4
<a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x00
<a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a>Ports<span class="w"> </span>Num<span class="w">                        </span>:<span class="w"> </span><span class="m">01</span>
<a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a>**Bitstream<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span><span class="m">360572756236924878</span>**
<a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a>Bitstream<span class="w"> </span>Version<span class="w">                </span>:<span class="w"> </span><span class="m">5</span>.0.1
<a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a>**Pr<span class="w"> </span>Interface<span class="w"> </span>Id<span class="w">                  </span>:<span class="w"> </span>bf2a9e1a-b05d-5130-b47c-776055c0d67e**
<a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a>Boot<span class="w"> </span>Page<span class="w">                        </span>:<span class="w"> </span>user1
<a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a>User1<span class="w"> </span>Image<span class="w"> </span>Info<span class="w">                 </span>:<span class="w"> </span>9e3db8b6a4d25a4e3e46f2088b495899
<a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a>User2<span class="w"> </span>Image<span class="w"> </span>Info<span class="w">                 </span>:<span class="w"> </span>None
<a id="__codelineno-16-20" name="__codelineno-16-20" href="#__codelineno-16-20"></a>Factory<span class="w"> </span>Image<span class="w"> </span>Info<span class="w">               </span>:<span class="w"> </span>None
</code></pre></div>
<p>To load a new update image, you need to pass the IPU's PCIe BDF and the file name to <code>fpgasupdate</code> on the SoC. The below example will update the <strong>user1</strong> image in flash:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>$<span class="w"> </span>fpgasupdate<span class="w"> </span>ofs_top_page1_unsigned_user1.bin<span class="w"> </span><span class="m">15</span>:00.0
</code></pre></div>
<p>After loading an update image, <code>rsu fpga/bmc/bmcimg</code> can be used to reload the firmware and apply the change, as discussed below. An <abbr title="Remote System Update, A Remote System Update operation sends an instruction to the Intel FPGA PAC D5005 device that triggers a power cycle of the card only, forcing reconfiguration.">RSU</abbr> of the <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> will always cause a reload of both the <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> and FPGA images.</p>
<h3 id="33-loading-images-with-rsu">3.3 Loading images with <code>rsu</code><a class="headerlink" href="#33-loading-images-with-rsu" title="Permanent link">&para;</a></h3>
<p><abbr title="Remote System Update, A Remote System Update operation sends an instruction to the Intel FPGA PAC D5005 device that triggers a power cycle of the card only, forcing reconfiguration.">RSU</abbr> performs a Remote System Update operation on an Intel IPU Platform F2000X-PL, given its PCIe address. An <code>rsu</code> operation sends an instruction to the device to trigger a power cycle of the card only if run with <code>bmcimg</code>. <code>rsu</code> will force reconfiguration from flash for either the <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> or FPGA. PCIe Advanced Error Reporting (<abbr title="Advanced Error Reporting, The PCIe AER driver is the extended PCI Express error reporting capability providing more robust error reporting.">AER</abbr>) is temporarily disabled for the card when <abbr title="Remote System Update, A Remote System Update operation sends an instruction to the Intel FPGA PAC D5005 device that triggers a power cycle of the card only, forcing reconfiguration.">RSU</abbr> is in progress</p>
<p>The Intel IPU Platform F2000X-PL contains two regions of flash you may store <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> images. These locations are referred to as <strong>user1</strong> and <strong>user2</strong>. After an image has been programmed to either of these regions in flash using fpgasupdate, you may perform an <code>rsu</code> to reconfigure the Agilex FPGA with the new image stored in flash. This operation will indicate to the <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> which region to configure the FPGA device from after power-on.</p>
<p>If the factory image has been updated, Intel strongly recommends you immediately <abbr title="Remote System Update, A Remote System Update operation sends an instruction to the Intel FPGA PAC D5005 device that triggers a power cycle of the card only, forcing reconfiguration.">RSU</abbr> to the factory image to ensure the image is functional.</p>
<p>You can determine which region of flash was used to configure their FPGA device using the command <code>fpgainfo fme</code> and looking at the row labelled <strong>Boot Page</strong>.</p>
<p>When loading a new FPGA SR image, use the command <code>rsu fpga</code>. When loading a new <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> image, use the command <code>rsu bmc</code>. When using the <abbr title="Remote System Update, A Remote System Update operation sends an instruction to the Intel FPGA PAC D5005 device that triggers a power cycle of the card only, forcing reconfiguration.">RSU</abbr> command, you may select which image will be configured to the selected device. For example, when performing an <abbr title="Remote System Update, A Remote System Update operation sends an instruction to the Intel FPGA PAC D5005 device that triggers a power cycle of the card only, forcing reconfiguration.">RSU</abbr> for the Agilex FPGA, you may select to configure the <strong>user1</strong>, <strong>user2</strong>, or <strong>factory</strong> image. When performing an <abbr title="Remote System Update, A Remote System Update operation sends an instruction to the Intel FPGA PAC D5005 device that triggers a power cycle of the card only, forcing reconfiguration.">RSU</abbr> for the C10 <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr>, you may select to configure the user or factory image. You may also use <abbr title="Remote System Update, A Remote System Update operation sends an instruction to the Intel FPGA PAC D5005 device that triggers a power cycle of the card only, forcing reconfiguration.">RSU</abbr> to reconfigure the SDM on devices that support it. The <abbr title="Remote System Update, A Remote System Update operation sends an instruction to the Intel FPGA PAC D5005 device that triggers a power cycle of the card only, forcing reconfiguration.">RSU</abbr> command sends an instruction to the <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> to reconfigure the selected device from an image stored in flash.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>$<span class="w"> </span>rsu<span class="w"> </span>fpga<span class="w"> </span>--page<span class="o">=</span>user1<span class="w"> </span><span class="m">15</span>:00.0
</code></pre></div>
<p>Useage:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>rsu<span class="w"> </span>bmc<span class="w"> </span>--page<span class="o">=(</span>user<span class="p">|</span>factory<span class="o">)</span><span class="w"> </span><span class="o">[</span>PCIE_ADDR<span class="o">]</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>rsu<span class="w"> </span>fpga<span class="w"> </span>--page<span class="o">=(</span>user1<span class="p">|</span>user2<span class="p">|</span>factory<span class="o">)</span><span class="w"> </span><span class="o">[</span>PCIE_ADDR<span class="o">]</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>rsu<span class="w"> </span>sdm<span class="w"> </span><span class="o">[</span>PCIE_ADDR<span class="o">]</span>
</code></pre></div>
<p>You can use <abbr title="Remote System Update, A Remote System Update operation sends an instruction to the Intel FPGA PAC D5005 device that triggers a power cycle of the card only, forcing reconfiguration.">RSU</abbr> to change which page in memory the FPGA will boot from by default.</p>
<p>Synopsis:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>rsu<span class="w"> </span>fpgadefault<span class="w"> </span>--page<span class="o">=(</span>user1<span class="p">|</span>user2<span class="p">|</span>factory<span class="o">)</span><span class="w"> </span>--fallback<span class="o">=</span>&lt;csv&gt;<span class="w"> </span><span class="m">15</span>:00.0
</code></pre></div>
<p>Use to set the default FPGA boot sequence. The <code>--page</code> option determines the primary FPGA boot image. The <code>--fallback</code> option allows a comma-separated list of values to specify fallback images.</p>
<h3 id="34-updating-the-icx-d-soc-bios">3.4 Updating the ICX-D SoC BIOS<a class="headerlink" href="#34-updating-the-icx-d-soc-bios" title="Permanent link">&para;</a></h3>
<p>The ICX-D SoC NVMe comes pre-programmed with BIOS v7 (0ACRH007). This version will need to be replaced with 0ACRH608_REL. BIOS update files come in the form 0ACRH\&lt;\&lt;version>>.bin, and can be downloaded on <a href="https://github.com/OFS/ofs-f2000x-pl/releases/tag/ofs-2023.1-1">2023.1 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Release for Intel Agilex SoC Attach Reference Shell</a>. This update process is in-band, and requires you to download and install a BIOS UEFI utility from AMI called "APTIO V AMI Firmware Update Utility", available <a href="https://www.ami.com/bios-uefi-utilities/#aptiov">here</a>. This package will install a utility in the UEFI shell called AfuEfix64.efi which will be used to overwrite the ICX-D BIOS.</p>
<ol>
<li>
<p>Check your BIOS Version. Reboot the SoC and wait for the BIOS version to be shown. In this example, the BIOS will need to be updated.</p>
<p><a class="glightbox" href="../images/bios_setup_splash.PNG" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/bios_setup_splash.PNG" /></a></p>
</li>
<li>
<p>Download both the ICX-D SoC Update image and <a href="https://www.ami.com/bios-uefi-utilities/#aptiov">APTIO V AMI Firmware Update Utility</a>. Unzip the BIOS update image and locate your BIOS update binary. Unzip Aptio_V_AMI_Firmware_Update_Utility.zip, and then navigate to Aptio_V_AMI_Firmware_Update_Utility\afu\afuefi\64 and unzip AfuEfi64.zip. The file we need from this package is called AfuEfix64.efi.</p>
<p><a class="glightbox" href="../images/ami_webpage.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/ami_webpage.png" /></a></p>
</li>
<li>
<p>Copy both files over to the SoC into /boot/EFI using the SoC's IP.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>$<span class="w"> </span>scp<span class="w"> </span>0ACRH608_REL.BIN<span class="w"> </span>root@XX.XX.XX.XX:/boot/EFI
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>$<span class="w"> </span>scp<span class="w"> </span>AfuEfix64.efi<span class="w"> </span>root@XX.XX.XX.XX:/boot/EFI
</code></pre></div>
</li>
<li>
<p>Reboot the SoC from a TTY Serial terminal. Watch your screen and press 'ESC' key to go into BIOS setup mode. Select 'Built-in EFI Shell'.</p>
<p><a class="glightbox" href="../images/uefi_builtin_shell.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/uefi_builtin_shell.png" /></a></p>
</li>
<li>
<p>At EFI prompt enter the following:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>Shell&gt;<span class="w"> </span>FS0:
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>FS0:&gt;<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>EFI
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>FS0:<span class="se">\E</span>FI<span class="se">\&gt;</span><span class="w"> </span>AfuEfix64.efi<span class="w"> </span>0ACRH608_REL.BIN<span class="w"> </span>/p<span class="w"> </span>/n<span class="w"> </span>/b
</code></pre></div>
<p>Press 'E'. When the update has completed type 'reset -w' to reboot.</p>
<p><a class="glightbox" href="../images/afutool.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/afutool.png" /></a></p>
</li>
<li>
<p>Watch your screen and press 'ESC' key to go into BIOS setup mode. Verify BIOS version matches expectation.</p>
<p><a href="../images/correctbios_Version.png"></a></p>
</li>
<li>
<p>Click the right arrow key six times to move from 'Main' set up menu to 'Boot' setup. Select NVMe as the primary boot source.</p>
<p><a href="../images/post_bios_update_nvme.png"></a></p>
</li>
</ol>
<h2 id="40-compiling-a-custom-yocto-soc-image">4.0 Compiling a Custom Yocto SoC Image<a class="headerlink" href="#40-compiling-a-custom-yocto-soc-image" title="Permanent link">&para;</a></h2>
<p>Current Yocto image architecture for SoC Attach is based off of the <a href="https://github.com/intel/iotg-yocto-ese-manifest">IOTG Yoct-based ESE BSP</a> and substitutes the <a href="https://github.com/OFS/linux-dfl">Linux <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> kernel</a> including the <a href="https://docs.kernel.org/fpga/dfl.html">latest <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> drivers for FPGA devices</a> along with the <a href="https://github.com/OFS/opae-sdk"><abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr></a> user space. The image targets x86_64 SoC FPGA devices but should boot on most UEFI-based machines. The source code and documentation for this image is hosted on the <a href="https://github.com/OFS/meta-ofs">meta-ofs</a> repository.</p>
<p>Build requirements exceed 100 GiB of disk space, depending on which image is built. As a reference point, on a system with two Intel(R) Xeon(R) E5-2699 v4 for a total of 44 CPU cores, the initial, non-incremental build takes less than an hour of wall time.</p>
<p>The <code>repo</code> tool is needed to clone the various Yocto layer repositories used in this example.</p>
<p><strong>Note:</strong> If you are behind a firewall that prevents you from accessing references using the git:// protocol, you can use the following to redirect Git to use the corresponding https repositories for Yocto only: <code>git config --global url.https://git.yoctoproject.org/.insteadOf git://git.yoctoproject.org/</code></p>
<p>To compile the image as-is, use the following steps (as provided in meta-ofs):</p>
<ol>
<li>
<p>Create and initialize the source directory.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>mkdir<span class="w"> </span>ofs-yocto<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>ofs-yocto
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>repo<span class="w"> </span>init<span class="w"> </span>-m<span class="w"> </span>examples/iotg-yocto-ese/manifest.xml<span class="w"> </span>https://github.com/OFS/meta-ofs
</code></pre></div>
</li>
<li>
<p>Fetch repositories and update the working tree.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>repo<span class="w"> </span>sync<span class="w"> </span>-j<span class="w"> </span><span class="m">16</span>
</code></pre></div>
</li>
<li>
<p>Build packages and create an image.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="nb">cd</span><span class="w"> </span>build
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>.<span class="w"> </span>../intel-embedded-system-enabling/oe-init-build-env<span class="w"> </span>.
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>bitbake<span class="w"> </span>mc:x86-2021-minimal:core-image-full-cmdline
</code></pre></div>
</li>
</ol>
<p>The resulting GPT disk image is available in uncompressed (.wic) and compressed form (.wic.gz) in <code>build/tmp-x86-2021-minimal-glibc/deploy/images/intel-corei7-64/</code>. With no changes the uncompressed image size is ~21 GB.</p>
<p>The image type <a href="https://docs.yoctoproject.org/ref-manual/images.html">core-image-full-cmdline</a> includes the familiar GNU core utilities, as opposed to core-image-minimal which uses BusyBox instead.</p>
<p>The example build configuration files under build/conf/ are symlinked from <a href="https://github.com/OFS/meta-ofs/tree/main/examples/iotg-yocto-ese">examples/iotg-yocto-ese/</a>. To customise the image, start by modifying <a href="https://github.com/OFS/meta-ofs/tree/main/examples/iotg-yocto-ese/local.conf">local.conf</a> and <a href="https://github.com/OFS/meta-ofs/tree/main/examples/iotg-yocto-ese/bblayers.conf">bblayers.conf</a>.</p>
<p>The uncompressed Yocto image can be loaded onto a flash drive as discussed in section <a href="#155-creating-a-bootable-usb-flash-drive-for-the-soc">1.5.5 Creating a Bootable USB Flash Drive for the SoC</a> and written to NVMe as the default boot target for the SoC as demonstrated in section <a href="#21-updating-the-f2000x-pl-icxd-soc-nvme">2.1 Updating the F2000X-PL ICX-D SoC NVMe</a>.</p>
<h2 id="50-verifying-the-icx-d-soc-opae-sdk">5.0 Verifying the ICX-D SoC <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr><a class="headerlink" href="#50-verifying-the-icx-d-soc-opae-sdk" title="Permanent link">&para;</a></h2>
<p>The reference SoC Attach <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> and unaltered <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> compilations contain Host Exerciser Modules (HEMs). These are used to exercise and characterize the various host-FPGA interactions, including Memory Mapped Input/Output (<abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr>), data transfer from host to FPGA, <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr>, host to FPGA memory, etc. Full supported functionality of the HEMs is documented in the <a href="https://opae.github.io/latest/docs/fpga_tools/host_exerciser/host_exerciser.html">host_exerciser</a> opae.io GitHub page. SoC Attach supports HEMs run both with and without an <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> image programmed into the board's one supported <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> region. This image is available on the offial <a href="https://github.com/OFS/ofs-f2000x-pl/releases/tag/ofs-2023.1-1">SoC Attach GitHub Page</a>, and is programmed using <code>fpgasupdate</code> as shown in section 3.2. A few select examples run from the SoC and their expected results will be shown below.</p>
<h3 id="51-checking-telemetry-with-fpgainfo">5.1 Checking Telemetry with <code>fpgainfo</code><a class="headerlink" href="#51-checking-telemetry-with-fpgainfo" title="Permanent link">&para;</a></h3>
<p>The <code>fpgainfo</code> utility displays FPGA information derived from sysfs files.</p>
<p>The command argument is one of the following: <code>errors</code>, <code>power</code>, <code>temp</code>, <code>port</code>, <code>fme</code>, <code>bmc</code>, <code>phy</code>, <code>mac</code>, and <code>security</code>. Some commands may also have other arguments or options that control their behavior.</p>
<p>For systems with multiple FPGA devices, you can specify the BDF to limit the output to the FPGA resource with the corresponding PCIe configuration. If not specified, information displays for all resources for the given command.</p>
<p>An example output for <code>fpgainfo fme</code> is shown below. Your IDs may not match what is shown here:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>$<span class="w"> </span>fpgainfo<span class="w"> </span>fme
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>Intel<span class="w"> </span>IPU<span class="w"> </span>Platform<span class="w"> </span>F2000X-PL
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>Board<span class="w"> </span>Management<span class="w"> </span>Controller<span class="w"> </span>NIOS<span class="w"> </span>FW<span class="w"> </span>version:<span class="w"> </span><span class="m">1</span>.1.9
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>Board<span class="w"> </span>Management<span class="w"> </span>Controller<span class="w"> </span>Build<span class="w"> </span>version:<span class="w"> </span><span class="m">1</span>.1.9
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>//******<span class="w"> </span>FME<span class="w"> </span>******//
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xEF00000
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:15:00.0
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCE
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x17D4
<a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x00
<a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a>Ports<span class="w"> </span>Num<span class="w">                        </span>:<span class="w"> </span><span class="m">01</span>
<a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a>Bitstream<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x50103023DFBFC8E
<a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a>Bitstream<span class="w"> </span>Version<span class="w">                </span>:<span class="w"> </span><span class="m">5</span>.0.1
<a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a>Pr<span class="w"> </span>Interface<span class="w"> </span>Id<span class="w">                  </span>:<span class="w"> </span>bf74e494-ad12-5509-98ab-4105d27979f3
<a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a>Boot<span class="w"> </span>Page<span class="w">                        </span>:<span class="w"> </span>user1
<a id="__codelineno-26-18" name="__codelineno-26-18" href="#__codelineno-26-18"></a>User1<span class="w"> </span>Image<span class="w"> </span>Info<span class="w">                 </span>:<span class="w"> </span>98ab4105d27979f3bf74e494ad125509
<a id="__codelineno-26-19" name="__codelineno-26-19" href="#__codelineno-26-19"></a>User2<span class="w"> </span>Image<span class="w"> </span>Info<span class="w">                 </span>:<span class="w"> </span>None
<a id="__codelineno-26-20" name="__codelineno-26-20" href="#__codelineno-26-20"></a>Factory<span class="w"> </span>Image<span class="w"> </span>Info<span class="w">               </span>:<span class="w"> </span>None
</code></pre></div>
<h3 id="52-host-exercisers">5.2 Host Exercisers<a class="headerlink" href="#52-host-exercisers" title="Permanent link">&para;</a></h3>
<p>Of these five tests listed below, the first three do not require an <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> be loaded into the board's <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> region. They exercise data paths that pass exclusively through the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr>. The latter three tests exercise data through the <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> data path, and require <a href="https://github.com/OFS/ofs-f2000x-pl/releases/tag/ofs-2023.1-1">SoC Attach release <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> Image</a> to be configured using <code>fpgasupdate</code>.</p>
<ul>
<li>Run HE-MEM with 2 cachelines per request in <code>mem</code> mode, exercising the FPGA's connection to DDR. No <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> required.<p><strong>Note</strong>: If you see the error message <code>Allocate SRC Buffer, Test mem(1): FAIL</code>, then you may need to manually allocate 2MiB Hugepages using the following: <code>echo 20 &gt; /sys/kernel/mm/hugepages/hugepages-2048kB/nr_hugepages</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="c1"># Create VF device</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>$<span class="w"> </span>pci_device<span class="w"> </span>&lt;PCIe<span class="w"> </span>Bus&gt;00.0<span class="w"> </span>vf<span class="w"> </span><span class="m">3</span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="c1"># Bind VF0 to vfio-pci</span>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a>$<span class="w"> </span>opaei.io<span class="w"> </span>init<span class="w"> </span>-d<span class="w"> </span>&lt;PCIe<span class="w"> </span>Bus&gt;:00.1<span class="w"> </span>&lt;username&gt;:&lt;username&gt;
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="c1"># Check for HE-MEM Accelerator GUID 8568ab4e-6ba5-4616-bb65-2a578330a8eb</span>
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a>$<span class="w"> </span>fpgainfo<span class="w"> </span>port<span class="w"> </span>-B<span class="w"> </span>&lt;PCIe<span class="w"> </span>Bus&gt;:00.0
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="c1"># Run desired HE-MEM test(s)</span>
<a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a>$<span class="w"> </span>host_exerciser<span class="w"> </span>--cls<span class="w"> </span>cl_1<span class="w"> </span>--mode<span class="w"> </span>lpbk<span class="w"> </span>mem
<a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a>starting<span class="w"> </span><span class="nb">test</span><span class="w"> </span>run,<span class="w"> </span>count<span class="w"> </span>of<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a>API<span class="w"> </span>version:<span class="w"> </span><span class="m">2</span>
<a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a>AFU<span class="w"> </span>clock:<span class="w"> </span><span class="m">470</span><span class="w"> </span>MHz
<a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a>Allocate<span class="w"> </span>SRC<span class="w"> </span>Buffer
<a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a>Allocate<span class="w"> </span>DST<span class="w"> </span>Buffer
<a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a>Allocate<span class="w"> </span>DSM<span class="w"> </span>Buffer
<a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>Performance<span class="w"> </span>Counter:
<a id="__codelineno-27-16" name="__codelineno-27-16" href="#__codelineno-27-16"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numReads:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-27-17" name="__codelineno-27-17" href="#__codelineno-27-17"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numWrites:<span class="w"> </span><span class="m">1025</span>
<a id="__codelineno-27-18" name="__codelineno-27-18" href="#__codelineno-27-18"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-27-19" name="__codelineno-27-19" href="#__codelineno-27-19"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-27-20" name="__codelineno-27-20" href="#__codelineno-27-20"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-27-21" name="__codelineno-27-21" href="#__codelineno-27-21"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-27-22" name="__codelineno-27-22" href="#__codelineno-27-22"></a><span class="w">    </span>Number<span class="w"> </span>of<span class="w"> </span>clocks:<span class="w"> </span><span class="m">9948</span>
<a id="__codelineno-27-23" name="__codelineno-27-23" href="#__codelineno-27-23"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Reads<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-27-24" name="__codelineno-27-24" href="#__codelineno-27-24"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Writes<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-27-25" name="__codelineno-27-25" href="#__codelineno-27-25"></a><span class="w">    </span>Bandwidth:<span class="w"> </span><span class="m">3</span>.096<span class="w"> </span>GB/s
<a id="__codelineno-27-26" name="__codelineno-27-26" href="#__codelineno-27-26"></a><span class="w">    </span>Test<span class="w"> </span>mem<span class="o">(</span><span class="m">1</span><span class="o">)</span>:<span class="w"> </span>PASS
</code></pre></div>
</li>
</ul>
<ul>
<li>Generate traffic with HE-HSSI. No <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> required.<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="c1"># Create VF device</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>$<span class="w"> </span>pci_device<span class="w"> </span>&lt;PCIe<span class="w"> </span>Bus&gt;00.0<span class="w"> </span>vf<span class="w"> </span><span class="m">3</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="c1"># Bind VF2 to vfio-pci</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>$<span class="w"> </span>opaei.io<span class="w"> </span>init<span class="w"> </span>-d<span class="w"> </span>&lt;PCIe<span class="w"> </span>Bus&gt;:00.2<span class="w"> </span>&lt;username&gt;:&lt;username&gt;
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="c1"># Check for HE-HSSI Accelerator GUID 823c334c-98bf-11ea-bb37-0242ac130002</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>$<span class="w"> </span>fpgainfo<span class="w"> </span>port<span class="w"> </span>-B<span class="w"> </span>&lt;PCIe<span class="w"> </span>Bus&gt;:00.0
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="c1"># Show number of configured ports</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>$<span class="w"> </span>fpgainfo<span class="w"> </span>phy<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>Port
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="c1"># Generate traffic for specific port number</span>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a>$<span class="w"> </span>hssi<span class="w"> </span>--pci-address<span class="w"> </span>&lt;PCIe<span class="w"> </span>Bus&gt;:00.2<span class="w"> </span>hssi_10g<span class="w"> </span>--num-packets<span class="w"> </span><span class="m">100</span><span class="w"> </span>--port<span class="w"> </span>&lt;port<span class="w"> </span>number&gt;
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a>10G<span class="w"> </span>loopback<span class="w"> </span><span class="nb">test</span>
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="w">  </span>Tx/Rx<span class="w"> </span>port:<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="w">  </span>Tx<span class="w"> </span>port:<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="w">  </span>Rx<span class="w"> </span>port:<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a><span class="w">  </span>eth_loopback:<span class="w"> </span>on
<a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="w">  </span>he_loopback:<span class="w"> </span>none
<a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="w">  </span>num_packets:<span class="w"> </span><span class="m">100</span>
<a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a><span class="w">  </span>packet_length:<span class="w"> </span><span class="m">64</span>
<a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a><span class="w">  </span>src_address:<span class="w"> </span><span class="m">11</span>:22:33:44:55:66
<a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a><span class="w">    </span><span class="o">(</span>bits<span class="o">)</span>:<span class="w"> </span>0x665544332211
<a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a><span class="w">  </span>dest_address:<span class="w"> </span><span class="m">77</span>:88:99:aa:bb:cc
<a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a><span class="w">    </span><span class="o">(</span>bits<span class="o">)</span>:<span class="w"> </span>0xccbbaa998877
<a id="__codelineno-28-23" name="__codelineno-28-23" href="#__codelineno-28-23"></a><span class="w">  </span>random_length:<span class="w"> </span>fixed
<a id="__codelineno-28-24" name="__codelineno-28-24" href="#__codelineno-28-24"></a><span class="w">  </span>random_payload:<span class="w"> </span>incremental
<a id="__codelineno-28-25" name="__codelineno-28-25" href="#__codelineno-28-25"></a>...
</code></pre></div>
<p>This command will generate a log file in the directory is was run from. Check TxPackets and RxPackets for any loss. Two more supported HSSI commands are <code>hssistats</code>, which provides MAC statistics, and <code>hssimac</code>, which provides maximum TX and RX frame size.</p>
</li>
</ul>
<ul>
<li>Test memory traffic generation using MEM-TG. This will exercise and test available memory channels with a configurable memory pattern. Does not require an <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> image.<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="c1"># Create VF device</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>$<span class="w"> </span>pci_device<span class="w"> </span>&lt;PCIe<span class="w"> </span>Bus&gt;00.0<span class="w"> </span>vf<span class="w"> </span><span class="m">3</span>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="c1"># Bind VF2 to vfio-pci</span>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>$<span class="w"> </span>opaei.io<span class="w"> </span>init<span class="w"> </span>-d<span class="w"> </span>&lt;PCIe<span class="w"> </span>Bus&gt;:00.3<span class="w"> </span>&lt;username&gt;:&lt;username&gt;
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="c1"># Check for MEM-TG Accelerator GUID 4dadea34-2c78-48cb-a3dc-5b831f5cecbb</span>
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>$<span class="w"> </span>fpgainfo<span class="w"> </span>port<span class="w"> </span>-B<span class="w"> </span>&lt;PCIe<span class="w"> </span>Bus&gt;:00.0
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="c1"># Example MEM-TG Test</span>
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>$<span class="w">  </span>mem_tg<span class="w"> </span>--loops<span class="w"> </span><span class="m">500</span><span class="w"> </span>-w<span class="w"> </span><span class="m">1000</span><span class="w"> </span>-r<span class="w"> </span><span class="m">0</span><span class="w"> </span>-b<span class="w"> </span>0x1<span class="w"> </span>--stride<span class="w"> </span>0x1<span class="w"> </span>-m<span class="w"> </span><span class="m">0</span><span class="w"> </span>tg_test
</code></pre></div>
</li>
</ul>
<ul>
<li>HE-LPBK is designed to demo how AFUs move data between host memory and the FPGA. Will check latency, <abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr> latency, <abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr> bandwidth, and PCIe bandwidth.  LPBK workload requires the SoC Attach <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> be loaded into the board's <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> slot.<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="c1"># Create VF device</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>$<span class="w"> </span>pci_device<span class="w"> </span>&lt;PCIe<span class="w"> </span>Bus&gt;00.0<span class="w"> </span>vf<span class="w"> </span><span class="m">3</span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="c1"># Bind VF1 to vfio-pci</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a>$<span class="w"> </span>opaei.io<span class="w"> </span>init<span class="w"> </span>-d<span class="w"> </span>&lt;PCIe<span class="w"> </span>Bus&gt;:00.1<span class="w"> </span>&lt;username&gt;:&lt;username&gt;
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="c1"># Check for LPBK GUID 56e203e9-864f-49a7-b94b-12284c31e02b</span>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a>$<span class="w"> </span>fpgainfo<span class="w"> </span>port<span class="w"> </span>-B<span class="w"> </span>&lt;PCIe<span class="w"> </span>Bus&gt;:00.0
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="c1"># Example loopback test</span>
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a>$<span class="w">  </span>host_exerciser<span class="w"> </span>--mode<span class="w"> </span>lpbk<span class="w"> </span>lpbk
</code></pre></div>
</li>
</ul>
<ul>
<li>Exercise He-HSSI subsystem from the <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr>. This test will generate and receieve packets from any of the 8 available ports. This HSSI workload requires the SoC Attach <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> be loaded into the board's <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> slot.<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="c1"># Create VF device</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>$<span class="w"> </span>pci_device<span class="w"> </span>&lt;PCIe<span class="w"> </span>Bus&gt;00.0<span class="w"> </span>vf<span class="w"> </span><span class="m">3</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="c1"># Bind VF6 to vfio-pci</span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a>$<span class="w"> </span>opaei.io<span class="w"> </span>init<span class="w"> </span>-d<span class="w"> </span>&lt;PCIe<span class="w"> </span>Bus&gt;:00.2<span class="w"> </span>&lt;username&gt;:&lt;username&gt;
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="c1"># Check for HSSI GUID 823c334c-98bf-11ea-bb37-0242ac130002</span>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a>$<span class="w"> </span>fpgainfo<span class="w"> </span>port<span class="w"> </span>-B<span class="w"> </span>&lt;PCIe<span class="w"> </span>Bus&gt;:00.0
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="c1"># Geneate traffic for specific port</span>
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a>$<span class="w">  </span>hssi<span class="w"> </span>--pci-address<span class="w"> </span>&lt;bus_num&gt;:00.6<span class="w"> </span>hssi_10g<span class="w"> </span>--num-packets<span class="w"> </span><span class="m">100</span><span class="w"> </span>--port<span class="w"> </span>&lt;port_num&gt;
</code></pre></div>
<p>This command will generate a log file in the directory is was run from. Check TxPackets and RxPackets for any loss. Two more supported HSSI commands are <code>hssistats</code>, which provides MAC statistics, and <code>hssimac</code>, which provides maximum TX and RX frame size.</p>
</li>
</ul>
<h3 id="53-additional-opae-sdk-utilities">5.3 Additional <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> Utilities<a class="headerlink" href="#53-additional-opae-sdk-utilities" title="Permanent link">&para;</a></h3>
<p>This section will discuss <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> utilities that were not covered by previous sections. These commands are all available on the ICX-D SoC Yocto image by default. A full description and syntax breakdown for each command is located on the official <a href="https://opae.github.io/latest/"><abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr></a> github.io repo.</p>
<h4 id="table-6-opae-sdk-utilities">Table 6: <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> Utilities<a class="headerlink" href="#table-6-opae-sdk-utilities" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Utility</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>fpgasupdate</td>
<td><a href="#32-updating-fim,-bmc-and-afu-with-fpgasupdate">3.2 Updating <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr>, <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> and <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> with <code>fpgasupdate</code></a></td>
</tr>
<tr>
<td>rsu</td>
<td><a href="#33-loading-images-with-rsu">Section 3.3 Loading images with <code>rsu</code></a></td>
</tr>
<tr>
<td>host_exerciser</td>
<td><a href="#52-host-exercisers">Section 5.2 Host Exercisers</a></td>
</tr>
<tr>
<td>hssi</td>
<td><a href="#52-host-exercisers">Section 5.2 Host Exercisers</a></td>
</tr>
<tr>
<td>hssistats</td>
<td><a href="#52-host-exercisers">Section 5.2 Host Exercisers</a></td>
</tr>
<tr>
<td>hssimac</td>
<td><a href="#52-host-exercisers">Section 5.2 Host Exercisers</a></td>
</tr>
<tr>
<td>mem_tg</td>
<td><a href="#52-host-exercisers">Section 5.2 Host Exercisers</a></td>
</tr>
<tr>
<td><strong>usrclk</strong></td>
<td><code>userclk</code> tool is used to set high and low clock frequency to an <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr>.</td>
</tr>
<tr>
<td><strong>mmlink</strong></td>
<td>Remote signaltap is software tool used for debug RTL (<abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr>), effectively a signal trace capability that Quartus places into a green bitstream. Remote Signal Tap provides access the RST part of the Port <abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr> space, and then runs the remote protocol on top.</td>
</tr>
<tr>
<td><strong>opaevfio</strong></td>
<td>The <code>opaevfio</code> command enables the binding/unbinding of a PCIe device to/from the vfio-pci device driver. See https://kernel.org/doc/Documentation/vfio.txt for a description of vfio-pci.</td>
</tr>
<tr>
<td><strong>opae.io</strong></td>
<td>An interactive Python environment packaged on top of libopaevfio.so, which provides user space access to PCIe devices via the vfio-pci driver. The main feature of opae.io is its built-in Python command interpreter, along with some Python bindings that provide a means to access Configuration and Status Registers (CSRs) that reside on the PCIe device.</td>
</tr>
<tr>
<td><strong>bitstreaminfo</strong></td>
<td>Prints bitstream metadata.</td>
</tr>
<tr>
<td><strong>fpgaconf</strong></td>
<td>Lower level programming utility that is called automatically by <code>fpgasupdate</code>. <code>fpgaconf</code> writes accelerator configuration bitstreams (also referred to as "green bitstreams") to an FPGA device recognized by OPAE. In the process, it also checks the green bitstream file for compatibility with the targeted FPGA and its current infrastructure bitstream (the "blue bistream").</td>
</tr>
<tr>
<td><strong>fpgad</strong></td>
<td>Periodically monitors/reports the error status reflected in the device driver's error status sysfs files. Establishes the channel by which events are communicated to the OPAE application. Programs a NULL bitstream in response to AP6 event. <code>fpgad</code> is required to be running before API calls fpgaRegisterEvent and fpgaUnregisterEvent will succeed.</td>
</tr>
</tbody>
</table>
<h2 id="60-setting-up-the-host">6.0 Setting up the Host<a class="headerlink" href="#60-setting-up-the-host" title="Permanent link">&para;</a></h2>
<p>External SoC Attach supports testing Host to FPGA latency, <abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr> latency, and <abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr> bandwidth. This testing is accomplished using the utility <code>host_exerciser</code> on the host, whichis included as a part of OPAE. This section will cover the installation and verification flow for a host interacting with the SoC Attach workload.</p>
<p>Review <a href="#12-server-requirements">Section 1.2 Server Requirements</a> for a list of changes required on the host to support an Intel IPU Platform F2000X-PL and for a list of supported OS distributions. Installation will require an active internet connetion to resolve dependencies.</p>
<p>The following software checks may be run on the host to verify the FPGA has been detected and has auto-negotatiated the correct PCIe link width/speed. These commands do not require any packages to be installed. We are using PCIe BDF <code>b1:00.0</code> as an example address.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="c1"># Check that the board has enumerated successfully.</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="c1"># Your PCIe BDF may differ from what is shown below.</span>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>$<span class="w"> </span>lspci<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>accel
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>b1:00.0<span class="w"> </span>Processing<span class="w"> </span>accelerators:<span class="w"> </span>Intel<span class="w"> </span>Corporation<span class="w"> </span>Device<span class="w"> </span>bcce<span class="w"> </span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>b1:00.1<span class="w"> </span>Processing<span class="w"> </span>accelerators:<span class="w"> </span>Intel<span class="w"> </span>Corporation<span class="w"> </span>Device<span class="w"> </span>bcce
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="c1"># Check PCIe link status and speed. Width should be x16, and speed whould be 16GT/s</span>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a>sudo<span class="w"> </span>lspci<span class="w"> </span>-s<span class="w"> </span>b1:00.0<span class="w"> </span>-vvv<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>LnkSta<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-o<span class="w"> </span>-P<span class="w"> </span><span class="s1">&#39;Width.{0,4}&#39;</span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a>sudo<span class="w"> </span>lspci<span class="w"> </span>-s<span class="w"> </span>b1:00.0<span class="w"> </span>-vvv<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>LnkSta<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-o<span class="w"> </span>-P<span class="w"> </span><span class="s1">&#39;Speed.{0,7}&#39;</span>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a>
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a>sudo<span class="w"> </span>lspci<span class="w"> </span>-s<span class="w"> </span>b1:00.1<span class="w"> </span>-vvv<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>LnkSta<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-o<span class="w"> </span>-P<span class="w"> </span><span class="s1">&#39;Width.{0,4}&#39;</span>
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a>sudo<span class="w"> </span>lspci<span class="w"> </span>-s<span class="w"> </span>b1:00.1<span class="w"> </span>-vvv<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>LnkSta<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-o<span class="w"> </span>-P<span class="w"> </span><span class="s1">&#39;Speed.{0,7}&#39;</span>
</code></pre></div>
<h3 id="61-installing-the-opae-sdk-on-the-host">6.1 Installing the <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> On the Host<a class="headerlink" href="#61-installing-the-opae-sdk-on-the-host" title="Permanent link">&para;</a></h3>
<p>The <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> software stack sits in user space on top of the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> kernel drivers. It is a common software infrastructure layer that simplifies and streamlines integration of programmable accelerators such as FPGAs into software applications and environments. OPAE consists of a set of drivers, user-space libraries, and tools to discover, enumerate, share, query, access, manipulate, and reconfigure programmable accelerators. OPAE is designed to support a layered, common programming model across different platforms and devices. To learn more about OPAE, its documentation, code samples, an explanation of the available tools, and an overview of the software architecture, visit the <a href="https://opae.github.io/2.1.0/docs/fpga_tools/opae.io/opae.io.html">opae.io</a> page.</p>
<p>The <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> source code is contained within a single <a href="https://github.com/OFS/opae-sdk.git">GitHub repository</a> hosted at the OPAE Github. This repository is open source and does not require any permissions to access.</p>
<ol>
<li>
<p>Before Installing the newest version of OPAE you must remove any prior OPAE framework installations.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>remove<span class="w"> </span>opae*
</code></pre></div>
</li>
<li>
<p>The following system and Python3 package dependencies must be installed before OPAE may be built.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>bison<span class="w"> </span>flex<span class="w"> </span>git<span class="w"> </span>ssh<span class="w"> </span>pandoc<span class="w"> </span>devscripts<span class="w"> </span>debhelper<span class="w"> </span>cmake<span class="w"> </span>python3-dev<span class="w"> </span>libjson-c-dev<span class="w"> </span>uuid-dev<span class="w"> </span>libhwloc-dev<span class="w"> </span>doxygen<span class="w"> </span>libtbb-dev<span class="w"> </span>libncurses-dev<span class="w"> </span>libspdlog-dev<span class="w"> </span>libspdlog1<span class="w"> </span>python3-pip<span class="w"> </span>libedit-dev<span class="w"> </span>pkg-config<span class="w"> </span>libcli11-dev<span class="w"> </span>libssl-dev<span class="w"> </span>dkms<span class="w"> </span>libelf-dev<span class="w"> </span>gawk<span class="w"> </span>openssl<span class="w"> </span>libudev-dev<span class="w"> </span>libpci-dev<span class="w">  </span>libiberty-dev<span class="w"> </span>autoconf<span class="w"> </span>llvm
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a>$<span class="w"> </span>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>setuptools<span class="w"> </span>pybind11<span class="w"> </span>jsonschema
</code></pre></div>
</li>
<li>
<p>Clone the <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> repo. In this example we will use the top level directory <code>OFS</code> for our package installs.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>$<span class="w"> </span>mkdir<span class="w"> </span>OFS<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>OFS
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>$<span class="w"> </span>git<span class="w"> </span>init
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OFS/opae-sdk.git
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>opae-sdk
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>tags/2.5.0-3
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="c1"># Verifying we are on the correct release tag</span>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a>$<span class="w"> </span>git<span class="w"> </span>describe<span class="w"> </span>--tags
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="m">2</span>.5.0-3
</code></pre></div>
</li>
<li>
<p>Navigate to the automatic DEB package build script location and execute.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>OFS/opae-sdk/packaging/opae/deb<span class="w"> </span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>$<span class="w"> </span>./create
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="c1"># Verify all packages are present</span>
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a>$<span class="w"> </span>ls<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>opae.*.deb
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a>opae_2.5.0-1_amd64.deb
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a>opae-dbgsym_2.5.0-1_amd64.ddeb
<a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a>opae-devel_2.5.0-1_amd64.deb
<a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a>opae-devel-dbgsym_2.5.0-1_amd64.ddeb
<a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a>opae-extra-tools_2.5.0-1_amd64.deb
<a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a>opae-extra-tools-dbgsym_2.5.0-1_amd64.ddeb
</code></pre></div>
</li>
<li>
<p>Install your newly built <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> packages.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>OFS/opae-sdk/packaging/opae/deb
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>$<span class="w"> </span>sudo<span class="w"> </span>dpkg<span class="w"> </span>-i<span class="w"> </span>opae*.deb
</code></pre></div>
<p>The OPAE tools installed on the host are identical to those installed on the SoC as shown in sections 5.0 through 5.3. A set of pre-compiled <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> artifacts are included in this release. These can be downloaded from <a href="https://github.com/OFS/ofs-f2000x-pl/releases/tag/ofs-2023.1-1">2023.1 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Release for Intel Agilex SoC Attach Reference Shell</a> and installed without building/configuring.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>$<span class="w"> </span>tar<span class="w"> </span>xf<span class="w"> </span>opae-*.tar.gz
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a>$<span class="w"> </span>sudo<span class="w"> </span>dpkg<span class="w"> </span>-i<span class="w"> </span>opae*.deb
</code></pre></div>
</li>
<li>
<p>Enable <em>iommu=on</em>, <em>pcie=realloc</em>, and set <em>hugepages</em> as host kernel parameters.</p>
<p>```bash session
  # Check if parameters are already enabled
  $ cat /proc/cmdline
  <div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>If you do not see *intel_iommu=on pcie=realloc hugepagesz=2M hugepages=200*, then add them manually.
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a>```bash session
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a>$ sudo vim /etc/default/grub
<a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a># Edit the value for GRUB_CMDLINE_LINUX, add the values at the end of the variable inside of the double quotes. Example: GRUB_CMDLINE_LINUX=&quot;crashkernel=auto resume=/dev/mapper/rhel00-swap rd.lvm.lv=rhel00/root rd.lvm.lv=rhel00/swap rhgb quiet intel_iommu=on pcie=realloc hugepagesz=2M hugepages=200&quot;
<a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a># Save your changes, then apply them with the following
<a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a>$ sudo grub2-mkconfig
<a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a>$ sudo reboot now
</code></pre></div></p>
</li>
</ol>
<p>After rebooting, check that <code>proc/cmdline</code> reflects your changes.</p>
<h3 id="62-verifying-the-soc-attach-solution-on-the-host">6.2 Verifying the SoC Attach Solution on the Host<a class="headerlink" href="#62-verifying-the-soc-attach-solution-on-the-host" title="Permanent link">&para;</a></h3>
<p>The SoC Attach workload supports testing <abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr> HW and Latency and PCIe BW and latency out of box. Execution of the <code>host_exerciser</code> binary on the host requires the <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> to be installed as shown in section <a href="#61-installing-the-opae-sdk-on-the-host">6.1 Installing the <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> On the Host</a>. You will also need to have a proper SoC Attach <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> configured on your board as shown in section <a href="#32-updating-fim-bmc-and-afu-with-fpgasupdate">3.2 Updating <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr>, <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> and <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> with <code>fpgasupdate</code></a>.</p>
<ol>
<li>
<p>Initialize PF attached to HSSI LPBK GUID with <em>vfio-pci</em> driver.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>$<span class="w"> </span>sudo<span class="w"> </span>opae.io<span class="w"> </span>init<span class="w"> </span>-d<span class="w"> </span><span class="m">0000</span>:b1:00.0<span class="w"> </span>&lt;username&gt;:&lt;username&gt;
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a>$<span class="w"> </span>sudo<span class="w"> </span>opae.io<span class="w"> </span>init<span class="w"> </span>-d<span class="w"> </span><span class="m">0000</span>:b1:00.1<span class="w"> </span>&lt;username&gt;:&lt;username&gt;
</code></pre></div>
</li>
<li>
<p>Run <code>host_exerciser</code> loopback tests (only <em>lpbk</em> is supported). There are more methods of operation than are shown below - read the HE help message for more information.</p>
</li>
</ol>
<p>```bash session</p>
<h1 id="example-lpbk-tests">Example lpbk tests.<a class="headerlink" href="#example-lpbk-tests" title="Permanent link">&para;</a></h1>
<p>sudo host_exerciser lpbk
sudo host_exerciser --mode lpbk lpbk
sudo host_exerciser --cls cl_4  lpbk
sudo host_exerciser --perf true --cls cl_4  lpbk</p>
<h1 id="number-of-cachelines-per-request-4">Number of cachelines per request 4.<a class="headerlink" href="#number-of-cachelines-per-request-4" title="Permanent link">&para;</a></h1>
<p>sudo host_exerciser --mode lpbk --cls cl_4 lpbk
sudo host_exerciser --perf true --mode lpbk --cls cl_4 lpbk</p>
<h1 id="vnumber-of-cachelines-per-request-4">vNumber of cachelines per request 4.<a class="headerlink" href="#vnumber-of-cachelines-per-request-4" title="Permanent link">&para;</a></h1>
<p>sudo host_exerciser --mode read --cls cl_4 lpbk
sudo host_exerciser --perf true --mode read --cls cl_4 lpbk</p>
<h1 id="number-of-cachelines-per-request-4_1">Number of cachelines per request 4.<a class="headerlink" href="#number-of-cachelines-per-request-4_1" title="Permanent link">&para;</a></h1>
<p>sudo host_exerciser --mode write --cls cl_4 lpbk
sudo host_exerciser --perf true --mode write --cls cl_4 lpbk</p>
<h1 id="number-of-cachelines-per-request-4_2">Number of cachelines per request 4.<a class="headerlink" href="#number-of-cachelines-per-request-4_2" title="Permanent link">&para;</a></h1>
<p>sudo host_exerciser --mode trput --cls cl_4 lpbk
sudo host_exerciser --perf true --mode trput --cls cl_4 lpbk</p>
<h1 id="enable-interleave-requests-in-throughput-mode">Enable interleave requests in throughput mode<a class="headerlink" href="#enable-interleave-requests-in-throughput-mode" title="Permanent link">&para;</a></h1>
<p>sudo host_exerciser --mode trput --interleave 2 lpbk
sudo host_exerciser --perf true --mode trput --interleave 2 lpbk</p>
<h1 id="with-delay-option">with delay option.<a class="headerlink" href="#with-delay-option" title="Permanent link">&para;</a></h1>
<p>sudo host_exerciser --mode read --delay true lpbk
sudo host_exerciser --mode write --delay true lpbk</p>
<h1 id="test-all-modes-of-operation">Test all modes of operation<a class="headerlink" href="#test-all-modes-of-operation" title="Permanent link">&para;</a></h1>
<p>host_exerciser --testall=true lpbk
```</p>
<h2 id="notices-disclaimers">Notices &amp; Disclaimers<a class="headerlink" href="#notices-disclaimers" title="Permanent link">&para;</a></h2>
<p>Intel<sup>&reg;</sup> technologies may require enabled hardware, software or service activation.
No product or component can be absolutely secure. 
Performance varies by use, configuration and other factors.
Your costs and results may vary. 
You may not use or facilitate the use of this document in connection with any infringement or other legal analysis concerning Intel products described herein. You agree to grant Intel a non-exclusive, royalty-free license to any patent claim thereafter drafted which includes subject matter disclosed herein.
No license (express or implied, by estoppel or otherwise) to any intellectual property rights is granted by this document, with the sole exception that you may publish an unmodified copy. You may create software implementations based on this document and in compliance with the foregoing that are intended to execute on the Intel product(s) referenced in this document. No rights are granted to create modifications or derivatives of this document.
The products described may contain design defects or errors known as errata which may cause the product to deviate from published specifications.  Current characterized errata are available on request.
Intel disclaims all express and implied warranties, including without limitation, the implied warranties of merchantability, fitness for a particular purpose, and non-infringement, as well as any warranty arising from course of performance, course of dealing, or usage in trade.
You are responsible for safety of the overall system, including compliance with applicable safety-related requirements or standards. 
<sup>&copy;</sup> Intel Corporation.  Intel, the Intel logo, and other Intel marks are trademarks of Intel Corporation or its subsidiaries.  Other names and brands may be claimed as the property of others. </p>
<p>OpenCL and the OpenCL logo are trademarks of Apple Inc. used by permission of the Khronos Group™.   </p>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.indexes", "search.suggest", "search.highlight", "content.code.copy", "navigation.indexes", "toc.follow"], "search": "../../../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.fac441b0.min.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>