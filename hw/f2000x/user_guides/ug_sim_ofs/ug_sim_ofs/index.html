
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../../dev_guides/afu_dev/ug_dev_afu_ofs_f2000x/">
      
      
        <link rel="next" href="../../../../common/user_guides/ug_docker/ug_docker/">
      
      <link rel="icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.9">
    
    
      
        <title>Simulation User Guide - OFS</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.85bb2934.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../../../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#simulation-user-guide-open-fpga-stack-for-intel-agilex-soc-attach-fpgas" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="OFS" class="md-header__button md-logo" aria-label="OFS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OFS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Simulation User Guide
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ofs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ofs
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../../.." class="md-tabs__link">
      Welcome
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../d5005/user_guides/ug_eval_ofs_d5005/ug_eval_script_ofs_d5005/" class="md-tabs__link">
        Stratix 10 PCIe Attach OFS
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../n6001/user_guides/ug_eval_ofs_n6001/ug_eval_script_ofs_n6001/" class="md-tabs__link">
        Agilex PCIe Attach OFS
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../ug_eval_ofs/ug_eval_script_ofs_f2000x/" class="md-tabs__link md-tabs__link--active">
        Agilex SoC Attach OFS
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../common/user_guides/oneapi_asp/ug_oneapi_asp/" class="md-tabs__link">
        oneAPI
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../sw/fpga_api/quick_start/readme/" class="md-tabs__link">
        OFS Software
      </a>
    </li>
  

  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="OFS" class="md-nav__button md-logo" aria-label="OFS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    OFS
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ofs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ofs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Stratix 10 PCIe Attach OFS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Stratix 10 PCIe Attach OFS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../d5005/user_guides/ug_eval_ofs_d5005/ug_eval_script_ofs_d5005/" class="md-nav__link">
        Quick Start Evaluation Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../d5005/user_guides/ug_qs_ofs_d5005/ug_qs_ofs_d5005/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/reference_manual/ofs_sw/mnl_sw_ofs/" class="md-nav__link">
        Software Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../d5005/reference_manuals/ofs_fim/mnl_fim_ofs_d5005/" class="md-nav__link">
        FPGA Interface Manager Technical Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../d5005/dev_guides/fim_dev/ug_dev_fim_ofs_d5005/" class="md-nav__link">
        FPGA Interface Manager Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../d5005/dev_guides/afu_dev/ug_dev_afu_d5005/" class="md-nav__link">
        AFU Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../d5005/user_guides/ug_sim_ofs_d5005/ug_sim_ofs_d5005/" class="md-nav__link">
        Simulation User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_docker/ug_docker/" class="md-nav__link">
        Docker User guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_kvm/ug_kvm/" class="md-nav__link">
        KVM User guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../d5005/doc_modules/Glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Agilex PCIe Attach OFS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Agilex PCIe Attach OFS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/user_guides/ug_eval_ofs_n6001/ug_eval_script_ofs_n6001/" class="md-nav__link">
        Quick Start Evaluation Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/user_guides/ug_qs_ofs_n6001/ug_qs_ofs_n6001/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/reference_manual/ofs_sw/mnl_sw_ofs/" class="md-nav__link">
        Software Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/reference_manuals/ofs_fim/mnl_fim_ofs_n6001/" class="md-nav__link">
        FPGA Interface Manager Technical Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/dev_guides/fim_dev/ug_dev_fim_ofs_n6001/" class="md-nav__link">
        FPGA Interface Manager Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/dev_guides/afu_dev/ug_dev_afu_ofs_n6001/" class="md-nav__link">
        AFU Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/dev_guides/hps_dev/hps_developer_ug/" class="md-nav__link">
        HPS Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/user_guides/ug_sim_ofs_n6001/ug_sim_ofs_n6001/" class="md-nav__link">
        Simulation User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_docker/ug_docker/" class="md-nav__link">
        Docker User guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_kvm/ug_kvm/" class="md-nav__link">
        KVM User guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/doc_modules/Glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Agilex SoC Attach OFS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Agilex SoC Attach OFS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ug_eval_ofs/ug_eval_script_ofs_f2000x/" class="md-nav__link">
        Quick Start Evaluation Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ug_qs_ofs_f2000x/ug_qs_ofs_f2000x/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/reference_manual/ofs_sw/mnl_sw_ofs/" class="md-nav__link">
        Software Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference_manuals/ofs_fim/mnl_fim_ofs/" class="md-nav__link">
        FPGA Interface Manager Technical Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev_guides/fim_dev/ug_dev_fim_ofs_f2000x/" class="md-nav__link">
        FPGA Interface Manager Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev_guides/afu_dev/ug_dev_afu_ofs_f2000x/" class="md-nav__link">
        AFU Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Simulation User Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Simulation User Guide
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-overview" class="md-nav__link">
    1 Overview
  </a>
  
    <nav class="md-nav" aria-label="1 Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-about-this-document" class="md-nav__link">
    1.1 About this Document
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-introduction-to-uvm" class="md-nav__link">
    2 Introduction to UVM
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-universal-testbench-architecture" class="md-nav__link">
    3 Universal Testbench Architecture
  </a>
  
    <nav class="md-nav" aria-label="3 Universal Testbench Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-overview" class="md-nav__link">
    3.1 Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-core-verification-concepts" class="md-nav__link">
    3.2 Core Verification Concepts
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-ofs-testbench-architecture" class="md-nav__link">
    4 OFS Testbench Architecture
  </a>
  
    <nav class="md-nav" aria-label="4 OFS Testbench Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-overview" class="md-nav__link">
    4.1 Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-base-fim-dut" class="md-nav__link">
    4.2 Base FIM DUT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-full-chip-level-verification-archiecture-for-fim" class="md-nav__link">
    4.3 Full Chip Level Verification Archiecture for FIM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#431-testbench-components" class="md-nav__link">
    4.3.1 Testbench components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4311-tb-top" class="md-nav__link">
    4.3.1.1 TB TOP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4312-fim-verification-environment" class="md-nav__link">
    4.3.1.2 FIM Verification Environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4313-synopsys-vips" class="md-nav__link">
    4.3.1.3 Synopsys VIPs
  </a>
  
    <nav class="md-nav" aria-label="4.3.1.3 Synopsys VIPs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#43131-pci-vip-as-host" class="md-nav__link">
    4.3.1.3.1 PCI VIP as Host
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43132-axi-streaming-vip-monitors" class="md-nav__link">
    4.3.1.3.2 AXI-Streaming VIP Monitors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43133-axi4-memory-mapped-vip-monitors" class="md-nav__link">
    4.3.1.3.3 AXI4-Memory Mapped VIP Monitors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43134-axi4-lite-vip-monitors" class="md-nav__link">
    4.3.1.3.4 AXI4-Lite VIP Monitors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43135-axi4-lite-vip-as-pmci-master" class="md-nav__link">
    4.3.1.3.5 AXI4-Lite VIP as PMCI Master
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4314-axi4-s-scoreboard" class="md-nav__link">
    4.3.1.4 AXI4-S Scoreboard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4315-virtual-sequencer" class="md-nav__link">
    4.3.1.5 Virtual Sequencer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4316-fim-monitor" class="md-nav__link">
    4.3.1.6 FIM Monitor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4317-fim-assertions" class="md-nav__link">
    4.3.1.7 FIM Assertions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4318-fim-functional-coverage" class="md-nav__link">
    4.3.1.8 FIM Functional Coverage
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-uvm-verification-set-up" class="md-nav__link">
    5 UVM Verification set-up
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#51-uvm-prerequisite" class="md-nav__link">
    5.1 UVM Prerequisite
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#52-license-requirements" class="md-nav__link">
    5.2 License Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#53-software-tools-requirements" class="md-nav__link">
    5.3 Software Tools Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#54-creating-a-software-tools-script" class="md-nav__link">
    5.4 Creating a Software Tools Script
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license-files" class="md-nav__link">
    License Files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general-environment-variables" class="md-nav__link">
    General Environment Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quartus-tools" class="md-nav__link">
    Quartus Tools
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synopsys-verification-tools" class="md-nav__link">
    Synopsys Verification Tools
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#questasim-verification-tools" class="md-nav__link">
    QuestaSIM Verification Tools
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-running-a-uvm-simulation-test-and-analysing-results" class="md-nav__link">
    6 Running a UVM Simulation Test and Analysing Results
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#61-simulation" class="md-nav__link">
    6.1 Simulation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#62-file-structure" class="md-nav__link">
    6.2 File Structure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#63-uvm-test-suite" class="md-nav__link">
    6.3 UVM Test Suite
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#64-ip-compile" class="md-nav__link">
    6.4 IP Compile
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synopsys-vcs" class="md-nav__link">
    Synopsys VCS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#questasim-tbd" class="md-nav__link">
    Questasim (TBD)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#65-rtl-test-bench-compile" class="md-nav__link">
    6.5 RTL &amp; Test Bench Compile
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synopsys-vcs_1" class="md-nav__link">
    Synopsys VCS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#questasim-tbd_1" class="md-nav__link">
    Questasim (TBD)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#66-ip-and-rtl-test-bench-compile" class="md-nav__link">
    6.6 IP and RTL &amp; Test Bench Compile
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synopsys-vcs_2" class="md-nav__link">
    Synopsys VCS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#questasim-tbd_2" class="md-nav__link">
    Questasim (TBD)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synopsys-vcs_3" class="md-nav__link">
    Synopsys VCS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#questasim-tbd_3" class="md-nav__link">
    Questasim (TBD)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synopsys-vcs_4" class="md-nav__link">
    Synopsys VCS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#questasim-tbd_4" class="md-nav__link">
    Questasim (TBD)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#67-uvm-regression-test" class="md-nav__link">
    6.7 UVM Regression Test
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#68-uvm-waveform-and-transcript-analysis" class="md-nav__link">
    6.8 UVM Waveform and Transcript Analysis
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synopsys-vcs_5" class="md-nav__link">
    Synopsys VCS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#questasim-tbd_5" class="md-nav__link">
    Questasim (TBD)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#69-uvm-coverage-analysis" class="md-nav__link">
    6.9 UVM Coverage Analysis
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-csr-verification-using-uvm-ral" class="md-nav__link">
    7 CSR Verification using UVM RAL
  </a>
  
    <nav class="md-nav" aria-label="7 CSR Verification using UVM RAL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-overview" class="md-nav__link">
    7.1 Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-ral-integration" class="md-nav__link">
    7.2 RAL Integration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-ral-model-generation" class="md-nav__link">
    7.3 RAL Model Generation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#74-top-level-verification-architecture-for-csr-testing" class="md-nav__link">
    7.4 Top Level Verification Architecture for CSR testing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#741-testbench-components" class="md-nav__link">
    7.4.1 Testbench components
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-modifying-uvm-testbench" class="md-nav__link">
    8 Modifying UVM Testbench
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#81-modifying-uvm-environment-for-new-shell-variant" class="md-nav__link">
    8.1 Modifying UVM environment for new Shell Variant
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#82-modifying-uvm-environment-and-setting-up-compile-and-run-flow" class="md-nav__link">
    8.2 Modifying UVM environment and setting up Compile and Run flow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#83-adding-a-new-ral-directory" class="md-nav__link">
    8.3 Adding a new RAL directory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#84-modifying-tbtest-files-for-new-variant" class="md-nav__link">
    8.4 Modifying TB/Test files for new Variant
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#85-uvm-pcie-drivers" class="md-nav__link">
    8.5 UVM PCIe Drivers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notices-disclaimers" class="md-nav__link">
    Notices &amp; Disclaimers
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_docker/ug_docker/" class="md-nav__link">
        Docker User guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_kvm/ug_kvm/" class="md-nav__link">
        KVM User guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc_modules/Glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          oneAPI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          oneAPI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/oneapi_asp/ug_oneapi_asp/" class="md-nav__link">
        oneAPI ASP Getting Started User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/reference_manual/oneapi_asp/oneapi_asp_ref_mnl/" class="md-nav__link">
        oneAPI Accelerator Support Package(ASP) Reference Manual
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          OFS Software
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          OFS Software
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
          OPAE USER GUIDES
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_1">
          <span class="md-nav__icon md-icon"></span>
          OPAE USER GUIDES
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_api/quick_start/readme/" class="md-nav__link">
        Quick Start Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/install_guide/installation_guide/" class="md-nav__link">
        OPAE Installation Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_api/prog_guide/readme/" class="md-nav__link">
        OPAE C API Programming Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/pyopae/python_bindings/" class="md-nav__link">
        OPAE Python Bindings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_api/plug_guide/readme/" class="md-nav__link">
        OPAE Plugin Developers Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
          OPAE LIBRARIES
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          OPAE LIBRARIES
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_api/fpga_api/" class="md-nav__link">
        OPAE C API Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_api/fpga_cxx_api/" class="md-nav__link">
        OPAE C++ Core API Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_api/fpga_python_api/" class="md-nav__link">
        OPAE Python API Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_api/plug_guide/readme/" class="md-nav__link">
        OPAE Plugin Developers Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
          OPAE LINUX KERNEL DRIVERS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          OPAE LINUX KERNEL DRIVERS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/drv_arch/drv_arch/" class="md-nav__link">
        Open Programmable Accelerator Engine (OPAE) Linux Device Driver Architecture
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../../sw/fpga_tools/fpgadiag/">OPAE FPGA TOOLS</a>
          
            <label for="__nav_6_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_4">
          <span class="md-nav__icon md-icon"></span>
          OPAE FPGA TOOLS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/fpgaconf/fpgaconf/" class="md-nav__link">
        fpgaconf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/fpgainfo/fpgainfo/" class="md-nav__link">
        fpgainfo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/fpgasupdate/fpgasupdate/" class="md-nav__link">
        fpgasupdate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/mmlink/mmlink/" class="md-nav__link">
        mmlink
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/packager/packager/" class="md-nav__link">
        packager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/userclk/userclk/" class="md-nav__link">
        userclk
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/hssi/hssi/" class="md-nav__link">
        hssi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/pci_device/pci_device/" class="md-nav__link">
        pci_device
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/opae.io/opae.io/" class="md-nav__link">
        opae.io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/rsu/rsu/" class="md-nav__link">
        rsu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/host_exerciser/host_exerciser/" class="md-nav__link">
        host_exerciser
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/hssi_ethernet/hssistats/" class="md-nav__link">
        HSSI ethernet statistics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/hssi_ethernet/hssimac/" class="md-nav__link">
        HSSI ethernet mac
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/hssi_ethernet/hssiloopback/" class="md-nav__link">
        HSSI ethernet loopback
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/mem_tg/mem_tg/" class="md-nav__link">
        mem_tg
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/vabtool/vabtool/" class="md-nav__link">
        vabtool
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/opaevfio/opaevfio/" class="md-nav__link">
        opaevfio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/ofs.uio/ofs.uio/" class="md-nav__link">
        ofs.uio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/opaeuio/opaeuio/" class="md-nav__link">
        opaeuio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/fpgad/fpgad/" class="md-nav__link">
        fpgad
      </a>
    </li>
  

            
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-overview" class="md-nav__link">
    1 Overview
  </a>
  
    <nav class="md-nav" aria-label="1 Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-about-this-document" class="md-nav__link">
    1.1 About this Document
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-introduction-to-uvm" class="md-nav__link">
    2 Introduction to UVM
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-universal-testbench-architecture" class="md-nav__link">
    3 Universal Testbench Architecture
  </a>
  
    <nav class="md-nav" aria-label="3 Universal Testbench Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-overview" class="md-nav__link">
    3.1 Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-core-verification-concepts" class="md-nav__link">
    3.2 Core Verification Concepts
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-ofs-testbench-architecture" class="md-nav__link">
    4 OFS Testbench Architecture
  </a>
  
    <nav class="md-nav" aria-label="4 OFS Testbench Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-overview" class="md-nav__link">
    4.1 Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-base-fim-dut" class="md-nav__link">
    4.2 Base FIM DUT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-full-chip-level-verification-archiecture-for-fim" class="md-nav__link">
    4.3 Full Chip Level Verification Archiecture for FIM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#431-testbench-components" class="md-nav__link">
    4.3.1 Testbench components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4311-tb-top" class="md-nav__link">
    4.3.1.1 TB TOP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4312-fim-verification-environment" class="md-nav__link">
    4.3.1.2 FIM Verification Environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4313-synopsys-vips" class="md-nav__link">
    4.3.1.3 Synopsys VIPs
  </a>
  
    <nav class="md-nav" aria-label="4.3.1.3 Synopsys VIPs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#43131-pci-vip-as-host" class="md-nav__link">
    4.3.1.3.1 PCI VIP as Host
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43132-axi-streaming-vip-monitors" class="md-nav__link">
    4.3.1.3.2 AXI-Streaming VIP Monitors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43133-axi4-memory-mapped-vip-monitors" class="md-nav__link">
    4.3.1.3.3 AXI4-Memory Mapped VIP Monitors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43134-axi4-lite-vip-monitors" class="md-nav__link">
    4.3.1.3.4 AXI4-Lite VIP Monitors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43135-axi4-lite-vip-as-pmci-master" class="md-nav__link">
    4.3.1.3.5 AXI4-Lite VIP as PMCI Master
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4314-axi4-s-scoreboard" class="md-nav__link">
    4.3.1.4 AXI4-S Scoreboard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4315-virtual-sequencer" class="md-nav__link">
    4.3.1.5 Virtual Sequencer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4316-fim-monitor" class="md-nav__link">
    4.3.1.6 FIM Monitor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4317-fim-assertions" class="md-nav__link">
    4.3.1.7 FIM Assertions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4318-fim-functional-coverage" class="md-nav__link">
    4.3.1.8 FIM Functional Coverage
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-uvm-verification-set-up" class="md-nav__link">
    5 UVM Verification set-up
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#51-uvm-prerequisite" class="md-nav__link">
    5.1 UVM Prerequisite
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#52-license-requirements" class="md-nav__link">
    5.2 License Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#53-software-tools-requirements" class="md-nav__link">
    5.3 Software Tools Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#54-creating-a-software-tools-script" class="md-nav__link">
    5.4 Creating a Software Tools Script
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license-files" class="md-nav__link">
    License Files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general-environment-variables" class="md-nav__link">
    General Environment Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quartus-tools" class="md-nav__link">
    Quartus Tools
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synopsys-verification-tools" class="md-nav__link">
    Synopsys Verification Tools
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#questasim-verification-tools" class="md-nav__link">
    QuestaSIM Verification Tools
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-running-a-uvm-simulation-test-and-analysing-results" class="md-nav__link">
    6 Running a UVM Simulation Test and Analysing Results
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#61-simulation" class="md-nav__link">
    6.1 Simulation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#62-file-structure" class="md-nav__link">
    6.2 File Structure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#63-uvm-test-suite" class="md-nav__link">
    6.3 UVM Test Suite
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#64-ip-compile" class="md-nav__link">
    6.4 IP Compile
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synopsys-vcs" class="md-nav__link">
    Synopsys VCS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#questasim-tbd" class="md-nav__link">
    Questasim (TBD)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#65-rtl-test-bench-compile" class="md-nav__link">
    6.5 RTL &amp; Test Bench Compile
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synopsys-vcs_1" class="md-nav__link">
    Synopsys VCS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#questasim-tbd_1" class="md-nav__link">
    Questasim (TBD)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#66-ip-and-rtl-test-bench-compile" class="md-nav__link">
    6.6 IP and RTL &amp; Test Bench Compile
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synopsys-vcs_2" class="md-nav__link">
    Synopsys VCS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#questasim-tbd_2" class="md-nav__link">
    Questasim (TBD)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synopsys-vcs_3" class="md-nav__link">
    Synopsys VCS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#questasim-tbd_3" class="md-nav__link">
    Questasim (TBD)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synopsys-vcs_4" class="md-nav__link">
    Synopsys VCS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#questasim-tbd_4" class="md-nav__link">
    Questasim (TBD)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#67-uvm-regression-test" class="md-nav__link">
    6.7 UVM Regression Test
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#68-uvm-waveform-and-transcript-analysis" class="md-nav__link">
    6.8 UVM Waveform and Transcript Analysis
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synopsys-vcs_5" class="md-nav__link">
    Synopsys VCS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#questasim-tbd_5" class="md-nav__link">
    Questasim (TBD)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#69-uvm-coverage-analysis" class="md-nav__link">
    6.9 UVM Coverage Analysis
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-csr-verification-using-uvm-ral" class="md-nav__link">
    7 CSR Verification using UVM RAL
  </a>
  
    <nav class="md-nav" aria-label="7 CSR Verification using UVM RAL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-overview" class="md-nav__link">
    7.1 Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-ral-integration" class="md-nav__link">
    7.2 RAL Integration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-ral-model-generation" class="md-nav__link">
    7.3 RAL Model Generation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#74-top-level-verification-architecture-for-csr-testing" class="md-nav__link">
    7.4 Top Level Verification Architecture for CSR testing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#741-testbench-components" class="md-nav__link">
    7.4.1 Testbench components
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-modifying-uvm-testbench" class="md-nav__link">
    8 Modifying UVM Testbench
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#81-modifying-uvm-environment-for-new-shell-variant" class="md-nav__link">
    8.1 Modifying UVM environment for new Shell Variant
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#82-modifying-uvm-environment-and-setting-up-compile-and-run-flow" class="md-nav__link">
    8.2 Modifying UVM environment and setting up Compile and Run flow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#83-adding-a-new-ral-directory" class="md-nav__link">
    8.3 Adding a new RAL directory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#84-modifying-tbtest-files-for-new-variant" class="md-nav__link">
    8.4 Modifying TB/Test files for new Variant
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#85-uvm-pcie-drivers" class="md-nav__link">
    8.5 UVM PCIe Drivers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notices-disclaimers" class="md-nav__link">
    Notices &amp; Disclaimers
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="simulation-user-guide-open-fpga-stack-for-intel-agilex-soc-attach-fpgas">Simulation User Guide: Open FPGA Stack for Intel Agilex SoC Attach FPGAs<a class="headerlink" href="#simulation-user-guide-open-fpga-stack-for-intel-agilex-soc-attach-fpgas" title="Permanent link">&para;</a></h1>
<table>
<thead>
<tr>
<th>Term</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><abbr title="Advanced Error Reporting, The PCIe AER driver is the extended PCI Express error reporting capability providing more robust error reporting.">AER</abbr></td>
<td>Advanced Error Reporting, The PCIe <abbr title="Advanced Error Reporting, The PCIe AER driver is the extended PCI Express error reporting capability providing more robust error reporting.">AER</abbr> driver is the extended PCI Express error reporting capability providing more robust error reporting.</td>
</tr>
<tr>
<td><abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr></td>
<td>Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> region is the part of the design where an <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> may reside. This <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> may or may not be a partial reconfiguration region</td>
</tr>
<tr>
<td><abbr title="Basic Building Block, Features within an AFU or part of an FPGA interface that can be reused across designs. These building blocks do not have stringent interface requirements like the FIM's AFU and host interface requires. All BBBs must have a (globally unique identifier) GUID.">BBB</abbr></td>
<td>Basic Building Block, Features within an <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> or part of an FPGA interface that can be reused across designs. These building blocks do not have stringent interface requirements like the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr>'s <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> and host interface requires. All BBBs must have a (globally unique identifier) GUID.</td>
</tr>
<tr>
<td><abbr title="Best Known Configuration, The exact hardware configuration Intel has optimized and validated the solution against.">BKC</abbr></td>
<td>Best Known Configuration, The exact hardware configuration Intel has optimized and validated the solution against.</td>
</tr>
<tr>
<td><abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr></td>
<td>Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> platform. Supports features such as power sequence management and board monitoring through on-board sensors.</td>
</tr>
<tr>
<td>CSR</td>
<td>Command/status registers (CSR) and software interface, <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> uses a defined set of CSR's to expose the functionality of the FPGA to the host software.</td>
</tr>
<tr>
<td><abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr></td>
<td>Device Feature List, A concept inherited from <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>. The <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> drivers provide support for FPGA devices that are designed to support the Device Feature List. The <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr>, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> driver to automatically load the drivers required for a given FPGA configuration.</td>
</tr>
<tr>
<td><abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr></td>
<td>FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> resides in the static region of the FPGA and contains the FPGA Management Engine (<abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr>) and I/O ring.</td>
</tr>
<tr>
<td><abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr></td>
<td>FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.</td>
</tr>
<tr>
<td><abbr title="Host Exerciser Module, Host exercisers are used to exercise and characterize the various host-FPGA interactions, including Memory Mapped Input/Output (MMIO), data transfer from host to FPGA, PR, host to FPGA memory, etc.">HEM</abbr></td>
<td>Host Exerciser Module, Host exercisers are used to exercise and characterize the various host-FPGA interactions, including Memory Mapped Input/Output (<abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr>), data transfer from host to FPGA, <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr>, host to FPGA memory, etc.</td>
</tr>
<tr>
<td><abbr title="Intel Virtualization Technology for Directed I/O, Extension of the VT-x and VT-I processor virtualization technologies which adds new support for I/O device virtualization.">Intel VT-d</abbr></td>
<td>Intel Virtualization Technology for Directed I/O, Extension of the VT-x and VT-I processor virtualization technologies which adds new support for I/O device virtualization.</td>
</tr>
<tr>
<td><abbr title="Input/Output Control, System calls used to manipulate underlying device parameters of special files.">IOCTL</abbr></td>
<td>Input/Output Control, System calls used to manipulate underlying device parameters of special files.</td>
</tr>
<tr>
<td><abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr></td>
<td>Joint Test Action Group, Refers to the IEEE 1149.1 <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr> standard; Another FPGA configuration methodology.</td>
</tr>
<tr>
<td><abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr></td>
<td>Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.</td>
</tr>
<tr>
<td><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr></td>
<td>Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> and software developers to optimize and reuse their designs.</td>
</tr>
<tr>
<td><abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr></td>
<td>Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.</td>
</tr>
<tr>
<td><abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr></td>
<td>Programmable Acceleration Card: FPGA based Accelerator card</td>
</tr>
<tr>
<td><abbr title="Platform Interface Manager, An interface manager that comprises two components: a configurable platform specific interface for board developers and a collection of shims that AFU developers can use to handle clock crossing, response sorting, buffering and different protocols.">PIM</abbr></td>
<td>Platform Interface Manager, An interface manager that comprises two components: a configurable platform specific interface for board developers and a collection of shims that <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> developers can use to handle clock crossing, response sorting, buffering and different protocols.</td>
</tr>
<tr>
<td><abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr></td>
<td>Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr>, a <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> bitstream refers to an Intel FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr>. Refer to <a href="https://www.intel.com/content/www/us/en/programmable/products/design-software/fpga-design/quartus-prime/features/partial-reconfiguration.html">Partial Reconfiguration</a> support page.</td>
</tr>
<tr>
<td><abbr title="Remote System Update, A Remote System Update operation sends an instruction to the Intel FPGA PAC D5005 device that triggers a power cycle of the card only, forcing reconfiguration.">RSU</abbr></td>
<td>Remote System Update, A Remote System Update operation sends an instruction to the Intel FPGA <abbr title="Programmable Acceleration Card: FPGA based Accelerator card">PAC</abbr> D5005 device that triggers a power cycle of the card only, forcing reconfiguration.</td>
</tr>
<tr>
<td><abbr title="Single-Root Input-Output Virtualization, Allows the isolation of PCI Express resources for manageability and performance.">SR-IOV</abbr></td>
<td>Single-Root Input-Output Virtualization, Allows the isolation of PCI Express resources for manageability and performance.</td>
</tr>
<tr>
<td><abbr title="Testbench, Testbench or Verification Environment is used to check the functional correctness of the Design Under Test (DUT) by generating and driving a predefined input sequence to a design, capturing the design output and comparing with-respect-to expected output.">TB</abbr></td>
<td>Testbench, Testbench or Verification Environment is used to check the functional correctness of the Design Under Test (DUT) by generating and driving a predefined input sequence to a design, capturing the design output and comparing with-respect-to expected output.</td>
</tr>
<tr>
<td><abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr></td>
<td>Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.</td>
</tr>
<tr>
<td><abbr title="Virtual Function Input/Output, An IOMMU/device agnostic framework for exposing direct device access to userspace.">VFIO</abbr></td>
<td>Virtual Function Input/Output, An IOMMU/device agnostic framework for exposing direct device access to user space.</td>
</tr>
</tbody>
</table>
<h2 id="1-overview"><strong>1 Overview</strong><a class="headerlink" href="#1-overview" title="Permanent link">&para;</a></h2>
<h3 id="11-about-this-document"><strong>1.1 About this Document</strong><a class="headerlink" href="#11-about-this-document" title="Permanent link">&para;</a></h3>
<p>This document serves as a set-up and user guide for the <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> simulation
tool using <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>. After reviewing the document, you will be able to:</p>
<ul>
<li>Set-up the <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> verification tool suite</li>
</ul>
<ul>
<li>Run pre-existing <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> unit tests and also create new <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> tests for your design</li>
</ul>
<p><br></p>
<table>
<thead>
<tr>
<th align="center">Term</th>
<th align="center">Abbreviation</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">Advanced Error Reporting</td>
<td align="center"><abbr title="Advanced Error Reporting, The PCIe AER driver is the extended PCI Express error reporting capability providing more robust error reporting.">AER</abbr></td>
<td>The PCIe <abbr title="Advanced Error Reporting, The PCIe AER driver is the extended PCI Express error reporting capability providing more robust error reporting.">AER</abbr> driver is the extended PCI Express error reporting capability providing more robust error reporting. <a href="https://docs.kernel.org/PCI/pcieaer-howto.html?highlight=aer">(link)</a></td>
</tr>
<tr>
<td align="center">Accelerator Functional Unit</td>
<td align="center"><abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr></td>
<td>Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> region is the part of the design where an <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> may reside. This <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> may or may not be a partial reconfiguration region.</td>
</tr>
<tr>
<td align="center">Basic Building Block</td>
<td align="center"><abbr title="Basic Building Block, Features within an AFU or part of an FPGA interface that can be reused across designs. These building blocks do not have stringent interface requirements like the FIM's AFU and host interface requires. All BBBs must have a (globally unique identifier) GUID.">BBB</abbr></td>
<td>Features within an <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> or part of an FPGA interface that can be reused across designs. These building blocks do not have stringent interface requirements like the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr>'s <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> and host interface requires. All BBBs must have a (globally unique identifier) GUID.</td>
</tr>
<tr>
<td align="center">Best Known Configuration</td>
<td align="center"><abbr title="Best Known Configuration, The exact hardware configuration Intel has optimized and validated the solution against.">BKC</abbr></td>
<td>The software and hardware configuration Intel uses to verify the solution.</td>
</tr>
<tr>
<td align="center">Board Management Controller</td>
<td align="center"><abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr></td>
<td>Supports features such as board power managment, flash management, configuration management, and board telemetry monitoring and protection. The majority of the <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> logic is in a separate component, such as an Intel® Max® 10 or Intel Cyclone® 10 device; a small portion of the <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> known as the PMCI resides in the main Agilex FPGA.</td>
</tr>
<tr>
<td align="center">Configuration and Status Register</td>
<td align="center">CSR</td>
<td>The generic name for a register space which is accessed in order to interface with the module it resides in (e.g. <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr>, <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr>, various sub-systems and modules).</td>
</tr>
<tr>
<td align="center">Data Parallel C++</td>
<td align="center">DPC++</td>
<td>DPC++ is Intel’s implementation of the SYCL standard. It supports additional attributes and language extensions which ensure DCP++ (SYCL) is efficiently implanted on Intel hardware.</td>
</tr>
<tr>
<td align="center">Device Feature List</td>
<td align="center"><abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr></td>
<td>The <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr>, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> driver to automatically load the drivers required for a given FPGA configuration. This concept is the foundation for the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> software framework. <a href="https://docs.kernel.org/fpga/dfl.html">(link)</a></td>
</tr>
<tr>
<td align="center">FPGA Interface Manager</td>
<td align="center"><abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr></td>
<td>Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> resides in the static region of the FPGA and contains the FPGA Management Engine (<abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr>) and I/O ring.</td>
</tr>
<tr>
<td align="center">FPGA Management Engine</td>
<td align="center"><abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr></td>
<td>Performs reconfiguration and other FPGA management functions. Each FPGA device only has one <abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr> which is accessed through PF0.</td>
</tr>
<tr>
<td align="center">Host Exerciser Module</td>
<td align="center"><abbr title="Host Exerciser Module, Host exercisers are used to exercise and characterize the various host-FPGA interactions, including Memory Mapped Input/Output (MMIO), data transfer from host to FPGA, PR, host to FPGA memory, etc.">HEM</abbr></td>
<td>Host exercisers are used to exercise and characterize the various host-FPGA interactions, including Memory Mapped Input/Output (<abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr>), data transfer from host to FPGA, <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr>, host to FPGA memory, etc.</td>
</tr>
<tr>
<td align="center">Input/Output Control</td>
<td align="center"><abbr title="Input/Output Control, System calls used to manipulate underlying device parameters of special files.">IOCTL</abbr></td>
<td>System calls used to manipulate underlying device parameters of special files.</td>
</tr>
<tr>
<td align="center">Intel Virtualization Technology for Directed I/O</td>
<td align="center"><abbr title="Intel Virtualization Technology for Directed I/O, Extension of the VT-x and VT-I processor virtualization technologies which adds new support for I/O device virtualization.">Intel VT-d</abbr></td>
<td>Extension of the VT-x and VT-I processor virtualization technologies which adds new support for I/O device virtualization.</td>
</tr>
<tr>
<td align="center">Joint Test Action Group</td>
<td align="center"><abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr></td>
<td>Refers to the IEEE 1149.1 <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr> standard; Another FPGA configuration methodology.</td>
</tr>
<tr>
<td align="center">Memory Mapped Input/Output</td>
<td align="center"><abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr></td>
<td>The memory space users may map and access both control registers and system memory buffers with accelerators.</td>
</tr>
<tr>
<td align="center">oneAPI Accelerator Support Package</td>
<td align="center">oneAPI-asp</td>
<td>A collection of hardware and software components that enable oneAPI kernel to communicate with oneAPI runtime and <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> shell components. oneAPI ASP hardware components and oneAPI kernel form the <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> region of a oneAPI system in <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>.</td>
</tr>
<tr>
<td align="center">Open FPGA Stack</td>
<td align="center"><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr></td>
<td><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> is a software and hardware infrastructure providing an efficient approach to develop a custom FPGA-based platform or workload using an Intel, 3<sup>rd</sup> party, or custom board.</td>
</tr>
<tr>
<td align="center">Open Programmable Acceleration Engine Software Development Kit</td>
<td align="center"><abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr></td>
<td>The <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> is a software framework for managing and accessing programmable accelerators (FPGAs). It consists of a collection of libraries and tools to facilitate the development of software applications and accelerators. The <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> resides exclusively in user-space.</td>
</tr>
<tr>
<td align="center">Platform Interface Manager</td>
<td align="center"><abbr title="Platform Interface Manager, An interface manager that comprises two components: a configurable platform specific interface for board developers and a collection of shims that AFU developers can use to handle clock crossing, response sorting, buffering and different protocols.">PIM</abbr></td>
<td>An interface manager that comprises two components: a configurable platform specific interface for board developers and a collection of shims that <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> developers can use to handle clock crossing, response sorting, buffering and different protocols.</td>
</tr>
<tr>
<td align="center">Platform Management Controller Interface</td>
<td align="center">PMCI</td>
<td>The portion of the <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> that resides in the Agilex FPGA and allows the FPGA to communicate with the primary <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> component on the board.</td>
</tr>
<tr>
<td align="center">Partial Reconfiguration</td>
<td align="center"><abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr></td>
<td>The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. For <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> designs, the <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> region is referred to as the pr_slot.</td>
</tr>
<tr>
<td align="center">Port</td>
<td align="center">N/A</td>
<td>When used in the context of the fpgainfo port command it represents the interfaces between the static FPGA fabric and the <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> region containing the <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr>.</td>
</tr>
<tr>
<td align="center">Remote System Update</td>
<td align="center"><abbr title="Remote System Update, A Remote System Update operation sends an instruction to the Intel FPGA PAC D5005 device that triggers a power cycle of the card only, forcing reconfiguration.">RSU</abbr></td>
<td>The process by which the host can remotely update images stored in flash through PCIe. This is done with the OPAE software command "fpgasupdate".</td>
</tr>
<tr>
<td align="center">Secure Device Manager</td>
<td align="center">SDM</td>
<td>The SDM is the point of entry to the FPGA for <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr> commands and interfaces, as well as for device configuration data (from flash, SD card, or through PCI Express* hard IP).</td>
</tr>
<tr>
<td align="center">Static Region</td>
<td align="center">SR</td>
<td>The portion of the FPGA design that cannot be dynamically reconfigured during run-time.</td>
</tr>
<tr>
<td align="center">Single-Root Input-Output Virtualization</td>
<td align="center"><abbr title="Single-Root Input-Output Virtualization, Allows the isolation of PCI Express resources for manageability and performance.">SR-IOV</abbr></td>
<td>Allows the isolation of PCI Express resources for manageability and performance.</td>
</tr>
<tr>
<td align="center">SYCL</td>
<td align="center">SYCL</td>
<td>SYCL (pronounced "sickle") is a royalty-free, cross-platform abstraction layer that enables code for heterogeneous and offload processors to be written using modern ISO C++ (at least C++ 17). It provides several features that make it well-suited for programming heterogeneous systems, allowing the same code to be used for CPUs, GPUs, FPGAs or any other hardware accelerator. SYCL was developed by the Khronos Group, a non-profit organization that develops open standards (including OpenCL) for graphics, compute, vision, and multimedia. SYCL is being used by a growing number of developers in a variety of industries, including automotive, aerospace, and consumer electronics.</td>
</tr>
<tr>
<td align="center">Test Bench</td>
<td align="center"><abbr title="Testbench, Testbench or Verification Environment is used to check the functional correctness of the Design Under Test (DUT) by generating and driving a predefined input sequence to a design, capturing the design output and comparing with-respect-to expected output.">TB</abbr></td>
<td>Testbench or Verification Environment is used to check the functional correctness of the Design Under Test (DUT) by generating and driving a predefined input sequence to a design, capturing the design output and comparing with-respect-to expected output.</td>
</tr>
<tr>
<td align="center">Universal Verification Methodology</td>
<td align="center"><abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr></td>
<td>A modular, reusable, and scalable testbench structure via an API framework.  In the context of <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>, the <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> enviroment provides a system level simulation environment for your design.</td>
</tr>
<tr>
<td align="center">Virtual Function Input/Output</td>
<td align="center"><abbr title="Virtual Function Input/Output, An IOMMU/device agnostic framework for exposing direct device access to userspace.">VFIO</abbr></td>
<td>An Input-Output Memory Management Unit (IOMMU)/device agnostic framework for exposing direct device access to userspace. (link)</td>
</tr>
</tbody>
</table>
<h2 id="2-introduction-to-uvm"><strong>2 Introduction to <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr></strong><a class="headerlink" href="#2-introduction-to-uvm" title="Permanent link">&para;</a></h2>
<p>The Functional Verification Environment for <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> is <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> (Universal Verification Methodology) compliant and provides configurable setup for verifying various <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> features in simulation.</p>
<p>The purpose of this document is to demonstrate a full chip level and unit level <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> based verification environment for the current base shell <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> architecture as well as providing examples to extend the setup for different <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> variants by reusing the existing architecture and infrastructure for <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> based verification.</p>
<p><br></p>
<h2 id="3-universal-testbench-architecture"><strong>3 Universal Testbench Architecture</strong><a class="headerlink" href="#3-universal-testbench-architecture" title="Permanent link">&para;</a></h2>
<h3 id="31-overview"><strong>3.1 Overview</strong><a class="headerlink" href="#31-overview" title="Permanent link">&para;</a></h3>
<p>The main idea behind <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> is to develop modular, reusable, and a scalable testbench structure by providing an API framework that can be deployed across multiple projects.</p>
<h3 id="32-core-verification-concepts"><strong>3.2 Core Verification Concepts</strong><a class="headerlink" href="#32-core-verification-concepts" title="Permanent link">&para;</a></h3>
<p>The following is the list of verification components that will be used to design a <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> testbench architecture:</p>
<p>•   Sequencer<br>
•   Driver<br>
•   Monitor<br>
•   Scoreboard<br>
•   Virtual Sequencer<br>
•   Interface<br>
•   Verification Environment<br>
•   TOP Testbench<br></p>
<p>Figure 1 provides the general <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> Testbench and the verification components involved in the top-level architecture.</p>
<p><a class="glightbox" href="../images/ofs-uvm_fundmental_concept.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/ofs-uvm_fundmental_concept.png" /></a></p>
<p><strong>Figure 1 Typical <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> Testbench</strong></p>
<p><br></p>
<h2 id="4-ofs-testbench-architecture"><strong>4 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Testbench Architecture</strong><a class="headerlink" href="#4-ofs-testbench-architecture" title="Permanent link">&para;</a></h2>
<h3 id="41-overview"><strong>4.1 Overview</strong><a class="headerlink" href="#41-overview" title="Permanent link">&para;</a></h3>
<p><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> (Open FPGA Stack) provides a <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> (Universal Verification Methodology) environment for the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> with a modular, reusable, and scalable testbench structure via an API framework.</p>
<p>The framework consists of a <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> Testbench which is <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> compliant and integrates third party VIPs from Synopsys for PCI Express, Arm® AMBA® 4 AXI4-Streaming interface and Arm® AMBA® 4 AXI4Arm® AMBA® 4 AXI4-Memory Mapped interface for comprehensive verification. The user will need to acquire licenses for these VIPs to use this Testbench. <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> RAL(Register Abstraction Level) is used for CSR (Command and Status Registers) verification. </p>
<p>The qualified verification IPs will help to detect incorrect protocol behavior, help to focus on <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> features and accelerate the verification process.</p>
<p>Verification components include:</p>
<div class="highlight"><pre><span></span><code>• FIM monitor to detect correct design behavior
• FIM assertions for signal level integrity testing
• Arm AMBA Arm® AMBA® 4 AXI4 scoreboards to check data integrity
• FIM coverage to collect functional data
</code></pre></div>
<h3 id="42-base-fim-dut"><strong>4.2 Base <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> DUT</strong><a class="headerlink" href="#42-base-fim-dut" title="Permanent link">&para;</a></h3>
<p>The hardware architecture of an Agilex <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> is based on the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> hardware architecture. The following is the list of features and subsystems supported in the base shell.</p>
<div class="highlight"><pre><span></span><code>•   PCIe Subsystem
•   HSSI Subsystem
•   Memory Subsystem
•   HPS Subsystem
•   FME
•   AFU with PR support
•   QSFP Controllers
•   PMCI Controller, MCTP
</code></pre></div>
<p><a class="glightbox" href="../images/ofs-uvm_DUT_Base_Shell_architecture.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/ofs-uvm_DUT_Base_Shell_architecture.png" /></a></p>
<p><strong>Figure 2 DUT Base Shell Diagram</strong></p>
<p>Figure 2 shows the high level architecture of an Agilex Base Shell. It has a Gen4x16, 100G Ethernet Datapath in a 2x4x25G configuration. The Agilex Base Shell is a shell that will enable a user to build other shell variants for a custom configuration. For the f2000x board there is one shell variant</p>
<p>base_x16<br></p>
<h3 id="43-full-chip-level-verification-archiecture-for-fim"><strong>4.3 Full Chip Level Verification Archiecture for <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr></strong><a class="headerlink" href="#43-full-chip-level-verification-archiecture-for-fim" title="Permanent link">&para;</a></h3>
<p>Figure 3 shows a graphical representation a full chip testbench that includes major RTL blocks depicted in a <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Agilex based <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> environment </p>
<p><a class="glightbox" href="../images/ofs-uvm_testbench_architecture.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/ofs-uvm_testbench_architecture.png" /></a></p>
<p><strong>Figure 3 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> Testbench</strong></p>
<p>The major connection is the interface between the Xeon CPU and the FPGA where the PCIe Verification IP is connected to PCIe Subsystem. Therefore, as a full chip simulation environment, PCIe host VIP is the sole VIP/BFM used. PCIe host VIP connects to PCIe device which resides in FPGA in serial mode.</p>
<h3 id="431-testbench-components"><strong>4.3.1 Testbench components</strong><a class="headerlink" href="#431-testbench-components" title="Permanent link">&para;</a></h3>
<h3 id="4311-tb-top"><strong>4.3.1.1 <abbr title="Testbench, Testbench or Verification Environment is used to check the functional correctness of the Design Under Test (DUT) by generating and driving a predefined input sequence to a design, capturing the design output and comparing with-respect-to expected output.">TB</abbr> TOP</strong><a class="headerlink" href="#4311-tb-top" title="Permanent link">&para;</a></h3>
<p>TOP is the top level testbench and consists of a <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> DUT instance and top-level <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> Verification Environment instance. It binds RTL inputs with the verification environmnet interfaces to drive stimulus. It also has clock generation and reset driving logic.</p>
<h3 id="4312-fim-verification-environment"><strong>4.3.1.2 <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> Verification Environment</strong><a class="headerlink" href="#4312-fim-verification-environment" title="Permanent link">&para;</a></h3>
<p>This is the top most verification environment class and consists of the protocol specific PCI Express and AXI <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> environment VIP instances, Monitors, Scoreboards, Assertions, Functional coverage Modules and other verification components. It instantiates Virtual sequencers to control stimuli for <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> traffic from different sequencers of the VIPs.</p>
<h3 id="4313-synopsys-vips"><strong>4.3.1.3 Synopsys VIPs</strong><a class="headerlink" href="#4313-synopsys-vips" title="Permanent link">&para;</a></h3>
<h4 id="43131-pci-vip-as-host"><strong>4.3.1.3.1 PCI VIP as Host</strong><a class="headerlink" href="#43131-pci-vip-as-host" title="Permanent link">&para;</a></h4>
<p>This is Synopsys Licensed PCI Express Gen4 VIP and acts as Root Port. The PCI Express link is connected to the DUT using TX-RX lanes. Agent is an active component and includes a sequencer to generate TLPs, Driver to drive it on a PCI Express link and Monitor to check the protocol correctness.</p>
<h4 id="43132-axi-streaming-vip-monitors"><strong>4.3.1.3.2 AXI-Streaming VIP Monitors</strong><a class="headerlink" href="#43132-axi-streaming-vip-monitors" title="Permanent link">&para;</a></h4>
<p>This is Synopsys Licensed AXI streaming interface Verification IP used as a Passive Agent to monitor AXI-ST links at various points. Please refer to Figure 3 to see all the AXI-ST monitors connected to different modules.</p>
<h4 id="43133-axi4-memory-mapped-vip-monitors"><strong>4.3.1.3.3 AXI4-Memory Mapped VIP Monitors</strong><a class="headerlink" href="#43133-axi4-memory-mapped-vip-monitors" title="Permanent link">&para;</a></h4>
<p>This is Synopsys Licensed Arm® AMBA® 4 AXI4 memory mapped interface Verification IP used in passive mode to observe memory requests. For each master-slave pair, the verification environment has a VIP instantiated in passive mode for monitoring protocol violations and performing data integrity checks.</p>
<h4 id="43134-axi4-lite-vip-monitors"><strong>4.3.1.3.4 AXI4-Lite VIP Monitors</strong><a class="headerlink" href="#43134-axi4-lite-vip-monitors" title="Permanent link">&para;</a></h4>
<p>This is Synopsys Licensed Arm® AMBA® 4 AXI4Arm® AMBA® 4 AXI4 Lite interface Verification IP used in passive mode to observe <abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr> requests. For each master-slave pair, the verification environment has a VIP instantiated in passive mode for monitoring protocol violations and perfoming data integrity checks. Please refer to Figure 3 to see all the Arm® AMBA® 4 AXI4-Lite monitors connected to different modules.</p>
<h4 id="43135-axi4-lite-vip-as-pmci-master"><strong>4.3.1.3.5 AXI4-Lite VIP as PMCI Master</strong><a class="headerlink" href="#43135-axi4-lite-vip-as-pmci-master" title="Permanent link">&para;</a></h4>
<p>This is Synopsys Licensed Arm® AMBA® 4 AXI4 Lite interface Verification IP used to drive and observe <abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr> requests as PMCI master. For each master-slave pair, the verification environment has a VIP instantiated in active mode and includes a sequencer to generate <abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr> requests, driver to drive these requests on AXI-4 Lite interface to BPF and a monitor for observing protocol violations and data integrity checks. </p>
<h3 id="4314-axi4-s-scoreboard"><strong>4.3.1.4 AXI4-S Scoreboard</strong><a class="headerlink" href="#4314-axi4-s-scoreboard" title="Permanent link">&para;</a></h3>
<p>The Arm® AMBA® 4 AXI4-S scoreboard checks data integrity of source and sink components. It has input transactions from VIP monitors and a TLP to AXI converter for PCIe TLP packets. It makes sure the valid TLPs or AXI transactions are not missed while traversing from Host to <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> and reverse. The scoreboard will be disabled for error testing especially for invalid TLP requests and UR responses.</p>
<h3 id="4315-virtual-sequencer"><strong>4.3.1.5 Virtual Sequencer</strong><a class="headerlink" href="#4315-virtual-sequencer" title="Permanent link">&para;</a></h3>
<p>The virtual sequencer is the top-level sequencer which controls Enumeration, <abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr> Requests, downstream and Upstream traffic as well as HSSI and Memory transactions. It makes sure that the transactions are ordered correctly as per the design specification while running a <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> test simulation.</p>
<h3 id="4316-fim-monitor"><strong>4.3.1.6 <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> Monitor</strong><a class="headerlink" href="#4316-fim-monitor" title="Permanent link">&para;</a></h3>
<p>The <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> monitor is used for checking the correctness of a specific <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> feature. As an example, a user can add interrupt related checks, error generation and clearing checks, Protocol checker impacts etc. in this component. </p>
<p>This would be an independent plug-n-play component and can be reused with any user developed <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> <abbr title="Testbench, Testbench or Verification Environment is used to check the functional correctness of the Design Under Test (DUT) by generating and driving a predefined input sequence to a design, capturing the design output and comparing with-respect-to expected output.">TB</abbr>.</p>
<h3 id="4317-fim-assertions"><strong>4.3.1.7 <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> Assertions</strong><a class="headerlink" href="#4317-fim-assertions" title="Permanent link">&para;</a></h3>
<p>The assertion component is used for checking the signal level integrity of a specific <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> feature or behavior. As an example, we can add interrupt signal triggering and clear assertions, Error detection to error register bit assertions, protocol checker and clearing logic, FLR behavior assertion etc. in this top-level module. There are alos assertions to make sure the inputs are driven correctly to catch errors in a users simulation. </p>
<p>This would be an independent plug-n-play component and can be reused with any user developed <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> <abbr title="Testbench, Testbench or Verification Environment is used to check the functional correctness of the Design Under Test (DUT) by generating and driving a predefined input sequence to a design, capturing the design output and comparing with-respect-to expected output.">TB</abbr>.</p>
<h3 id="4318-fim-functional-coverage"><strong>4.3.1.8 <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> Functional Coverage</strong><a class="headerlink" href="#4318-fim-functional-coverage" title="Permanent link">&para;</a></h3>
<p>The <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> functional coverage component will have the functional coverage of each feature like interrupts, CSR's, <abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr> requests, Byte align transactions, error reporting etc. to demonstrate a variety of <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> features. This will help us to find holes in the design as well as wide verification coverage to make sure thorough testing of a design. It will also provide a user what the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> is capable of and how much code coverage they are testing.</p>
<p>This would be an independent plug-n-play component and can be reused with any user developed <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> <abbr title="Testbench, Testbench or Verification Environment is used to check the functional correctness of the Design Under Test (DUT) by generating and driving a predefined input sequence to a design, capturing the design output and comparing with-respect-to expected output.">TB</abbr>.</p>
<p><br></p>
<h2 id="5-uvm-verification-set-up"><strong>5 <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> Verification set-up</strong><a class="headerlink" href="#5-uvm-verification-set-up" title="Permanent link">&para;</a></h2>
<p>To run the tutorial steps in this guide requires the following development environment:</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Version</th>
</tr>
</thead>
<tbody>
<tr>
<td>Intel Quartus Prime Pro</td>
<td>Intel Quartus Prime Pro 23.1</td>
</tr>
<tr>
<td>Simulator</td>
<td>Synopsys VCS P-2019.06-SP2-5 or newer for <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> simulation of top level <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr></td>
</tr>
<tr>
<td>Simulator (Questasim)</td>
<td>Questasim 2021.4 or newer for <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> simulation of top level <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr></td>
</tr>
</tbody>
</table>
<h2 id="51-uvm-prerequisite"><strong>5.1 <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> Prerequisite</strong><a class="headerlink" href="#51-uvm-prerequisite" title="Permanent link">&para;</a></h2>
<p>Retrieve <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> repositories.</p>
<p>The <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> source code is included in the OTCShare GitHub repository. Create a new directory to use as a clean starting point to store the retrieved files.  The following is a short description of each repository, followed by the git commands for cloning.  The instructions section uses the HTTPS git method for cloning repositories.  Cloning the repo using the HTTPS method requires a personal access token.  Please see this blog post for information about obtaining a personal access token <a href="https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/">Token authentication requirements for Git operations</a>.</p>
<p>Navigate to location for storage of <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> source, create the top-level source directory and clone <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> repositories.</p>
<div class="highlight"><pre><span></span><code>$ mkdir release/ofs-2023.1
$ cd release/ofs-2023.1
$ export OFS_BUILD_ROOT=$PWD
$ git clone --branch --recurse-submodules https://github.com/ofs-f2000x-pl.git

Cloning into &#39;ofs-f2000x-pl&#39;...&#39;
Username for &#39;https://github.com&#39;: &lt;&lt;Enter your git hub username&gt;&gt;
Password for &#39;https://&lt;&lt;Your username&gt;&gt;&#39;: &lt;&lt;Enter your personal access token&gt;&gt;
remote: Enumerating objects:  ....
...
...
Resolving deltas  ..., done.

$ cd ofs-f2000x-pl
$ git checkout tags/ofs-2023.1-1
</code></pre></div>
<p>Verify that the correct tag/branch have been checked out        </p>
<div class="highlight"><pre><span></span><code>$ git describe --tags

$ ofs-2023.1-1
</code></pre></div>
<h2 id="52-license-requirements"><strong>5.2 License Requirements</strong><a class="headerlink" href="#52-license-requirements" title="Permanent link">&para;</a></h2>
<p>The <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> Testbench is <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> compliant and integrates third party VIP's from Synopsys for PCI Express, Arm® AMBA® 4 AXI4-Streaming interface and Arm® AMBA® 4 AXI4Arm® AMBA® 4 AXI4-Memory Mapped interface for comprehensive verification. The user will need to acquire licenses for these VIPs to use this <abbr title="Testbench, Testbench or Verification Environment is used to check the functional correctness of the Design Under Test (DUT) by generating and driving a predefined input sequence to a design, capturing the design output and comparing with-respect-to expected output.">TB</abbr>. <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> RAL (Register Abstraction Layer) is used for CSR Verification.</p>
<p>The Qualified Verification IPs will help to detect incorrect protocol behavior easily, help to focus on <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> features and accelerate the verification process.</p>
<div class="highlight"><pre><span></span><code>• VCS &amp; DVE
• SNPS-Assertions
• Verdi
• VerdiCoverage
• VerdiSimDB
• VerdiTransactionDebugUltra
• VIP-AMBA-AXI-SVT
• VIP-AMBA-STREAM-SVT
• VIP-PCIE-SVT
• VIP-PCIE-TS-SVT
• VIP-PCIE-G3-OPT-SVT
• VIP-Ethernet-SVT
</code></pre></div>
<h2 id="53-software-tools-requirements"><strong>5.3 Software Tools Requirements</strong><a class="headerlink" href="#53-software-tools-requirements" title="Permanent link">&para;</a></h2>
<p>The following tools are required for successful <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> set-up</p>
<ul>
<li>Python 3.7.7</li>
<li>Synopsys PCIE and AMBA AXI <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> VIP Q-2020.03A License</li>
<li>VCS R-2020.12-SP2 License<br>
      Note: Makefile can be modified to use DVE instead of Verdi</li>
</ul>
<ul>
<li>VCS R-2020.12-SP2 License </li>
</ul>
<h2 id="54-creating-a-software-tools-script"><strong>5.4 Creating a Software Tools Script</strong><a class="headerlink" href="#54-creating-a-software-tools-script" title="Permanent link">&para;</a></h2>
<p>The <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> tool set-up is best done by creating a simple set-up script so all applicable tools are sourced before running the tests.</p>
<p>The following environment variables can be pasted into a script and used prior to running the <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> verification environment</p>
<h2 id="license-files">License Files<a class="headerlink" href="#license-files" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>export LM_LICENSE_FILE=
export SNPSLMD_LICENSE_FILE=
</code></pre></div>
<p>The license environment variables LM_LICENSE_FILE and SNPSLMD_LICENSE_FILE can point to a server license on your system.</p>
<h2 id="general-environment-variables">General Environment Variables<a class="headerlink" href="#general-environment-variables" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>export IOFS_BUILD_ROOT=$PWD
export OFS_ROOTDIR=&lt;user_path&gt;/ofs-f2000x-pl
export WORKDIR=$OFS_ROOTDIR
</code></pre></div>
<h2 id="quartus-tools">Quartus Tools<a class="headerlink" href="#quartus-tools" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>export QUARTUS_HOME=&lt;user_path&gt;/intelFPGA_pro/23.1/quartus
export QUARTUS_ROOTDIR=$QUARTUS_HOME
export QUARTUS_INSTALL_DIR=$QUARTUS_ROOTDIR
export QUARTUS_ROOTDIR_OVERRIDE=$QUARTUS_ROOTDIR
export IMPORT_IP_ROOTDIR=$QUARTUS_ROOTDIR/../ip
export QSYS_ROOTDIR=$QUARTUS_ROOTDIR/../qsys/bin
export PATH=$QUARTUS_HOME/bin:$QUARTUS_HOME/qsys/bin:$QUARTUS_HOME/sopc_builder/bin/:$PATH
</code></pre></div>
<h2 id="synopsys-verification-tools">Synopsys Verification Tools<a class="headerlink" href="#synopsys-verification-tools" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>export DESIGNWARE_HOME=&lt;user_path&gt;/synopsys/vip_common/vip_Q-2020.03A
export PATH=$DESIGNWARE_HOME/bin:$PATH
export UVM_HOME=&lt;user_path&gt;/synopsys/vcsmx/S-2021.09-SP1/linux64/rhel/etc/uvm
export VCS_HOME=&lt;user_path&gt;/synopsys/vcsmx/S-2021.09-SP1/linux64/rhel
export PATH=$VCS_HOME/bin:$PATH
export VERDIR=$OFS_ROOTDIR/verification
export VIPDIR=$VERDIR
</code></pre></div>
<h2 id="questasim-verification-tools">QuestaSIM Verification Tools<a class="headerlink" href="#questasim-verification-tools" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>export MTI_HOME=&lt;user_path&gt;/mentor/questasim/2021.4/linux64
export PATH=$MTI_HOME/linux_x86_64/:$MTI_HOME/bin/:$PATH
export QUESTA_HOME=$MTI_HOME
</code></pre></div>
<p><br></p>
<h2 id="6-running-a-uvm-simulation-test-and-analysing-results"><strong>6 Running a <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> Simulation Test and Analysing Results</strong><a class="headerlink" href="#6-running-a-uvm-simulation-test-and-analysing-results" title="Permanent link">&para;</a></h2>
<h2 id="61-simulation"><strong>6.1 Simulation</strong><a class="headerlink" href="#61-simulation" title="Permanent link">&para;</a></h2>
<p>The default simulator used in the simulation script is Synopsys VCS-MX. Users can refer to the options and adopt the options for other simulators. The script is a makefile that calls vlogan, vcs and simv for compilation, elaboration and simulation, respectively.</p>
<h2 id="62-file-structure"><strong>6.2 File Structure</strong><a class="headerlink" href="#62-file-structure" title="Permanent link">&para;</a></h2>
<p>After cloning the repo, the verification and ofs-common directories contain all <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> verification related files. The directory structure is shown in Figure 4 below.</p>
<p><a class="glightbox" href="../images/ofs-uvm_directory_structure.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/ofs-uvm_directory_structure.png" /></a></p>
<p><strong>Figure 4 <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> Verification Directory File Structure</strong></p>
<p>ofs-f2000x-pl/verification/testbench has a testbench, uvm env, virtual sequencer, RAL etc. </p>
<p>ofs-f2000x-pl/tests contains all uvm tests and sequences. </p>
<p>Users can run the simulation under "ofs-f2000x-pl/verification/scripts" directory and the simulation result is outputted to a "sim" directory for Synopsys VCS or sim_msim for Questasim.</p>
<p>The simulation result folder is named after the test name with increasing suffix number. If user runs the same test multiple times, the suffix is incremented by 1 each time.</p>
<h2 id="63-uvm-test-suite"><strong>6.3 <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> Test Suite</strong><a class="headerlink" href="#63-uvm-test-suite" title="Permanent link">&para;</a></h2>
<p>The <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> environment contains a variety of tests that have been developed to test out the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> portion of <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>.</p>
<p>The table below has four columns which describe the "Test Name", "DUT Scope", "Test Scenario" and the "Checking Criteria".</p>
<p>Tests are located at ofs-f2000x-pl/ofs-common/verification/fpga_family/agilex/tests</p>
<table>
    <thead>
        <tr>
            <th>Test Name</th>
            <th>DUT Scope</th>
            <th>Test Scenario</th>
            <th>Checking Criteria</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>afu_mmio_flr_pf0_test</td>
            <td>PF0 FLR Reset</td>
            <td>Apply FLR Reset for PF0 and deassert.
                Initiate MMIO transactions for all PFs. Make sure all completions are sent/received and no pending transactions are seen. Apply FLR Reset for PF0 and deassert. Initiate mmio access and ensure all PFs CSR access are working fine</td>
            <td>Initiate mmio access before and after FLR Reset and ensure all PF/VFs CSR access are working fine</td>
        </tr>
        <tr>
            <td>afu_mmio_flr_pf0_vf0_test</td>
            <td>PF0_VF0_FLR Reset</td>
            <td>Apply FLR Reset for PF0_VF0 and deassert</td>
            <td>Initiate mmio access before and after FLR Reset and ensure all PF/VFs CSR       access are working fine</td>
        </tr>
        <tr>
            <td>afu_mmio_flr_pf0_vf1_test</td>
            <td>PF0_VF1_FLR Reset</td>
            <td>Apply FLR Reset for PF0_VF1 and deassert</td>
            <td>Initiate mmio access before and after FLR Reset and ensure all PF/VFs CSR access are working fine</td>
        </tr>
        <tr>
            <td>afu_mmio_flr_pf0_vf2_test</td>
            <td>PF0_VF2_FLR Reset</td>
            <td>Apply FLR Reset for PF0_VF2 and deassert</td>
            <td>Initiate mmio access before and after FLR Reset and ensure all PF/VFs CSR access are working fine</td>
        </tr>
        <tr>
            <td>afu_mmio_flr_pf1_vf0_test</td>
            <td>PF1_VF0_FLR Reset</td>
            <td>Apply FLR Reset for PF1_VF0 and deassert</td>
            <td>Initiate mmio access before and after FLR Reset and ensure all PF/VFs CSR access are working fine</td>
        </tr>
        <tr>
            <td>afu_mmio_flr_pf2_test</td>
            <td>PF2 FLR Reset</td>
            <td>Apply FLR Reset for PF2 and deassert.
                Initiate MMIO transactions for all PFs. Make sure all completions are sent/received and no pending transactions are seen. Apply FLR Reset for PF2 and deassert. Initiate mmio access and ensure all PFs CSR access are working fine</td>
            <td>Initiate mmio access before and after FLR Reset and ensure all PF/VFs CSR access are working fine</td>
        </tr>
        <tr>
            <td>afu_mmio_flr_pf3_test</td>
            <td>PF3 FLR Reset</td>
            <td>Apply FLR Reset for PF3 and deassert.
                Initiate MMIO transactions for all PFs. Make sure all completions are sent/received and no pending transactions are seen. Apply FLR Reset for PF3 and deassert. Initiate mmio access and ensure all PFs CSR access are working fine</td>
            <td>Initiate mmio access before and after FLR Reset and ensure all PF/VFs CSR access are working fine</td>
        </tr>
        <tr>
            <td>afu_mmio_flr_pf4_test</td>
            <td>PF4 FLR Reset</td>
            <td>Apply FLR Reset for PF4 and deassert.
                Initiate MMIO transactions for all PFs. Make sure all completions are sent/received and no pending transactions are seen. Apply FLR Reset for PF4 and deassert. Initiate mmio access and ensure all PFs CSR access are working fine</td>
            <td>Initiate mmio access before and after FLR Reset and ensure all PF/VFs CSR access are working fine</td>
        </tr>
       <tr>
            <td>afu_stress_5bit_tag_test</td>
            <td>AFU-StressAFU-Stress</td>
            <td>To check the AFU Stress by sending traffic with 5bit tag from all PF/VF. i.e Send traffic on HE-LPK/HE-MEM and initiating MMIO access to other PF/VFs</td>
            <td>Data checking</td>
       </tr>
       <tr>
            <td>afu_stress_8bit_tag_test</td>
            <td>AFU-Stress</td>
            <td>To check the AFU Stress by sending traffic with 5bit tag from all PF/VF. i.e Send traffic on HE-LPK/HE-MEM and initiating MMIO access to other PF/VFs</td>
            <td>Data checking</td>
       </tr>
        <tr>
            <td>afu_stress_test</td>
            <td>AFU-Stress</td>
            <td>1. Initiate transactions to all the supported PF/VF from PCIE VIP and ensure that traffic is sent to all blocks of the AFU.<br>
                2. Ensure that CE/HE-LB/HE-MEM/HSSI/BPF/FME are seeing traffic.<br>
                3. Ensure that HE-LB/HE-MEM/CE sends DMWR/DMRD requests to PCIE VIP.<br>
                4. Ensure the Mux/DeMux blocks is able to handle the traffic based on the PF's/VF's and proper muxing/demuxing happens.<br></td>
            <td>Data checking</td>
        </tr>
        <tr>
            <td>bar_32b_test</td>
            <td>PCIe MMIO Path</td>
            <td>Set the BAR values to 32bit and test mmio access</td>
            <td>BAR address, Register Base Offset</td>
        </tr>
        <tr>
            <td>bar_64b_test</td>
            <td>PCIe MMIO Path</td>
            <td>Set the BAR values to 64bit and test mmio access</td>
            <td>BAR address, Register Base Offset</td>
        </tr>
        <tr>
            <td>dfh_walking_test</td>
            <td>DFH</td>
            <td>DFH walking</td>
            <td>offset checking, eol checking -> tb</td>
        </tr>
        <tr>
            <td>emif_csr_test</td>
            <td>EMIF</td>
            <td>CSR access</td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>fme_csr_test</td>
            <td>FME CSR</td>
            <td>CSR accesses</td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>fme_err_intr_test</td>
            <td>Interrupt</td>
            <td>FME Interrupt request using FME ERROR assertion</td>
            <td>Test checks for interrupt assertion, deassertion, mask feature, PBA bits and MSIX host memory data integrity through backdoor memory read</td>
        </tr>
        <tr>
            <td>fme_intr_test</td>
            <td>Interrupt</td>
            <td>FME interrupt request using RAS ERROR assertion</td>
            <td>Test checks for interrupt assertion, deassertion, mask feature, PBA bits and MSIX host memory data integrity through backdoor memory read</td>
        </tr>
        <tr>
            <td>fme_multi_err_intr_test</td>
            <td>Interrupt</td>
            <td>FME interrupt request using RAS ERROR and FME ERROR assertion</td>
            <td>Test checks for interrupt assertion, deassertion, mask feature, PBA bits and MSIX host memory data integrity through backdoor memory read plus verifying interrupt requests generated from FME and RAS ERROR bits</td>
        </tr>
        <tr>
            <td>he_hssi_csr_test</td>
            <td>HE-HSSI</td>
            <td>CSR accesses</td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>he_hssi_rx_lpbk_25G_10G_test</td>
            <td>HE-HSSI</td>
            <td>Sending back to back ethernet data traffic with 25G speed on HSSI RX Port0-7 lanes using Ethernet VIPs</td>
            <td>Enable the loopback mode in HE-HSSI and compare the pkts recived on HSSI TX Port(DATA CHECKING)</td>
        </tr>
        <tr>
            <td>he_hssi_tx_lpbk_P0_test</td>
            <td>HE-HSSI</td>
            <td>Send back to back traffic with 25G speed on HSSI TX Port0  lanes using Traffic generator registers</td>
            <td>Check the CRC errors on loopback packets on Traffic Monitor Registers</td>
        </tr>
        <tr>
            <td>he_hssi_tx_lpbk_P1_test</td>
            <td>HE-HSSI</td>
            <td>Send back to back traffic with 25G speed on HSSI TX Port1 lanes using Traffic generator registers</td>
            <td>Check the CRC errors on loopback packets on Traffic Monitor Registers</td>
        </tr>
        <tr>
            <td>he_hssi_tx_lpbk_P2_test</td>
            <td>HE-HSSI</td>
            <td>Send back to back traffic with 25G speed on HSSI TX Port2 lanes using Traffic generator registers</td>
            <td>Check the CRC errors on loopback packets on Traffic Monitor Registers</td>
        </tr>
        <tr>
            <td>he_hssi_tx_lpbk_P3_test</td>
            <td>HE-HSSI</td>
            <td>Send back to back traffic with 25G speed on HSSI TX Port3 lanes using Traffic generator registers</td>
            <td>Check the CRC errors on loopback packets on Traffic Monitor Registers</td>
        </tr>
        <tr>
            <td>he_hssi_tx_lpbk_P4_test</td>
            <td>HE-HSSI</td>
            <td>Send back to back traffic with 25G speed on HSSI TX Port4 lanes using Traffic generator registers</td>
            <td>Check the CRC errors on loopback packets on Traffic Monitor Registers</td>
        </tr>
        <tr>
            <td>he_hssi_tx_lpbk_P5_test</td>
            <td>HE-HSSI</td>
            <td>Send back to back traffic with 25G speed on HSSI TX Port5 lanes using Traffic generator registers</td>
            <td>Check the CRC errors on loopback packets on Traffic Monitor Registers</td>
        </tr>
        <tr>
            <td>he_hssi_tx_lpbk_P6_test</td>
            <td>HE-HSSI</td>
            <td>Send back to back traffic with 25G speed on HSSI TX Port6 lanes using Traffic generator registers</td>
            <td>Check the CRC errors on loopback packets on Traffic Monitor Registers</td>
        </tr>
        <tr>
            <td>he_hssi_tx_lpbk_P7_test</td>
            <td>HE-HSSI</td>
            <td>Send back to back traffic with 25G speed on HSSI TX Port7 lanes using Traffic generator registers</td>
            <td>Check the CRC errors on loopback packets on Traffic Monitor Registers</td>
        </tr>
        <tr>
            <td>he_lpbk_cont_test</td>
            <td>HE-LPBK</td>
            <td>Continuous mode/LPBK mode, random num_lines, addresses, req_len</td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>he_lpbk_csr_test</td>
            <td>HE-LPBK</td>
            <td>CSR accesses</td>
            <td>data checking</td>
        </tr>
         <tr>
            <td>he_lpbk_flr_rst_test</td>
            <td>HE-LPBK</td>
            <td>FLR RST is generated in HE_LPBK access</td>
            <td>data checking, counter checking</td>
        </tr>
        <tr>
            <td>he_lpbk_long_rst_test</td>
            <td>HE-LPBK</td>
            <td>Multiple iterations of he_lpb_seq with soft reset HE-LB in middle</td>
            <td>data checking, counter checking</td>
        </tr>
        <tr>
            <td>he_lpbk_long_test</td>
            <td>HE-LPBK</td>
            <td>Multiple iterations of he_lpb_seq with STOP HE-LB in middle</td>
            <td>data checking, counter checking</td>
        </tr>
        <tr>
            <td>he_lpbk_multi_user_intr_test</td>
            <td>HE-LPBK</td>
            <td>generate user HE_LB interrupt</td>
            <td>interrupt checking</td>
        </tr>
        <tr>
            <td>he_lpbk_rd_cont_test</td>
            <td>HE-LPBK</td>
            <td>Read only mode/ Continuous mode. Randomize num_lines, addresses, req_len</td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>he_lpbk_rd_test</td>
            <td>HE-LPBK</td>
            <td>Read only mode. Randomize num_lines, addresses, req_len</td>
            <td>counter checking</td>
        </tr>
        <tr>
            <td>he_lpbk_reqlen16_test</td>
            <td>HE-LPBK</td>
            <td>To check the behavior of HE_LPK block when req_length 16 and num_lines set to 1024 Cache lines in Loopback mode</td>
            <td>data checking, counter checking</td>
        </tr>
        <tr>
            <td>he_lpbk_reqlen1_test</td>
            <td>HE-LPBK</td>
            <td>Loopback mode. 128 CLs, req_len = 1CL, random addresses</td>
            <td>data checking, counter checking</td>
        </tr>
        <tr>
            <td>he_lpbk_reqlen2_test</td>
            <td>HE-LPBK</td>
            <td>Loopback mode. 128 CLs, req_len = 2CL, random addresses</td>
            <td>data checking, counter checking</td>
        </tr>
        <tr>
            <td>he_lpbk_reqlen4_test</td>
            <td>HE-LPBK</td>
            <td>Loopback mode. 128 CLs, req_len = 4CL, random addresses</td>
            <td>data checking, counter checking</td>
        </tr>
        <tr>
            <td>he_lpbk_reqlen8_test</td>
            <td>HE-LPBK</td>
            <td>Loopback mode. 128 CLs, req_len = 8CL, random addresses</td>
            <td>data checking, counter checking</td>
        </tr>
        <tr>
            <td>he_lpbk_rst_in_middle_test</td>
            <td>PCIe MMIO Path</td>
            <td>Set HE_LPK in  all the modes randomly and iterate the transactions in loop. At the end of every loop assert the Soft reset in the middle of the transactions</td>
            <td>Register Base Offset</td>
        </tr>
        <tr>
            <td>he_lpbk_test</td>
            <td>HE-LPBK</td>
            <td>Loopback mode.  Randomize num_lines, addresses, req_len</td>
            <td>data checking, counter checking</td>
        </tr>
        <tr>
            <td>he_lpbk_thruput_contmode_test</td>
            <td>HE-LPBK</td>
            <td>Continuous mode, Read/Write mode. 50/50. Randomize num_lines, addresses, req_len</td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>he_lpbk_thruput_test</td>
            <td>HE-LPBK</td>
            <td>Read/Write mode. 50/50. Randomize num_lines, addresses, req_len</td>
            <td>counter checking</td>
        </tr>
        <tr>
            <td>he_lpbk_wr_cont_test</td>
            <td>HE-LPBK</td>
            <td>Write only mode/Continuous mode. Randomize num_lines, addresses, req_len</td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>he_lpbk_wr_test</td>
            <td>HE-LPBK</td>
            <td>Write only mode. Randomize num_lines, addresses, req_len</td>
            <td>counter checking</td>
        </tr>
        <tr>
            <td>he_mem_cont_test</td>
            <td>HE-MEM</td>
            <td>Continuous mode/LPBK mode, random num_lines, addresses, req_len</td>
            <td>data checking, counter checking</td>
        </tr>
        <tr>
            <td>he_mem_csr_test</td>
            <td>HE-MEM</td>
            <td>CSR accesses</td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>he_mem_lpbk_long_rst_test</td>
            <td>HE-MEM</td>
            <td>Multiple iterations of he_lpb_seq with soft reset HE-LB in middle</td>
            <td>data checking, counter checking</td>
        </tr>
        <tr>
            <td>he_mem_lpbk_long_test</td>
            <td>HE-MEM</td>
            <td>Multiple iterations of he_lpb_seq with STOP HE-LB in middle</td>
            <td>data checking, counter checking</td>
        </tr>
          <tr>
            <td>he_mem_lpbk_reqlen16_test</td>
            <td>HE-MEM</td>
            <td>To check the behavior of HE_LPK block when req_length 16 and num_lines set to 1024 Cache lines in Loopback mode</td>
            <td>data checking, counter checking</td>
        </tr>
        <tr>
            <td>he_mem_lpbk_reqlen1_test</td>
            <td>HE-MEM</td>
            <td>Loopback mode. 128 CLs, req_len = 1CL, random addresses</td>
            <td>data checking, counter checking</td>
        </tr>
        <tr>
            <td>he_mem_lpbk_reqlen2_test</td>
            <td>HE-MEM</td>
            <td>Loopback mode. 128 CLs, req_len = 2CL, random addresses</td>
            <td>data checking, counter checking</td>
        </tr>
        <tr>
            <td>he_mem_lpbk_reqlen4_test</td>
            <td>HE-MEM</td>
            <td>Loopback mode. 128 CLs, req_len = 4CL, random addresses</td>
            <td>data checking, counter checking</td>
        </tr>
        <tr>
            <td>he_mem_lpbk_reqlen8_test</td>
            <td>HE-MEM</td>
            <td>Loopback mode. 128 CLs, req_len = 8CL, random addresses</td>
            <td>data checking, counter checking</td>
        </tr>
        <tr>
            <td>he_mem_lpbk_test</td>
            <td>HE-MEM</td>
            <td>Loopback mode.  Randomize num_lines, addresses, req_len</td>
            <td>data checking, counter checking</td>
        </tr>
        <tr>
            <td>he_mem_multi_user_intr_test</td>
            <td>Interrupt</td>
            <td>Back to back multiple User interrupt request from HE MEM</td>
            <td>Test checks for interrupt assertion, deassertion, mask feature, PBA bits and MSIX host memory data integrity through backdoor memory read for multiple back to back request</td>
        </tr>
        <tr>
            <td>he_mem_rd_cont_test</td>
            <td>HE-MEM</td>
            <td>Read only mode/Continuous mode. Randomize num_lines, addresses, req_len</td>
            <td>data checking, counter checking</td>
        </tr>
        <tr>
            <td>he_mem_rd_test</td>
            <td>HE-MEM</td>
            <td>Read only mode. Randomize num_lines, addresses, req_len</td>
            <td>counter checking</td>
        </tr>
        <tr>
            <td>he_mem_thruput_contmode_directed_test</td>
            <td>HE-MEM</td>
            <td>Set HE_MEM in Thrput Continuous mode and test</td>
            <td>data checking, counter checking</td>
        </tr>
        <tr>
            <td>he_mem_thruput_contmode_test</td>
            <td>HE-MEM</td>
            <td>Continuous mode, Read/Write mode. 50/50. Randomize num_lines, addresses, req_len</td>
            <td>data checking, counter checking</td>
        </tr>
        <tr>
            <td>he_mem_thruput_test</td>
            <td>HE-MEM</td>
            <td>Read/Write mode. 50/50. Randomize num_lines, addresses, req_len</td>
            <td>counter checking</td>
        </tr>
        <tr>
            <td>he_mem_user_intr_test</td>
            <td>Interrupt</td>
            <td>FME interrupt request using RAS ERROR and FME ERROR assertion</td>
            <td>Test checks for interrupt assertion, deassertion, mask feature, PBA bits and MSIX host memory data integrity through backdoor memory read plus verifying interrupt requests generated from FME and RAS ERROR bits</td>
        </tr>
        <tr>
            <td>he_mem_wr_cont_test</td>
            <td>HE-MEM</td>
            <td>Write only mode/Continuous mode. Randomize num_lines, addresses, req_len</td>
            <td>data checking, counter checking</td>
        </tr>
        <tr>
            <td>he_mem_wr_test</td>
            <td>HE-MEM</td>
            <td>Write only mode. Randomize num_lines, addresses, req_len</td>
            <td>counter checkingt</td>
        </tr>
        <tr>
            <td>he_random_test</td>
            <td>All HEs</td>
            <td>Enable all HEs and randomize modes</td>
            <td>data checking if in lpbk mode, counter checking</td>
        </tr>
        <tr>
            <td>helb_rd_1cl_test</td>
            <td>Performance</td>
            <td>HE-LB; ReqLen = 1CL; 1024 CLs; Read only mode</td>
            <td>Measure the performance</td>
        </tr>
        <tr>
            <td>helb_rd_2cl_test</td>
            <td>Performance</td>
            <td>HE-LB; ReqLen = 2CL; 1024 CLs; Read only mode</td>
            <td>Measure the performance</td>
        </tr>
        <tr>
            <td>helb_rd_4cl_test</td>
            <td>Performance</td>
            <td>HE-LB; ReqLen = 4CL; 1024 CLs; Read only mode</td>
            <td>Measure the performance</td>
        </tr>
        <tr>
            <td>helb_thruput_1cl_test</td>
            <td>Performance</td>
            <td>HE-LB; ReqLen = 1CL; 1024 CLs; Thruput mode</td>
            <td>Measure the performance</td>
        </tr>
        <tr>
            <td>helb_thruput_2cl_test</td>
            <td>Performance</td>
            <td>HE-LB; ReqLen = 2CL; 1024 CLs; Thruput mode</td>
            <td>Measure the performance</td>
        </tr>
        <tr>
            <td>helb_thruput_4cl_5bit_tag_test</td>
            <td>Performance</td>
            <td>Set HE_LPK in thruput mode and send traffic with req len 4 and num_lines set to 1024. Measure the Read/Write performance</td>
            <td>Measure the performance</td>
        </tr>
        <tr>
            <td>helb_thruput_4cl_8bit_tag_test</td>
            <td>Performance</td>
            <td>Set HE_LPK in thruput mode and send traffic with req len 4 and num_lines set to 1024. Measure the Read/Write performance</td>
            <td>Measure the performance</td>
        </tr>
        <tr>
            <td>helb_thruput_4cl_test</td>
            <td>Performance</td>
            <td>HE-LB; ReqLen = 4CL; 1024 CLs; Thruput mode</td>
            <td>Measure the performance</td>
        </tr>
        <tr>
            <td>helb_wr_1cl_test</td>
            <td>Performance</td>
            <td>HE-LB; ReqLen = 1CL; 1024 CLs; Write only mode</td>
            <td>Measure the performance</td>
        </tr>
        <tr>
            <td>helb_wr_2cl_test</td>
            <td>Performance</td>
            <td>HE-LB; ReqLen = 2CL; 1024 CLs; Write only mode</td>
            <td>Measure the performance</td>
        </tr>
        <tr>
            <td>helb_wr_4cl_test</td>
            <td>Performance</td>
            <td>HE-LB; ReqLen = 4CL; 1024 CLs; Write only mode</td>
            <td>Measure the performance</td>
        </tr>
        <tr>
            <td>hssi_ss_test</td>
            <td>HSSI</td>
            <td>CSR accesses</td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>malformedtlp_pcie_rst_test</td>
            <td>Protocol Checker</td>
            <td>generate mllformed TLP protocol error and initiate pcie reset to clear the error</td>
            <td>Check for error</td>
        </tr>
        <tr>
            <td>malformedtlp_test</td>
            <td>Protocol Checker</td>
            <td>Checks for different PCIe Protocol error generation (upstram/downstream) and check the clear mechanism of AFU for these detected protocol errors.<br>
                1. Apply the error.<br>
                2. Wait 5us 1us<br>
                3. Set the port reset bit true and then false again (within 1us) (You will not be able to perform a read-modify-write because F's will be returned on reads. Write a 0x5 to set and a 0x4 to clear).<br>
                4. Wait 124us 135us (or 7.5us 28us if MMIO_TIMEOUT_CYCLES is 512.)<br>
                5. Read bit 31 of the AFU_INTF_ERROR, BlockingTraffic. If it is set it means that we did not wait long enough in step 4.<br>
                6. Read the AFU_INTF_ERROR  register, Be sure only the expected error(s) are set.<br>
                7. Read the AFU_INTF_FIRST_ERROR CSR. Be sure only one error bit is set and it is the expected one.<br>
                8. Clear the errors in the AFU_INTF_ERROR CSR by writing one to the bits that are set.<br>
                9. Read the AFU_INTF_FIRST_ERROR CSR. Be sure all bits are cleared</td>
            <td>1.Check AFU_INTF_ERROR and AFU_INTF_FIRST_ERROR register is getting set with correct error vector.<br>
                2.After clearing the error register ,check if normal transcation are completing.</td>
        </tr>
        <tr>
            <td>MaxTagError_test</td>
            <td>Protocol Checker</td>
            <td>Checks for different PCIe Protocol error generation (upstram/downstream) and check the clear mechanism of AFU for these detected protocol errors.<br>
                1. Apply the error.<br>
                2. Wait 5us 1us<br>
                3. Set the port reset bit true and then false again (within 1us) (You will not be able to perform a read-modify-write because F's will be returned on reads. Write a 0x5 to set and a 0x4 to clear).<br>
                4. Wait 124us 135us (or 7.5us 28us if MMIO_TIMEOUT_CYCLES is 512.)<br>
                5. Read bit 31 of the AFU_INTF_ERROR, BlockingTraffic. If it is set it means that we did not wait long enough in step 4.<br>
                6. Read the AFU_INTF_ERROR  register, Be sure only the expected error(s) are set.<br>
                7. Read the AFU_INTF_FIRST_ERROR CSR. Be sure only one error bit is set and it is the expected one.<br>
                8. Clear the errors in the AFU_INTF_ERROR CSR by writing one to the bits that are set.<br>
                9. Read the AFU_INTF_FIRST_ERROR CSR. Be sure all bits are cleared</td>
            <td>1.Check AFU_INTF_ERROR and AFU_INTF_FIRST_ERROR register is getting set with correct error vector.<br>
                2.After clearing the error register ,check if normal transactions are completing.</td>
        </tr> 
        <tr>
            <td>mem_tg_csr_test</td>
            <td>MEM-TG</td>
            <td>CSR access</td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>mem_tg_traffic_gen_test</td>
            <td>MEM-TG</td>
            <td>This test checks the MEM_TG traffic generator flow </td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>mini_smoke_test</td>
            <td>All HEs</td>
            <td>shorter simpler version of random test for turn-in sanity check</td>
            <td>data checking if in lpbk mode, counter checking</td>
        </tr>
        <tr>
            <td>mix_intr_test</td>
            <td>Interrupt</td>
            <td>Mix interrupt testcase to send multiple FME and User interrupt request simultaneously</td>
            <td>Test checks for interrupt assertion, deassertion, mask feature, PBA bits and MSIX host memory data integrity through backdoor memory read plus verifying interrupt requests through different sources - FME and HE-MEM modules</td>
        </tr>
        <tr>
            <td>mmio_pcie_mrrs_128B_mps_128B_test</td>
            <td>PCIe - Max Payload/Max Read Req Size</td>
            <td>Random length mmio Write</td>
            <td>Checking valid possible combination of MPS & MRRS</td>
        </tr>
        <tr>
            <td>mmio_pcie_mrrs_128B_mps_256B_test</td>
            <td>PCIe - Max Payload/Max Read Req Size</td>
            <td>Random length mmio Write</td>
            <td>Checking valid possible combination of MPS & MRRS</td>
        </tr>
        <tr>
            <td>mmio_pcie_mrrs_256B_mps_128B_test</td>
            <td>PCIe - Max Payload/Max Read Req Size</td>
            <td>Random length mmio Write</td>
            <td>Checking valid possible combination of MPS & MRRS</td>
        </tr>
        <tr>
            <td>mmio_pcie_mrrs_256B_mps_256B_test</td>
            <td>PCIe - Max Payload/Max Read Req Size</td>
            <td>Random length mmio Read</td>
            <td>Checking valid possible combination of MPS & MRRS</td>
        </tr>
        <tr>
            <td>mmio_stress_nonblocking_test</td>
            <td>PF/VF Mux/Demux</td>
            <td>Stressing MMIO on PF/VF Mux/Demux with non-blocking MMIO reads</td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>mmio_stress_test</td>
            <td>PF/VF Mux/Demux</td>
            <td>Stressing MMIO on PF/VF Mux/Demux</td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>mmio_test</td>
            <td>PCIe MMIO Path</td>
            <td>MMIO targeting PF0(ST2MM, FME, PMCI, QSFP, HSSI SS), PF1, PF2,PF3, PF4, PF1.VF1, PF1.VF2</td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>mmio_unimp_test</td>
            <td>PCIe MMIO Path</td>
            <td>MMIO acccess to unimplemented addresses</td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>MMIODataPayloadOverrun_test</td>
            <td>Protocol Checker</td>
            <td>Checks for different PCIe Protocol error generation (upstram/downstream) and check the clear mechanism of AFU for these detected protocol errors.<br>
                1. Apply the error.<br>
                2. Wait 5us 1us<br>
                3. Set the port reset bit true and then false again (within 1us) (You will not be able to perform a read-modify-write because F's will be returned on reads. Write a 0x5 to set and a 0x4 to clear).<br>
                4. Wait 124us 135us (or 7.5us 28us if MMIO_TIMEOUT_CYCLES is 512.)<br>
                5. Read bit 31 of the AFU_INTF_ERROR, BlockingTraffic. If it is set it means that we did not wait long enough in step 4.<br>
                6. Read the AFU_INTF_ERROR  register, Be sure only the expected error(s) are set.<br>
                7. Read the AFU_INTF_FIRST_ERROR CSR. Be sure only one error bit is set and it is the expected one.<br>
                8. Clear the errors in the AFU_INTF_ERROR CSR by writing one to the bits that are set.<br>
                9. Read the AFU_INTF_FIRST_ERROR CSR. Be sure all bits are cleared</td>
            <td>1.Check AFU_INTF_ERROR and AFU_INTF_FIRST_ERROR register is getting set with correct error vector.<br>
                2.After clearing the error register ,check if normal transcation are completing.</td>
        </tr>              
        <tr>
            <td>MMIOInsufficientData_test</td>
            <td>Protocol Checker</td>
            <td>Checks for different PCIe Protocol error generation (upstram/downstream) and check the clear mechanism of AFU for these detected protocol errors.<br>
                1. Apply the error.<br>
                2. Wait 5us 1us<br>
                3. Set the port reset bit true and then false again (within 1us) (You will not be able to perform a read-modify-write because F's will be returned on reads. Write a 0x5 to set and a 0x4 to clear).<br>
                4. Wait 124us 135us (or 7.5us 28us if MMIO_TIMEOUT_CYCLES is 512.)<br>
                5. Read bit 31 of the AFU_INTF_ERROR, BlockingTraffic. If it is set it means that we did not wait long enough in step 4.<br>
                6. Read the AFU_INTF_ERROR  register, Be sure only the expected error(s) are set.<br>
                7. Read the AFU_INTF_FIRST_ERROR  CSR. Be sure only one error bit is set and it is the expected one.<br>
                8. Clear the errors in the AFU_INTF_ERROR CSR by writing one to the bits that are set.<br>
                9. Read the AFU_INTF_FIRST_ERROR  CSR. Be sure all bits are cleared</td>
            <td>1.Check AFU_INTF_ERROR and AFU_INTF_FIRST_ERROR register is getting set with correct error vector.<br>
                2.After clearing the error register ,check if normal transcation are completing.</td>
        </tr>              
        <tr>
            <td>MMIOTimedout_test</td>
            <td>Protocol Checker</td>
            <td>Checks for different PCIe Protocol error generation (upstram/downstream) and check the clear mechanism of AFU for these detected protocol errors.<br>
                1. Apply the error.<br>
                2. Wait 5us 1us<br>
                3. Set the port reset bit true and then false again (within 1us) (You will not be able to perform a read-modify-write because F's will be returned on reads. Write a 0x5 to set and a 0x4 to clear).<br>
                4. Wait 124us 135us (or 7.5us 28us if MMIO_TIMEOUT_CYCLES is 512.)<br>
                5. Read bit 31 of the AFU_INTF_ERROR, BlockingTraffic. If it is set it means that we did not wait long enough in step 4.<br>
                6. Read the AFU_INTF_ERROR  register, Be sure only the expected error(s) are set.<br>
                7. Read the AFU_INTF_FIRST_ERROR  CSR. Be sure only one error bit is set and it is the expected one.<br>
                8. Clear the errors in the AFU_INTF_ERROR CSR by writing one to the bits that are set.<br>
                9. Read the AFU_INTF_FIRST_ERROR  CSR. Be sure all bits are cleared</td>
            <td>1.Check AFU_INTF_ERROR and AFU_INTF_FIRST_ERROR register is getting set with correct error vector.<br>
                2.After clearing the error register ,check if normal transcation are completing.</td>
        </tr>    
        <tr>
            <td>pcie_csr_test</td>
            <td>PCIESS</td>
            <td>Earlier msix registers were in fme block but now it has moved from fme to pciess. Hence coded a seperate test for msix</td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>pcie_pmci_mctp_multi_vdm_test</td>
            <td>MCTP</td>
            <td>Vendor specific messaging capability</td>
            <td>MCTP PCIe VDM multiple packets received from PMCI controller over APF and BPF to PCIe HIA subsystem</td>
        </tr>
        <tr>
            <td>pcie_pmci_mctp_vdm_test</td>
            <td>MCTP</td>
            <td>Vendor specific messaging capability</td>
            <td>MCTP PCIe VDM (Vendor Defined Message) single packet received from PCIe HIA subsystem to PMCI controller over APF and BPF via AXI4-lite memory write request</td>
        </tr>
        <tr>
            <td>pmci_csr_test</td>
            <td>PMCI CSR</td>
            <td>CSR accesses</td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>pmci_fme_csr_test</td>
            <td>PMCI FME CSR</td>
            <td>CSR accesses</td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>pmci_pcie_mctp_multi_vdm_test</td>
            <td>MCTP</td>
            <td>Vendor specific messaging capability</td>
            <td>MCTP PCIe VDM multiple packets received from PMCI controller over APF and BPF to PCIe HIA subsystem</td>
        </tr>
        <tr>
            <td>pmci_pcie_mctp_vdm_test</td>
            <td>MCTP</td>
            <td>Vendor specific messaging capability</td>
            <td>MCTP PCIe VDM single packet received from PMCI controller over APF and BPF to PCIe HIA subsystem</td>
        </tr>
        <tr>
            <td>pmci_pciess_csr_test</td>
            <td>PMCI PCIESS CSR</td>
            <td>CSR accesses</td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>pmci_qsfp_csr_test</td>
            <td>PMCI QSFP CSR</td>
            <td>CSR accesses</td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>port_gasket_csr_test</td>
            <td>PORT GASKET</td>
            <td>CSR accesses</td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>qsfp_csr_test</td>
            <td>QSFP</td>
            <td>CSR accesses</td>
            <td>data checking</td>
        </tr>
        <tr>
            <td>TxMWrDataPayloadOverrun_test</td>
            <td>Protocol Checker</td>
            <td>Checks for different PCIe Protocol error generation (upstram/downstream) and check the clear mechanism of AFU for these detected protocol errors.<br>
                1. Apply the error.<br>
                2. Wait 5us 1us<br>
                3. Set the port reset bit true and then false again (within 1us) (You will not be able to perform a read-modify-write because F's will be returned on reads. Write a 0x5 to set and a 0x4 to clear).<br>
                4. Wait 124us 135us (or 7.5us 28us if MMIO_TIMEOUT_CYCLES is 512.)<br>
                5. Read bit 31 of the AFU_INTF_ERROR, BlockingTraffic. If it is set it means that we did not wait long enough in step 4.<br>
                6. Read the AFU_INTF_ERROR  register, Be sure only the expected error(s) are set.<br>
                7. Read the AFU_INTF_FIRST_ERROR CSR. Be sure only one error bit is set and it is the expected one.<br>
                8. Clear the errors in the AFU_INTF_ERROR CSR by writing one to the bits that are set.<br>
                9. Read the AFU_INTF_FIRST_ERROR CSR. Be sure all bits are cleared</td>
            <td>1.Check AFU_INTF_ERROR and AFU_INTF_FIRST_ERROR register is getting set with correct error vector.<br>
                2.After clearing the error register ,check if normal transcation are completing.</td>
        </tr> 
        <tr>
            <td>TxMWrInsufficientData_test</td>
            <td>Protocol Checker</td>
            <td>Checks for different PCIe Protocol error generation (upstram/downstream) and check the clear mechanism of AFU for these detected protocol errors.<br>
                1. Apply the error.<br>
                2. Wait 5us 1us<br>
                3. Set the port reset bit true and then false again (within 1us) (You will not be able to perform a read-modify-write because F's will be returned on reads. Write a 0x5 to set and a 0x4 to clear).<br>
                4. Wait 124us 135us (or 7.5us 28us if MMIO_TIMEOUT_CYCLES is 512.)<br>
                5. Read bit 31 of the AFU_INTF_ERROR, BlockingTraffic. If it is set it means that we did not wait long enough in step 4.<br>
                6. Read the AFU_INTF_ERROR  register, Be sure only the expected error(s) are set.<br>
                7. Read the AFU_INTF_FIRST_ERROR CSR. Be sure only one error bit is set and it is the expected one.<br>
                8. Clear the errors in the AFU_INTF_ERROR CSR by writing one to the bits that are set.<br>
                9. Read the AFU_INTF_FIRST_ERROR CSR. Be sure all bits are cleared</td>
            <td>1.Check AFU_INTF_ERROR and AFU_INTF_FIRST_ERROR register is getting set with correct error vector.<br>
                2.After clearing the error register ,check if normal transcation are completing.</td>
        </tr> 
        <tr>
            <td>uart_intr_test</td>
            <td>UART Checking</td>
            <td>Generates UART interrupt</td>
            <td>Check interrupt</td>
        </tr>
        <tr>
            <td>UnexpMMIORspErr_test</td>
            <td>Protocol Checker</td>
            <td>Checks for different PCIe Protocol error generation (upstram/downstream) and check the clear mechanism of AFU for these detected protocol errors.<br>
                1. Apply the error.<br>
                2. Wait 5us 1us<br>
                3. Set the port reset bit true and then false again (within 1us) (You will not be able to perform a read-modify-write because F's will be returned on reads. Write a 0x5 to set and a 0x4 to clear).<br>
                4. Wait 124us 135us (or 7.5us 28us if MMIO_TIMEOUT_CYCLES is 512.)<br>
                5. Read bit 31 of the AFU_INTF_ERROR, BlockingTraffic. If it is set it means that we did not wait long enough in step 4.<br>
                6. Read the AFU_INTF_ERROR  register, Be sure only the expected error(s) are set.<br>
                7. Read the AFU_INTF_FIRST_ERROR CSR. Be sure only one error bit is set and it is the expected one.<br>
                8. Clear the errors in the AFU_INTF_ERROR CSR by writing one to the bits that are set.<br>
                9. Read the AFU_INTF_FIRST_ERROR CSR. Be sure all bits are cleared</td>
            <td>1.Check AFU_INTF_ERROR and AFU_INTF_FIRST_ERROR register is getting set with correct error vector.<br>
                2.After clearing the error register ,check if normal transcation are completing.</td>
        </tr> 
        <tr>
            <td>vdm_err_vid_test</td>
            <td>Vendor ID check</td>
            <td>generate a packet with undefined Vendor-ID from Host to PMCI_SS</td>
            <td>ID check</td>
        </tr>
</tr>
     </tbody>
</table>

<p><br><br></p>
<p>The next section describes how to compile and build the <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> environment prior to running each <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> test and analyinsg the results in the log files </p>
<h2 id="64-ip-compile"><strong>6.4 IP Compile</strong><a class="headerlink" href="#64-ip-compile" title="Permanent link">&para;</a></h2>
<h2 id="synopsys-vcs"><strong>Synopsys VCS</strong><a class="headerlink" href="#synopsys-vcs" title="Permanent link">&para;</a></h2>
<p>To compile all IPs for the Synopsys VCS simulater:</p>
<div class="highlight"><pre><span></span><code>    cd $VERDIR/scripts

    gmake -f Makefile_VCS.mk cmplib_adp
</code></pre></div>
<h2 id="questasim-tbd"><strong>Questasim</strong> (TBD)<a class="headerlink" href="#questasim-tbd" title="Permanent link">&para;</a></h2>
<p>To compile all IPs for the Questasim simulater:</p>
<div class="highlight"><pre><span></span><code>    cd $VERDIR/scripts

    gmake -f Makefile_MSIM.mk cmplib_adp
</code></pre></div>
<h2 id="65-rtl-test-bench-compile"><strong>6.5 RTL &amp; Test Bench Compile</strong><a class="headerlink" href="#65-rtl-test-bench-compile" title="Permanent link">&para;</a></h2>
<p>The RTL file list for compilation is located here: verification/scripts/rtl_comb.f</p>
<p>The <abbr title="Testbench, Testbench or Verification Environment is used to check the functional correctness of the Design Under Test (DUT) by generating and driving a predefined input sequence to a design, capturing the design output and comparing with-respect-to expected output.">TB</abbr> file list for compilation is located here: verification/scripts/ver_list.f</p>
<h2 id="synopsys-vcs_1"><strong>Synopsys VCS</strong><a class="headerlink" href="#synopsys-vcs_1" title="Permanent link">&para;</a></h2>
<p>To compile RTL and Testbench for the Synopsys VCS simulater</p>
<div class="highlight"><pre><span></span><code>    cd $VERDIR/scripts

    gmake -f Makefile_VCS.mk build_adp DUMP=1
</code></pre></div>
<h2 id="questasim-tbd_1"><strong>Questasim</strong> (TBD)<a class="headerlink" href="#questasim-tbd_1" title="Permanent link">&para;</a></h2>
<p>To compile RTL and Testbench for the Questasim simulater</p>
<div class="highlight"><pre><span></span><code>    cd $VERDIR/scripts

    gmake -f Makefile_MSIM.mk build_adp DUMP=1
</code></pre></div>
<h2 id="66-ip-and-rtl-test-bench-compile"><strong>6.6 IP and RTL &amp; Test Bench Compile</strong><a class="headerlink" href="#66-ip-and-rtl-test-bench-compile" title="Permanent link">&para;</a></h2>
<h2 id="synopsys-vcs_2"><strong>Synopsys VCS</strong><a class="headerlink" href="#synopsys-vcs_2" title="Permanent link">&para;</a></h2>
<p>If the user wants to compile all IPs and RTL Testbench in one command for Synopsys VCS then follow the procedure below</p>
<div class="highlight"><pre><span></span><code>    cd $VERDIR/scripts

    gmake -f Makefile_VCS.mk build_all DUMP=1
</code></pre></div>
<h2 id="questasim-tbd_2"><strong>Questasim</strong> (TBD)<a class="headerlink" href="#questasim-tbd_2" title="Permanent link">&para;</a></h2>
<p>If the user wants to compile all IPs and RTL Testbench in one command for Questasim then follow the procedure below</p>
<div class="highlight"><pre><span></span><code>    cd $VERDIR/scripts

    gmake -f Makefile_MSIM.mk build_all DUMP=1
</code></pre></div>
<h2 id="synopsys-vcs_3"><strong>Synopsys VCS</strong><a class="headerlink" href="#synopsys-vcs_3" title="Permanent link">&para;</a></h2>
<p>To run a simulation for Synopsys VCS:</p>
<div class="highlight"><pre><span></span><code>    cd $VERDIR/scripts

    gmake -f Makefile_VCS.mk run TESTNAME=ofs_mmio_test DUMP=1
</code></pre></div>
<h2 id="questasim-tbd_3"><strong>Questasim</strong> (TBD)<a class="headerlink" href="#questasim-tbd_3" title="Permanent link">&para;</a></h2>
<p>To run a simulation for Questasim:</p>
<div class="highlight"><pre><span></span><code>    cd $VERDIR/scripts

    gmake -f Makefile_MSIM.mk run TESTNAME=ofs_mmio_test DUMP=1
</code></pre></div>
<h2 id="synopsys-vcs_4"><strong>Synopsys VCS</strong><a class="headerlink" href="#synopsys-vcs_4" title="Permanent link">&para;</a></h2>
<p>To dump the waveform, "DUMP=1" must be added into the command line for Synopsys VCS build and simulation. </p>
<div class="highlight"><pre><span></span><code>    gmake -f Makefile_VCS.mk build_adp DUMP=1

    gmake -f Makefile_VCS.mk run TESTNAME=&lt;test_case_name&gt; DUMP=1
</code></pre></div>
<p>Or</p>
<div class="highlight"><pre><span></span><code>    gmake -f Makefile_VCS.mk build_run TESTNAME=&lt;test_case_name&gt; DUMP=1
</code></pre></div>
<h2 id="questasim-tbd_4"><strong>Questasim</strong> (TBD)<a class="headerlink" href="#questasim-tbd_4" title="Permanent link">&para;</a></h2>
<p>To dump the waveform, "DUMP=1" must be added into the command line for Questasim build and simulation. </p>
<div class="highlight"><pre><span></span><code>    gmake -f Makefile_MSIM.mk build_adp DUMP=1

    gmake -f Makefile_MSIM.mk run TESTNAME=&lt;test_case_name&gt; DUMP=1
</code></pre></div>
<p>Or</p>
<div class="highlight"><pre><span></span><code>    gmake -f Makefile_MSIM.mk build_run TESTNAME=&lt;test_case_name&gt; DUMP=1
</code></pre></div>
<p>There are some optimizations in the Table below for convenience if you want to bypass some commands for both Synopsys VCS and Questasim:</p>
<table>
    <thead>
        <tr>
            <th>Command (Synopsys VCS)</th>
            <th>Command (Questasim)</th>
            <th>Details</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>gmake -f Makefile_VCS.mk build_all DUMP=1</td>
            <td>gmake -f Makefile_MSIM.mk build_all DUMP=1</td>                        
            <td>compile IP + compile RTL</td>        
        </tr>
        <tr>
            <td>gmake -f Makefile_VCS.mk build_run TESTNAME=<test_case_name> DUMP=1</td>
            <td>gmake -f Makefile_MSIM.mk build_run TESTNAME=<test_case_name> DUMP=1</td>
            <td>compile RTL + run test</td>        
        </tr>
        <tr>
            <td>gmake -f Makefile_VCS.mk do_it_all TESTNAME=<test_case_name> DUMP=1</td>
            <td>gmake -f Makefile_MSIM.mk do_it_all TESTNAME=<test_case_name> DUMP=1</td>
            <td>compile IP, RTL and run test</td>        
        </tr>
        <tr>
            <td>gmake -f Makefile_VCS.mk rundb TESTNAME=<test_case_name> DUMP=1</td>
            <td>gmake -f Makefile_MSIM.mk rundb TESTNAME=<test_case_name> DUMP=1</td>
            <td>run test in sim dir + over-writes content</td>        
        </tr>
</tr>
     </tbody>
</table>

<h2 id="67-uvm-regression-test"><strong>6.7 <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> Regression Test</strong><a class="headerlink" href="#67-uvm-regression-test" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>cd $VERDIR/scripts

python uvm_regress.py -l -n 8 -p adp -k top_pkg -s vcs -c none

For Regression in VCS with top/test package, execute the following command 
    python uvm_regress.py -l -n 8 -p adp -k top_pkg -s vcs -c none

Results are created in a sim directory ($VERDIR/sim) with individual testcase log dir

For Regression in MSIM with top/test package, execute the following command 
    python uvm_regress.py -l -n 8 -p adp -k top_pkg -s msim -c none
</code></pre></div>
<p>Results are created in a sim directory ($VERDIR/sim_msim) with individual testcase log dir</p>
<h2 id="68-uvm-waveform-and-transcript-analysis"><strong>6.8 <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> Waveform and Transcript Analysis</strong><a class="headerlink" href="#68-uvm-waveform-and-transcript-analysis" title="Permanent link">&para;</a></h2>
<h2 id="synopsys-vcs_5"><strong>Synopsys VCS</strong><a class="headerlink" href="#synopsys-vcs_5" title="Permanent link">&para;</a></h2>
<p>Running Synopsys VCS <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> tests will generate a ofs-f2000x-pl/verification/sim directory</p>
<div class="highlight"><pre><span></span><code>• All build time logs are located at ofs-f2000x-pl/verification/sim

• Each testcase will have separate directory inside sim ofs-f2000x-pl/verification/sim/&lt;test_case_name&gt;
</code></pre></div>
<p>There are two tracker or log files that are available: runsim.log and trans.log. </p>
<p>runsim.log is the simulation log file generated from Synopsys VCS. The test sequence prints useful information for debugging purpose, such as the base address for each function or block. For HE-LB and HE-MEM, key information such as SRC_ADDR, DST_ADDR, NUM_LINES, mode, req_len etc is printed out as shown in Figure 5</p>
<p><a class="glightbox" href="../images/ofs-uvm_runsim_log.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/ofs-uvm_runsim_log.png" /></a></p>
<p><strong>Figure 5 runsim.log</strong></p>
<p>trans.log is generated from PCIe host VIP. trans.log records all transaction information coming in or going out of the VIP. Users can find traffic direction(DIR), TLP type, Tag, Address or BDF, 3 or 4 dword header of the TLP as shown in Figure 6</p>
<p><a class="glightbox" href="../images/ofs-uvm_trans_log.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/ofs-uvm_trans_log.png" /></a></p>
<p><strong>Figure 6 trans.log</strong></p>
<p>The waveform generated is named as "inter.vpd". To open the waveform, go to simulation result directory and run </p>
<div class="highlight"><pre><span></span><code>    dve -full64 -vpd inter.vpd &amp;
</code></pre></div>
<h2 id="questasim-tbd_5"><strong>Questasim</strong> (TBD)<a class="headerlink" href="#questasim-tbd_5" title="Permanent link">&para;</a></h2>
<p>Running Questasim <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> tests will generate a ofs-f2000x-pl/verification/sim_msim directory</p>
<div class="highlight"><pre><span></span><code>• All build time logs are at ofs-f2000x-pl/verification/sim_msim

• Each testcase will have separate directory inside sim ofs-f2000x-pl/verification/sim_msim/&lt;test_case_name&gt;
</code></pre></div>
<p>There are two tracker or log files that are available: runsim.log and trans.log. </p>
<p>runsim.log is the simulation log file generated from Questasim. The test sequence prints useful information for debugging purpose, such as the base address for each function or block. For HE-LB and HE-MEM, key information such as SRC_ADDR, DST_ADDR, NUM_LINES, mode, req_len etc is printed out as shown in Figure 7</p>
<p><a class="glightbox" href="../images/ofs-uvm_runsim_log.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/ofs-uvm_runsim_log.png" /></a></p>
<p><strong>Figure 7 runsim.log</strong></p>
<p>trans.log is generated from PCIe host VIP. trans.log records all transaction information coming in or going out of the VIP. Users can find traffic direction(DIR), TLP type, Tag, Address or BDF, 3 or 4 dword header of the TLP as shown in Figure 8</p>
<p><a class="glightbox" href="../images/ofs-uvm_trans_log.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/ofs-uvm_trans_log.png" /></a></p>
<p><strong>Figure 8 trans.log</strong></p>
<p>The waveform generated is named as "vsim.wlf". To open the waveform, go to simulation result directory and run </p>
<div class="highlight"><pre><span></span><code>    vsim -view vsim.wlf &amp;
</code></pre></div>
<h2 id="69-uvm-coverage-analysis"><strong>6.9 <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> Coverage Analysis</strong><a class="headerlink" href="#69-uvm-coverage-analysis" title="Permanent link">&para;</a></h2>
<p>The following command allows to run a single testcase with coverage enabled</p>
<div class="highlight"><pre><span></span><code>    gmake -f Makefile_VCS.mk cmplib_adp &amp;&amp; gmake -f Makefile_VCS.mk build_adp DUMP=1 DEBUG=1 COV_FUNCTIONAL=1&amp;&amp; gmake -f Makefile_VCS.mk run TESTNAME=&lt;TESTCASE-NAME&gt; DUMP=1 DEBUG=1 COV_FUNCTIONAL=1 &amp;
</code></pre></div>
<p>The following command shows how to merge and generate the coverage report</p>
<div class="highlight"><pre><span></span><code>    urg -dir &lt;$VERDIR/sim/simv.vdb&gt; &lt;$VERDIR/sim/regression.vdb&gt; -format both -dbname &lt;regression_database_name&gt;
</code></pre></div>
<p>This will generate both urgreport directory and <regression_database_name>.vdb file Multiple regression.vdb from different regressions can be merged with the same command.</p>
<div class="highlight"><pre><span></span><code>    e.g &quot;urg -dir &lt;path1_till_simv.vdb&gt; &lt;path1_till_regression.vdb&gt; &lt;path2_till_regression.vdb&gt; -report &lt;dir&gt; -format both -dbname &lt;dirname&gt;&quot;
</code></pre></div>
<p>The following commands shows how to launch DVE and check the coverage reports</p>
<div class="highlight"><pre><span></span><code>To open DVE of a single regression or testcase, execute:

    dve -full64 -cov -covdir simv.vdb regression.vdb &amp;

To open DVE of a merged regression test, execute:

    dve -full64 -cov -covdir &lt;dirname.vdb&gt; &amp;
</code></pre></div>
<p><br><br></p>
<h2 id="7-csr-verification-using-uvm-ral"><strong>7 CSR Verification using <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> RAL</strong><a class="headerlink" href="#7-csr-verification-using-uvm-ral" title="Permanent link">&para;</a></h2>
<h3 id="71-overview"><strong>7.1 Overview</strong><a class="headerlink" href="#71-overview" title="Permanent link">&para;</a></h3>
<p>The <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> Register Layer provides a standard base class library that enable users to implement the object-oriented model to access the DUT registers and memories. The <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> Register Layer is also referred to as <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> Register Abstraction Layer (<abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> RAL). Design registers can be accessed independently of the physical bus interface. i.e. by calling read/write methods. This is shown in Figure 9 below.</p>
<p><a class="glightbox" href="../images/ofs-uvm_ral_structure.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/ofs-uvm_ral_structure.png" /></a></p>
<p><strong>Figure 9 RAL <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> Testbench</strong></p>
<p>The RAL register models for different CSR's mimics the design registers. All RAL files are located here.</p>
<div class="highlight"><pre><span></span><code>    ofs-f2000x-pl/verification/testbench/ral
</code></pre></div>
<p>The RAL model is generated through the Synopsys RALGEN tool and is used for CSR verification.</p>
<h3 id="72-ral-integration"><strong>7.2 RAL Integration</strong><a class="headerlink" href="#72-ral-integration" title="Permanent link">&para;</a></h3>
<p>For <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> RAL model integration to the environment, adapters for each CSR is implemented and integrated into the Testbench Environment. It is used to convert the PCIe bus sequence items into uvm_reg_bus_op and vice versa. The CSR test cases pick up all the registers from the respective CSR blocks and perform a default value, wr/rd check on them. </p>
<h3 id="73-ral-model-generation"><strong>7.3 RAL Model Generation</strong><a class="headerlink" href="#73-ral-model-generation" title="Permanent link">&para;</a></h3>
<p>Steps for RAL model generation</p>
<p>Excel(xls) file containing the registers is required. Make sure there are separate xls files for each CSR and the worksheet name must contain the name "reg_fields".  </p>
<p>Excel sheet snapshot example below for EMIF_CSR.xls located at /ipss/mem/rtl/adp</p>
<p><a class="glightbox" href="../images/ofs-uvm_ral_spreadsheet.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/ofs-uvm_ral_spreadsheet.png" /></a></p>
<div class="highlight"><pre><span></span><code>• Navigate to ofs-f2000x-pl/ofs-common/verification/common/scripts/ral
• Copy the excel file (xls) to the above area
• In the bash terminal run mk_ral.sh &lt;Excel sheet name without extension &gt; &lt;output *.sv file name without ral_  prepended &gt;
• The above steps generate two ral *.sv files. File with _cov suffix is a coverage enabled ral model. 
• Copy *.sv files to ofs-f2000x-pl/verification/testbench/ral
</code></pre></div>
<p><a class="glightbox" href="../images/ofs-uvm_ral_flow.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/ofs-uvm_ral_flow.png" /></a></p>
<div class="highlight"><pre><span></span><code>• As an example to generate ral_ac_ce.sv from AC_CE_CSR.xls file the command is

    mk_ral.sh AC_CE_CSR ac_ce
</code></pre></div>
<p>This generates two ral models (ral_ac_ce.sv and ral_ac_ce_cov.sv)</p>
<p>To add new registers</p>
<div class="highlight"><pre><span></span><code>• To create new registers, copy existing ones and modify the cells in the xls. Make sure the last line is also a copied blank line
• Follow all the steps of RAL model generation
</code></pre></div>
<p>To Generate a RAL model when a new xls sheet is created for a new component</p>
<div class="highlight"><pre><span></span><code>• Copy the relevant xls sheet to ofs-f2000x-pl/ofs-common/verification/common/scripts/ral
• Follow all the steps of RAL model generation
</code></pre></div>
<h3 id="74-top-level-verification-architecture-for-csr-testing"><strong>7.4 Top Level Verification Architecture for CSR testing</strong><a class="headerlink" href="#74-top-level-verification-architecture-for-csr-testing" title="Permanent link">&para;</a></h3>
<h3 id="741-testbench-components"><strong>7.4.1 Testbench components</strong><a class="headerlink" href="#741-testbench-components" title="Permanent link">&para;</a></h3>
<p>The testbench components for RAL are defined below</p>
<div class="highlight"><pre><span></span><code>• ral_reg_iofs_* (uvm_reg) generated by the steps as mentioned in section 5.3
</code></pre></div>
<p>The uvm register class is written by extending the uvm_reg. A register represents a set of fields that are accessible as a single entity Each register contains any number of fields, which mirror the values of the corresponding elements in hardware</p>
<div class="highlight"><pre><span></span><code>• ral_block_iofs_* (uvm_block) generated in the same register file
</code></pre></div>
<p>A register model is an instance of a register block, which may contain any number of registers, register files, memories, and other blocks</p>
<div class="highlight"><pre><span></span><code>• ral_block_ofs (uvm_block) – Contains all the CSR block instantiations
• Reg2vip_*_adapter (uvm_reg_adapter) – This class defines an interface for converting between uvm_reg_bus_op and a specific bus transaction. For each CSR a respective adapter is present
</code></pre></div>
<p>All the components are defined in ofs-f2000x-pl/ofs-common/verification/testbench</p>
<p>Integration of components in testbench</p>
<div class="highlight"><pre><span></span><code>• The RAL blocks and adapters for each CSR is instantiated in tb_env
• The bar range for each CSR is also set in the tb_env
</code></pre></div>
<p>Sample Environment Integration snippets </p>
<p><a class="glightbox" href="../images/ofs-uvm_ral_snippet1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/ofs-uvm_ral_snippet1.png" /></a></p>
<p><a class="glightbox" href="../images/ofs-uvm_ral_snippet2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/ofs-uvm_ral_snippet2.png" /></a></p>
<p><a class="glightbox" href="../images/ofs-uvm_ral_snippet3.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/ofs-uvm_ral_snippet3.png" /></a></p>
<p><a class="glightbox" href="../images/ofs-uvm_ral_snippet4.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/ofs-uvm_ral_snippet4.png" /></a></p>
<p><br><br></p>
<h2 id="8-modifying-uvm-testbench"><strong>8 Modifying <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> Testbench</strong><a class="headerlink" href="#8-modifying-uvm-testbench" title="Permanent link">&para;</a></h2>
<p>The next sections describe what needs to be considered when modifying the <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr>, adding a new interface to the testbench and creating a new <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> test for a customised <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Accelerator platform.</p>
<h2 id="81-modifying-uvm-environment-for-new-shell-variant"><strong>8.1 Modifying <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> environment for new Shell Variant</strong><a class="headerlink" href="#81-modifying-uvm-environment-for-new-shell-variant" title="Permanent link">&para;</a></h2>
<p><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> f2000x comprises a shell based on PCIe Gen4x16 and is named base_x16</p>
<p>This base_x16 shell is described by an RTL file list, IP File lists and setup scripts to complete the build flow</p>
<h2 id="82-modifying-uvm-environment-and-setting-up-compile-and-run-flow"><strong>8.2 Modifying <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> environment and setting up Compile and Run flow</strong><a class="headerlink" href="#82-modifying-uvm-environment-and-setting-up-compile-and-run-flow" title="Permanent link">&para;</a></h2>
<p>All the variants can mostly reuse the existing <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> infrastructure to setup the build and run flow</p>
<div class="highlight"><pre><span></span><code>• Create directory under $OFS_BUILD_ROOT new variant e.g ofs-n9000
• Change directory to $OFS_BUILD_ROOT/ofs-n9000/verification/scripts
• modify Makefile it to point to the new RTL, IP and script files.
</code></pre></div>
<p>Following these three steps above will enable the build and sim flow to run the existing <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> <abbr title="Testbench, Testbench or Verification Environment is used to check the functional correctness of the Design Under Test (DUT) by generating and driving a predefined input sequence to a design, capturing the design output and comparing with-respect-to expected output.">TB</abbr> and tests with new IOFS n9000 variant.</p>
<p>Adding a new interface requires signal connections in the testbench. An additional BFM or verification IP is needed to drive the new interface. The main testbench file tb_top.sv is found at the following location</p>
<div class="highlight"><pre><span></span><code>    ofs-f2000x-pl/verification/testbench
</code></pre></div>
<h2 id="83-adding-a-new-ral-directory"><strong>8.3 Adding a new RAL directory</strong><a class="headerlink" href="#83-adding-a-new-ral-directory" title="Permanent link">&para;</a></h2>
<p>In case the design has many register changes and the user decides to generate all the new RAL models instead of reusing from existing base RAL models, the following steps will help to create and integrate a new RALDIR in the <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> environment.</p>
<div class="highlight"><pre><span></span><code>• Generate the new RAL files in desired directory. Preferably under the &quot;ofs-f2000x-pl/verification/common/testbench&quot; 
• By default, the Makefile points to base FIM RAL so set the RALDIR path in the Makefile to the new generated RAL file directory
</code></pre></div>
<h2 id="84-modifying-tbtest-files-for-new-variant"><strong>8.4 Modifying <abbr title="Testbench, Testbench or Verification Environment is used to check the functional correctness of the Design Under Test (DUT) by generating and driving a predefined input sequence to a design, capturing the design output and comparing with-respect-to expected output.">TB</abbr>/Test files for new Variant</strong><a class="headerlink" href="#84-modifying-tbtest-files-for-new-variant" title="Permanent link">&para;</a></h2>
<p>Create a define for the new variant. e.g 'define FIM_NEW. If you are modifying common files then add new logic under this define so other projects will not get affected with variant specific change.</p>
<p>If there are more changes, please create separate "testbench" and "test" folders under this new variant. </p>
<div class="highlight"><pre><span></span><code>• Extend variant specific env file from base env file to add variant specific changes.
• Create new test/seq lib files in &quot;tests&quot; folder.
• Create new variant package, add new TB/Tests/Sequence lib files and also import the base package files.
</code></pre></div>
<p>If you are adding new files then make sure it's included in Makefile for the build+run flow. </p>
<h2 id="85-uvm-pcie-drivers"><strong>8.5 <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> PCIe Drivers</strong><a class="headerlink" href="#85-uvm-pcie-drivers" title="Permanent link">&para;</a></h2>
<p>The "svt_pcie_driver_app_transaction_base_sequence" is part of Synopsys PCIe VIP library. You can find the sequence definition in the following two directories</p>
<div class="highlight"><pre><span></span><code>• Navigate to &quot;$DESIGNWARE_HOME/vip/svt/pcie_svt/Q-2020.03/sverilog/src/vcs/svt_pcie_driver_app_transaction_sequence_collection.svp&quot; file. All the base and PCIe sequences are defined in this file.

• When the OFS UVM build command is executed, it creates &quot;vip&quot; directory under &quot;$OFS_BUILD_ROOT/ofs-f2000x-pl/verification&quot;. You can also find the same sequence file at &quot;$IOFS_BUILD_ROOT/ofs-f2000x/verification/vip/pcie_vip/src/sverilog/vcs/svt_pcie_driver_app_transaction_sequence_collection.sv&quot;
</code></pre></div>
<h2 id="notices-disclaimers">Notices &amp; Disclaimers<a class="headerlink" href="#notices-disclaimers" title="Permanent link">&para;</a></h2>
<p>Intel<sup>&reg;</sup> technologies may require enabled hardware, software or service activation.
No product or component can be absolutely secure. 
Performance varies by use, configuration and other factors.
Your costs and results may vary. 
You may not use or facilitate the use of this document in connection with any infringement or other legal analysis concerning Intel products described herein. You agree to grant Intel a non-exclusive, royalty-free license to any patent claim thereafter drafted which includes subject matter disclosed herein.
No license (express or implied, by estoppel or otherwise) to any intellectual property rights is granted by this document, with the sole exception that you may publish an unmodified copy. You may create software implementations based on this document and in compliance with the foregoing that are intended to execute on the Intel product(s) referenced in this document. No rights are granted to create modifications or derivatives of this document.
The products described may contain design defects or errors known as errata which may cause the product to deviate from published specifications.  Current characterized errata are available on request.
Intel disclaims all express and implied warranties, including without limitation, the implied warranties of merchantability, fitness for a particular purpose, and non-infringement, as well as any warranty arising from course of performance, course of dealing, or usage in trade.
You are responsible for safety of the overall system, including compliance with applicable safety-related requirements or standards. 
<sup>&copy;</sup> Intel Corporation.  Intel, the Intel logo, and other Intel marks are trademarks of Intel Corporation or its subsidiaries.  Other names and brands may be claimed as the property of others. </p>
<p>OpenCL and the OpenCL logo are trademarks of Apple Inc. used by permission of the Khronos Group™.   </p>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.indexes", "search.suggest", "search.highlight", "content.code.copy", "navigation.indexes", "toc.follow"], "search": "../../../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.fac441b0.min.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>