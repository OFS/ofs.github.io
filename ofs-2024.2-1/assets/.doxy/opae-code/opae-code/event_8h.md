
# File event.h



[**FileList**](files.md) **>** [**docs**](dir_49e56c817e5e54854c35e136979f97ca.md) **>** [**sw**](dir_55721a669a8e0900d975c02921addb49.md) **>** [**include**](dir_97b4588afba69bf89bbe554642ac6431.md) **>** [**opae**](dir_ade97cd9199f278c0723672dd8647ba4.md) **>** [**event.h**](event_8h.md)

[Go to the source code of this file.](event_8h_source.md)

_Functions for registering events and managing the lifecycle for_ `fpga_event_handle` _s._[More...](#detailed-description)

* `#include <opae/types.h>`















## Public Functions

| Type | Name |
| ---: | :--- |
|  [**fpga\_result**](types__enum_8h.md#enum-fpga_result) | [**fpgaCreateEventHandle**](#function-fpgacreateeventhandle) ([**fpga\_event\_handle**](types_8h.md#typedef-fpga_event_handle) \* event\_handle) <br>_Initialize an event\_handle._  |
|  [**fpga\_result**](types__enum_8h.md#enum-fpga_result) | [**fpgaDestroyEventHandle**](#function-fpgadestroyeventhandle) ([**fpga\_event\_handle**](types_8h.md#typedef-fpga_event_handle) \* event\_handle) <br>_Destroy an event\_handle._  |
|  [**fpga\_result**](types__enum_8h.md#enum-fpga_result) | [**fpgaGetOSObjectFromEventHandle**](#function-fpgagetosobjectfromeventhandle) (const [**fpga\_event\_handle**](types_8h.md#typedef-fpga_event_handle) eh, int \* fd) <br>_Get OS object from event handle._  |
|  [**fpga\_result**](types__enum_8h.md#enum-fpga_result) | [**fpgaRegisterEvent**](#function-fpgaregisterevent) ([**fpga\_handle**](types_8h.md#typedef-fpga_handle) handle, [**fpga\_event\_type**](types__enum_8h.md#enum-fpga_event_type) event\_type, [**fpga\_event\_handle**](types_8h.md#typedef-fpga_event_handle) event\_handle, uint32\_t flags) <br>_Register an FPGA event._  |
|  [**fpga\_result**](types__enum_8h.md#enum-fpga_result) | [**fpgaUnregisterEvent**](#function-fpgaunregisterevent) ([**fpga\_handle**](types_8h.md#typedef-fpga_handle) handle, [**fpga\_event\_type**](types__enum_8h.md#enum-fpga_event_type) event\_type, [**fpga\_event\_handle**](types_8h.md#typedef-fpga_event_handle) event\_handle) <br>_Unregister an FPGA event._  |








# Detailed Description


OPAE provides an interface to asynchronous events that can be generated by different FPGA resources. The event API provides functions to register for these events; associated with every event a process has registered for is an fpga\_event\_handle, which encapsulates the OS-specific data structure for event objects. On Linux, an fpga\_event\_handle can be used as a file descriptor and passed to select(), poll(), epoll() and similar functions to wait for asynchronous events. 


    
## Public Functions Documentation


### function fpgaCreateEventHandle 

_Initialize an event\_handle._ 
```C++
fpga_result fpgaCreateEventHandle (
    fpga_event_handle * event_handle
) 
```



Platform independent way to initialize an event\_handle used for notifications from the driver to application. For Linux, this function creates an eventfd and returns the eventfd file descriptor in `*event_handle`.




**Parameters:**


* `event_handle` Pointer to event handle variable.



**Returns:**

FPGA\_OK on success. FPGA\_INVALID\_PARAM if `event_handle` is NULL. FPGA\_NOT\_SUPPORTED if platform does not support events. 





        

### function fpgaDestroyEventHandle 

_Destroy an event\_handle._ 
```C++
fpga_result fpgaDestroyEventHandle (
    fpga_event_handle * event_handle
) 
```



Destroy handle and free resources. On Linux this corresponds to closing the file descriptor pointed to by handle




**Note:**

[**fpgaDestroyEventHandle()**](event_8h.md#function-fpgadestroyeventhandle) requires the address of an event\_handle as created by [**fpgaCreateEventHandle()**](event_8h.md#function-fpgacreateeventhandle). Passing any other value results in undefined behavior.




**Parameters:**


* `event_handle` Pointer to handle to be destroyed



**Returns:**

FPGA\_OK on success. FPGA\_INVALID\_PARAM if `event_handle` is NULL. 





        

### function fpgaGetOSObjectFromEventHandle 

_Get OS object from event handle._ 
```C++
fpga_result fpgaGetOSObjectFromEventHandle (
    const fpga_event_handle eh,
    int * fd
) 
```



Check validity of event handle, and get the OS object used to subscribe and unsubscribe to events. On Linux, the object corresponds to a file descriptor.




**Parameters:**


* `eh` Event handle to get the descriptor value from 
* `fd` integer to store the descriptor value



**Returns:**

FPGA\_OK on success. FPGA\_INVALID\_PARAM if `event_handle` is invalid. 





        

### function fpgaRegisterEvent 

_Register an FPGA event._ 
```C++
fpga_result fpgaRegisterEvent (
    fpga_handle handle,
    fpga_event_type event_type,
    fpga_event_handle event_handle,
    uint32_t flags
) 
```



This function tells the driver that the caller is interested in notification for the event specified by the type and flags pair.


The event\_handle points to an OS specific mechanism for event notification. An event\_handle is associated with only a single event.


In case of user interrupts, the flags parameter will be used to specify the vector ID. The value of the flags parameter indicates the vector ID, no bit encoding is used.




**Todo**

define if calling fpgaRegisterEvent multiple times with the same event\_handle is an error condition or if it is silently ignored.






**Parameters:**


* `handle` Handle to previously opened FPGA resource. 
* `event_type` Type of event 
* `event_handle` Handle to previously opened resource for event notification. 
* `flags` Optional argument for specifying additional information about event. For example irq number for interrupt events. 



**Returns:**

FPGA\_OK on success. FPGA\_INVALID\_PARAM if handle does not refer to a resource supporting the requested event, or if event\_handle is not valid. FPGA\_EXCEPTION if an internal exception occurred while accessing the handle or the event\_handle. On Linux: FPGA\_NO\_DAEMON if the driver does not support the requested event and there is no FPGA Daemon (fpgad) running to proxy it. 





        

### function fpgaUnregisterEvent 

_Unregister an FPGA event._ 
```C++
fpga_result fpgaUnregisterEvent (
    fpga_handle handle,
    fpga_event_type event_type,
    fpga_event_handle event_handle
) 
```



This function tells the driver that the caller is no longer interested in notification for the event associated with the event\_handle


The event\_handle points to an OS specific mechanism for event notification. An event\_handle is associated with only a single event.




**Todo**

define if calling fpgaUnregisterEvent multiple times with the same event\_handle is an error condition or if it is silently ignored.






**Parameters:**


* `handle` Handle to previously opened FPGA resource. 
* `event_type` Type of event to unregister. 
* `event_handle` Handle to previously registered resource for event notification. 



**Returns:**

FPGA\_OK on success. FPGA\_INVALID\_PARAM if handle does not refer to a resource supporting the requested event, or if event\_handle is not valid. FPGA\_EXCEPTION if an internal error occurred accessing the handle or the event\_handle. 





        

------------------------------
The documentation for this class was generated from the following file `docs/sw/include/opae/event.h`