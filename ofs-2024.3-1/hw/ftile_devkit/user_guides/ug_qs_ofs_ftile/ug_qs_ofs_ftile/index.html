
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../../../iseries_devkit/user_guides/ug_qs_ofs_iseries/ug_qs_ofs_iseries/">
      
      
        <link rel="next" href="../../../../n6001/user_guides/ug_qs_ofs_n6001/ug_qs_ofs_n6001/">
      
      <link rel="icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.9">
    
    
      
        <title>OFS for Agilex™ 7 FPGA F-Series Development Kit (2xF-Tile) - OFS</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.85bb2934.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../../../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#getting-started-guide-open-fpga-stack-for-agilextm-7-fpgas-targeting-the-agilextm-7-fpga-f-series-development-kit-2x-f-tile" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="OFS" class="md-header__button md-logo" aria-label="OFS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OFS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              OFS for Agilex™ 7 FPGA F-Series Development Kit (2xF-Tile)
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ofs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ofs
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../../.." class="md-tabs__link">
      Welcome
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../common/user_guides/ug_fpga_developer/ug_fpga_developer/" class="md-tabs__link">
        Start Here
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../doc_modules/contents_s10_pcie_attach/" class="md-tabs__link">
        Stratix® 10 PCIe Attach OFS
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../doc_modules/contents_agx7_pcie_attach/" class="md-tabs__link md-tabs__link--active">
        Agilex™ 7 PCIe Attach OFS
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../doc_modules/contents_agx7_soc_attach/" class="md-tabs__link">
        Agilex SoC Attach OFS
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../common/user_guides/oneapi_asp/ug_oneapi_asp/" class="md-tabs__link">
        oneAPI
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../common/sw_installation/pcie_attach/sw_install_pcie_attach/" class="md-tabs__link">
        OFS Software
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="OFS" class="md-nav__button md-logo" aria-label="OFS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    OFS
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ofs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ofs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Start Here
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Start Here
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_fpga_developer/ug_fpga_developer/" class="md-nav__link">
        FPGA Developer Journey Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_sw_developer/ug_sw_developer/" class="md-nav__link">
        Software Developer Journey Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../doc_modules/Glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Stratix® 10 PCIe Attach OFS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Stratix® 10 PCIe Attach OFS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../doc_modules/contents_s10_pcie_attach/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../d5005/adp_board_installation_guidelines/" class="md-nav__link">
        Board Installation Guide (Intel® FPGA PAC D5005)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/sw_installation/pcie_attach/sw_install_pcie_attach/" class="md-nav__link">
        Software Installation Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../d5005/user_guides/ug_qs_ofs_d5005/ug_qs_ofs_d5005/" class="md-nav__link">
        Getting Started Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../d5005/user_guides/ug_eval_ofs_d5005/ug_eval_script_ofs_d5005/" class="md-nav__link">
        Automated Evaluation Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../d5005/reference_manuals/ofs_fim/mnl_fim_ofs_d5005/" class="md-nav__link">
        Shell Technical Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../d5005/dev_guides/fim_dev/ug_dev_fim_ofs_d5005/" class="md-nav__link">
        Shell Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
          Workload Development
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_8">
          <span class="md-nav__icon md-icon"></span>
          Workload Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../d5005/dev_guides/afu_dev/ug_dev_afu_d5005/" class="md-nav__link">
        Workload Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../d5005/ug_dev_pim_based_afu/" class="md-nav__link">
        PIM Based AFU Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../d5005/ug_dev_afu_host_software/" class="md-nav__link">
        AFU Host Software Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../d5005/ug_dev_afu_sim_env/" class="md-nav__link">
        AFU Simulation Environment User Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../d5005/user_guides/ug_sim_ofs_d5005/ug_sim_ofs_d5005/" class="md-nav__link">
        Simulation User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_10" id="__nav_3_10_label" tabindex="0">
          Virtualization
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_10">
          <span class="md-nav__icon md-icon"></span>
          Virtualization
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../d5005/ug_docker/" class="md-nav__link">
        Docker User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../d5005/ug_kvm/" class="md-nav__link">
        KVM User Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Agilex™ 7 PCIe Attach OFS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Agilex™ 7 PCIe Attach OFS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../doc_modules/contents_agx7_pcie_attach/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
          Board Installation Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Board Installation Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../n6001/adp_board_installation_guidelines/" class="md-nav__link">
        Intel® FPGA SmartNIC N6000/1-PL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/board_installation/devkit_board_installation/devkit_board_installation_guidelines/" class="md-nav__link">
        Agilex™ 7 FPGA I-Series and F-Series Development Kits
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/sw_installation/pcie_attach/sw_install_pcie_attach/" class="md-nav__link">
        Software Installation Guide
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" checked>
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
          Getting Started Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Getting Started Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../iseries_devkit/user_guides/ug_qs_ofs_iseries/ug_qs_ofs_iseries/" class="md-nav__link">
        OFS for Agilex™ 7 FPGA I-Series Development Kit (2xR-Tile,1xF-Tile)
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          OFS for Agilex™ 7 FPGA F-Series Development Kit (2xF-Tile)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        OFS for Agilex™ 7 FPGA F-Series Development Kit (2xF-Tile)
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#10-about-this-document" class="md-nav__link">
    1.0 About This Document
  </a>
  
    <nav class="md-nav" aria-label="1.0 About This Document">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-audience" class="md-nav__link">
    1.1 Audience
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-terminology" class="md-nav__link">
    1.2 Terminology
  </a>
  
    <nav class="md-nav" aria-label="1.2 Terminology">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-1-terminology" class="md-nav__link">
    Table 1: Terminology
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-references-and-versions" class="md-nav__link">
    1.3 References and Versions
  </a>
  
    <nav class="md-nav" aria-label="1.3 References and Versions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-2-software-and-component-version-summary-for-ofs-pcie-attach-targeting-the-f-series-development-kit" class="md-nav__link">
    Table 2: Software and Component Version Summary for OFS PCIe Attach targeting the F-Series Development Kit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-3-hardware-bkc-for-ofs-pcie-attach-targeting-the-f-series-development-kit" class="md-nav__link">
    Table 3: Hardware BKC for OFS PCIe Attach targeting the F-Series Development Kit
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-reference-documents" class="md-nav__link">
    1.4 Reference Documents
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#20-ofs-stack-architecture-overview-for-reference-platform" class="md-nav__link">
    2.0 OFS Stack Architecture Overview for Reference Platform
  </a>
  
    <nav class="md-nav" aria-label="2.0 OFS Stack Architecture Overview for Reference Platform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-hardware-components" class="md-nav__link">
    2.1 Hardware Components
  </a>
  
    <nav class="md-nav" aria-label="2.1 Hardware Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#211-fpga-interface-manager" class="md-nav__link">
    2.1.1 FPGA Interface Manager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#212-afu" class="md-nav__link">
    2.1.2 AFU
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#30-board-installation-and-server-requirements" class="md-nav__link">
    3.0 Board Installation and Server Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#40-f-series-development-kit-jtag-driver-setup" class="md-nav__link">
    4.0 F-Series Development Kit JTAG Driver Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#41-upgrading-the-f-series-development-kit-fim-via-jtag" class="md-nav__link">
    4.1 Upgrading the F-Series Development Kit FIM via JTAG
  </a>
  
    <nav class="md-nav" aria-label="4.1 Upgrading the F-Series Development Kit FIM via JTAG">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-4-fim-version" class="md-nav__link">
    Table 4: FIM Version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#50-ofs-software-installation-from-script" class="md-nav__link">
    5.0 OFS Software Installation from Script
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#51-memlock-limit" class="md-nav__link">
    5.1 Memlock limit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#60-opae-tools-overview" class="md-nav__link">
    6.0 OPAE Tools Overview
  </a>
  
    <nav class="md-nav" aria-label="6.0 OPAE Tools Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#601-board-management-with-fpgainfo" class="md-nav__link">
    6.0.1 Board Management with fpgainfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#602-updating-with-fpgasupdate" class="md-nav__link">
    6.0.2 Updating with fpgasupdate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#603-verify-fme-interrupts-with-hello_events" class="md-nav__link">
    6.0.3 Verify FME Interrupts with hello_events
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#61-host-exerciser-modules" class="md-nav__link">
    6.1 Host Exerciser Modules
  </a>
  
    <nav class="md-nav" aria-label="6.1 Host Exerciser Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-5-module-pfvf-mappings" class="md-nav__link">
    Table 5: Module PF/VF Mappings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#611-he-mem-he-lb" class="md-nav__link">
    6.1.1 HE-MEM / HE-LB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#612-traffic-generator-afu-test-application" class="md-nav__link">
    6.1.2 Traffic Generator AFU Test Application
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#613-he-hssi" class="md-nav__link">
    6.1.3 HE-HSSI
  </a>
  
    <nav class="md-nav" aria-label="6.1.3 HE-HSSI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-6-accelerator-pfvf-and-guid-mappings" class="md-nav__link">
    Table 6: Accelerator PF/VF and GUID Mappings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/user_guides/ug_qs_ofs_n6001/ug_qs_ofs_n6001/" class="md-nav__link">
        OFS for Intel® FPGA SmartNIC N6001-PL
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_eval_script_ofs_agx7_pcie_attach/ug_eval_script_ofs_agx7_pcie_attach/" class="md-nav__link">
        Automated Evaluation Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/reference_manuals/ofs_fim/mnl_fim_ofs_n6001/" class="md-nav__link">
        Shell Technical Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_7" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
          Shell Developer Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_7">
          <span class="md-nav__icon md-icon"></span>
          Shell Developer Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../iseries_devkit/dev_guides/fim_dev/ug_ofs_iseries_dk_fim_dev/" class="md-nav__link">
        PCIe Attach I-Series (2xR-Tile, F-Tile)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev_guides/fim_dev/ug_ofs_ftile_dk_fim_dev/" class="md-nav__link">
        PCIe Attach F-Series (2xF-Tile)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/dev_guides/fim_dev/ug_dev_fim_ofs_n6001/" class="md-nav__link">
        PCIe Attach F-Series (P-Tile/E-Tile)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../n6001/dev_guides/hps_dev/hps_developer_ug/" class="md-nav__link">
        HPS Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_sim_ofs_agx7_pcie_attach/ug_sim_ofs_agx7_pcie_attach/" class="md-nav__link">
        Simulation User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_10" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_10" id="__nav_4_10_label" tabindex="0">
          Workload Development
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_10">
          <span class="md-nav__icon md-icon"></span>
          Workload Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/afu_dev/ug_dev_afu_ofs_agx7_pcie_attach/ug_dev_afu_ofs_agx7_pcie_attach/" class="md-nav__link">
        Workload Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../n6001/ug_dev_pim_based_afu/" class="md-nav__link">
        PIM Based AFU Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../n6001/ug_dev_afu_host_software/" class="md-nav__link">
        AFU Host Software Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../n6001/ug_dev_afu_sim_env/" class="md-nav__link">
        AFU Simulation Environment User Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_11" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_11" id="__nav_4_11_label" tabindex="0">
          Virtualization
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_11_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_11">
          <span class="md-nav__icon md-icon"></span>
          Virtualization
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../n6001/ug_docker/" class="md-nav__link">
        Docker User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../n6001/ug_kvm/" class="md-nav__link">
        KVM User Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/ug_troubleshoot/ug_agx7_troubleshoot/" class="md-nav__link">
        Troubleshooting Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Agilex SoC Attach OFS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Agilex SoC Attach OFS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../doc_modules/contents_agx7_soc_attach/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/board_installation/f2000x_board_installation/f2000x_board_installation/" class="md-nav__link">
        Board Installation Guide (Intel® IPU Platform F2000X-PL)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/sw_installation/soc_attach/sw_install_soc_attach/" class="md-nav__link">
        Software Installation Guide for SoC Attach
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../f2000x/user_guides/ug_qs_ofs_f2000x/ug_qs_ofs_f2000x/" class="md-nav__link">
        Getting Started Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../f2000x/user_guides/ug_eval_ofs/ug_eval_script_ofs_f2000x/" class="md-nav__link">
        Automated Evaluation Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../f2000x/reference_manuals/ofs_fim/mnl_fim_ofs/" class="md-nav__link">
        Shell Technical Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../f2000x/dev_guides/fim_dev/ug_dev_fim_ofs/" class="md-nav__link">
        Shell Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="0">
          Workload Development
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_8">
          <span class="md-nav__icon md-icon"></span>
          Workload Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../f2000x/dev_guides/afu_dev/ug_dev_afu_ofs_f2000x/" class="md-nav__link">
        Workload Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../f2000x/ug_dev_pim_based_afu/" class="md-nav__link">
        PIM Based AFU Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../f2000x/ug_dev_afu_host_software/" class="md-nav__link">
        AFU Host Software Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../f2000x/ug_dev_afu_sim_env/" class="md-nav__link">
        AFU Simulation Environment User Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../f2000x/user_guides/ug_sim_ofs/ug_sim_ofs/" class="md-nav__link">
        Simulation User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_10" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_10" id="__nav_5_10_label" tabindex="0">
          Virtualization
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_10">
          <span class="md-nav__icon md-icon"></span>
          Virtualization
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../f2000x/ug_docker/" class="md-nav__link">
        Docker User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../f2000x/ug_kvm/" class="md-nav__link">
        KVM User Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          oneAPI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          oneAPI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/user_guides/oneapi_asp/ug_oneapi_asp/" class="md-nav__link">
        oneAPI ASP Getting Started User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/reference_manual/oneapi_asp/oneapi_asp_ref_mnl/" class="md-nav__link">
        oneAPI Accelerator Support Package(ASP) Reference Manual
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          OFS Software
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          OFS Software
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/sw_installation/pcie_attach/sw_install_pcie_attach/" class="md-nav__link">
        Software Installation Guide OFS for PCIe Attach
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/sw_installation/soc_attach/sw_install_soc_attach/" class="md-nav__link">
        Software Installation Guide OFS for SoC Attach
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/reference_manual/ofs_sw/mnl_sw_ofs/" class="md-nav__link">
        Software Reference Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/reference_manual/driver_dev_qs/driver_dev_qs/" class="md-nav__link">
        Driver Development Quick Start Guidelines for Linux DFL
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_5" id="__nav_7_5_label" tabindex="0">
          OPAE FPGA Tools
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_5">
          <span class="md-nav__icon md-icon"></span>
          OPAE FPGA Tools
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/fpgainfo/fpgainfo/" class="md-nav__link">
        fpgainfo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/fpgasupdate/fpgasupdate/" class="md-nav__link">
        fpgasupdate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/mmlink/mmlink/" class="md-nav__link">
        mmlink
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/packager/packager/" class="md-nav__link">
        packager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/userclk/userclk/" class="md-nav__link">
        userclk
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/hssi/hssi/" class="md-nav__link">
        hssi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/pci_device/pci_device/" class="md-nav__link">
        pci_device
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/opae.io/opae.io/" class="md-nav__link">
        opae.io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/rsu/rsu/" class="md-nav__link">
        rsu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/host_exerciser/host_exerciser/" class="md-nav__link">
        host_exerciser
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/hssi_ethernet/hssistats/" class="md-nav__link">
        HSSI ethernet statistics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/hssi_ethernet/hssimac/" class="md-nav__link">
        HSSI ethernet mac
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/mem_tg/mem_tg/" class="md-nav__link">
        mem_tg
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/vabtool/vabtool/" class="md-nav__link">
        vabtool
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/opaevfio/opaevfio/" class="md-nav__link">
        opaevfio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/ofs.uio/ofs.uio/" class="md-nav__link">
        ofs.uio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/opaeuio/opaeuio/" class="md-nav__link">
        opaeuio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sw/fpga_tools/fpgad/fpgad/" class="md-nav__link">
        fpgad
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#10-about-this-document" class="md-nav__link">
    1.0 About This Document
  </a>
  
    <nav class="md-nav" aria-label="1.0 About This Document">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-audience" class="md-nav__link">
    1.1 Audience
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-terminology" class="md-nav__link">
    1.2 Terminology
  </a>
  
    <nav class="md-nav" aria-label="1.2 Terminology">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-1-terminology" class="md-nav__link">
    Table 1: Terminology
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-references-and-versions" class="md-nav__link">
    1.3 References and Versions
  </a>
  
    <nav class="md-nav" aria-label="1.3 References and Versions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-2-software-and-component-version-summary-for-ofs-pcie-attach-targeting-the-f-series-development-kit" class="md-nav__link">
    Table 2: Software and Component Version Summary for OFS PCIe Attach targeting the F-Series Development Kit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-3-hardware-bkc-for-ofs-pcie-attach-targeting-the-f-series-development-kit" class="md-nav__link">
    Table 3: Hardware BKC for OFS PCIe Attach targeting the F-Series Development Kit
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-reference-documents" class="md-nav__link">
    1.4 Reference Documents
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#20-ofs-stack-architecture-overview-for-reference-platform" class="md-nav__link">
    2.0 OFS Stack Architecture Overview for Reference Platform
  </a>
  
    <nav class="md-nav" aria-label="2.0 OFS Stack Architecture Overview for Reference Platform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-hardware-components" class="md-nav__link">
    2.1 Hardware Components
  </a>
  
    <nav class="md-nav" aria-label="2.1 Hardware Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#211-fpga-interface-manager" class="md-nav__link">
    2.1.1 FPGA Interface Manager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#212-afu" class="md-nav__link">
    2.1.2 AFU
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#30-board-installation-and-server-requirements" class="md-nav__link">
    3.0 Board Installation and Server Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#40-f-series-development-kit-jtag-driver-setup" class="md-nav__link">
    4.0 F-Series Development Kit JTAG Driver Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#41-upgrading-the-f-series-development-kit-fim-via-jtag" class="md-nav__link">
    4.1 Upgrading the F-Series Development Kit FIM via JTAG
  </a>
  
    <nav class="md-nav" aria-label="4.1 Upgrading the F-Series Development Kit FIM via JTAG">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-4-fim-version" class="md-nav__link">
    Table 4: FIM Version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#50-ofs-software-installation-from-script" class="md-nav__link">
    5.0 OFS Software Installation from Script
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#51-memlock-limit" class="md-nav__link">
    5.1 Memlock limit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#60-opae-tools-overview" class="md-nav__link">
    6.0 OPAE Tools Overview
  </a>
  
    <nav class="md-nav" aria-label="6.0 OPAE Tools Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#601-board-management-with-fpgainfo" class="md-nav__link">
    6.0.1 Board Management with fpgainfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#602-updating-with-fpgasupdate" class="md-nav__link">
    6.0.2 Updating with fpgasupdate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#603-verify-fme-interrupts-with-hello_events" class="md-nav__link">
    6.0.3 Verify FME Interrupts with hello_events
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#61-host-exerciser-modules" class="md-nav__link">
    6.1 Host Exerciser Modules
  </a>
  
    <nav class="md-nav" aria-label="6.1 Host Exerciser Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-5-module-pfvf-mappings" class="md-nav__link">
    Table 5: Module PF/VF Mappings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#611-he-mem-he-lb" class="md-nav__link">
    6.1.1 HE-MEM / HE-LB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#612-traffic-generator-afu-test-application" class="md-nav__link">
    6.1.2 Traffic Generator AFU Test Application
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#613-he-hssi" class="md-nav__link">
    6.1.3 HE-HSSI
  </a>
  
    <nav class="md-nav" aria-label="6.1.3 HE-HSSI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-6-accelerator-pfvf-and-guid-mappings" class="md-nav__link">
    Table 6: Accelerator PF/VF and GUID Mappings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="getting-started-guide-open-fpga-stack-for-agilextm-7-fpgas-targeting-the-agilextm-7-fpga-f-series-development-kit-2x-f-tile">Getting Started Guide: Open FPGA Stack for Agilex™ 7 FPGAs Targeting the Agilex™ 7 FPGA F-Series Development Kit (2x F-Tile)<a class="headerlink" href="#getting-started-guide-open-fpga-stack-for-agilextm-7-fpgas-targeting-the-agilextm-7-fpga-f-series-development-kit-2x-f-tile" title="Permanent link">&para;</a></h1>
<p>Last updated: <strong>February 26, 2025</strong> </p>
<h2 id="10-about-this-document">1.0 About This Document<a class="headerlink" href="#10-about-this-document" title="Permanent link">&para;</a></h2>
<p>The purpose of this document is to help users get started in evaluating the 2024.3-1 version of the PCIe Attach release targeting the F-Series Development Kit. This document will <strong>not</strong> cover <a href="https://ofs.github.io/ofs-2024.3-1/hw/common/board_installation/devkit_board_installation/devkit_board_installation_guidelines/">Board Installation Guidelines</a> or <a href="/ofs-2024.3-1/hw/common/sw_installation/pcie_attach/sw_install_pcie_attach"><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Software Installation</a>. Instead it will recommend you use a software installer to allow for fast evaluation. After reviewing this document, a user shall be able to:</p>
<ul>
<li>Set up a server environment according to the Best Known Configuration (<abbr title="Best Known Configuration, The exact hardware configuration Intel has optimized and validated the solution against.">BKC</abbr>)</li>
<li>Load and verify firmware targeting the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> and <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> regions of the AGFB027R24C2E2VR2 FPGA</li>
<li>Verify full stack functionality offered by the PCIe Attach <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> solution</li>
<li>Learn where to find additional information on other PCIe Attach ingredients</li>
</ul>
<p>The minimal viable flow for dev kit installation through environment validation is as follows for F Tile:</p>
<pre class="mermaid"><code>flowchart TB
    classDef gr fill:green,color:white;
    classDef bl fill:blue,color:white;
    classDef cy fill:cyan,color:white;

    board("Board Installation Guidelines: Agilex™ 7 FPGA F-Series Development Kit (2x F-Tile) and Agilex™ 7 FPGA I-Series Development Kit (2x R-Tile and 1xF-Tile)"):::bl --&gt; sw
    sw("Software Installation Guide: Open FPGA Stack for PCIe Attach"):::bl --&gt; qs
    qs("Review starting in section 4.0 F-Series Development Kit JTAG Driver Setup"):::bl</code></pre>
<h3 id="11-audience">1.1 Audience<a class="headerlink" href="#11-audience" title="Permanent link">&para;</a></h3>
<p>The information in this document is intended for customers evaluating the PCIe Attach shell targeting the Agilex™ 7 FPGA F-Series Development Kit (2x F-Tile). This platform is a Development Kit  intended to be used as a starting point for evaluation and development of the Agilex™ 7 FPGA F-Series with two F-Tiles.</p>
<p><em>Note: Code command blocks are used throughout the document. Commands that are intended for you to run are preceded with the symbol '$', and comments with '#'. Full command output may not be shown.</em></p>
<h3 id="12-terminology">1.2 Terminology<a class="headerlink" href="#12-terminology" title="Permanent link">&para;</a></h3>
<h4 id="table-1-terminology">Table 1: Terminology<a class="headerlink" href="#table-1-terminology" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th align="center">Term</th>
<th align="center">Abbreviation</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">Advanced Error Reporting</td>
<td align="center"><abbr title="Advanced Error Reporting, The PCIe AER driver is the extended PCI Express error reporting capability providing more robust error reporting.">AER</abbr></td>
<td>The PCIe <abbr title="Advanced Error Reporting, The PCIe AER driver is the extended PCI Express error reporting capability providing more robust error reporting.">AER</abbr> driver is the extended PCI Express error reporting capability providing more robust error reporting. <a href="https://docs.kernel.org/PCI/pcieaer-howto.html?highlight=aer">(link)</a></td>
</tr>
<tr>
<td align="center">Accelerator Functional Unit</td>
<td align="center"><abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr></td>
<td>Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> region is the part of the design where an <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> may reside. This <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> may or may not be a partial reconfiguration region.</td>
</tr>
<tr>
<td align="center">Basic Building Block</td>
<td align="center"><abbr title="Basic Building Block, Features within an AFU or part of an FPGA interface that can be reused across designs. These building blocks do not have stringent interface requirements like the FIM's AFU and host interface requires. All BBBs must have a (globally unique identifier) GUID.">BBB</abbr></td>
<td>Features within an <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> or part of an FPGA interface that can be reused across designs. These building blocks do not have stringent interface requirements like the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr>'s <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> and host interface requires. All BBBs must have a (globally unique identifier) GUID.</td>
</tr>
<tr>
<td align="center">Best Known Configuration</td>
<td align="center"><abbr title="Best Known Configuration, The exact hardware configuration Intel has optimized and validated the solution against.">BKC</abbr></td>
<td>The software and hardware configuration Intel uses to verify the solution.</td>
</tr>
<tr>
<td align="center">Board Management Controller</td>
<td align="center"><abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr></td>
<td>Supports features such as board power managment, flash management, configuration management, and board telemetry monitoring and protection. The majority of the <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> logic is in a separate component, such as an Intel® Max® 10 or Intel Cyclone® 10 device; a small portion of the <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> known as the PMCI resides in the main Agilex FPGA.</td>
</tr>
<tr>
<td align="center">Configuration and Status Register</td>
<td align="center">CSR</td>
<td>The generic name for a register space which is accessed in order to interface with the module it resides in (e.g. <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr>, <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr>, various sub-systems and modules).</td>
</tr>
<tr>
<td align="center">Data Parallel C++</td>
<td align="center">DPC++</td>
<td>DPC++ is Intel’s implementation of the SYCL standard. It supports additional attributes and language extensions which ensure DCP++ (SYCL) is efficiently implanted on Intel hardware.</td>
</tr>
<tr>
<td align="center">Device Feature List</td>
<td align="center"><abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr></td>
<td>The <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr>, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> driver to automatically load the drivers required for a given FPGA configuration. This concept is the foundation for the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> software framework. <a href="https://docs.kernel.org/fpga/dfl.html">(link)</a></td>
</tr>
<tr>
<td align="center">FPGA Interface Manager</td>
<td align="center"><abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr></td>
<td>Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> resides in the static region of the FPGA and contains the FPGA Management Engine (<abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr>) and I/O ring.</td>
</tr>
<tr>
<td align="center">FPGA Management Engine</td>
<td align="center"><abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr></td>
<td>Performs reconfiguration and other FPGA management functions. Each FPGA device only has one <abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr> which is accessed through PF0.</td>
</tr>
<tr>
<td align="center">Host Exerciser Module</td>
<td align="center"><abbr title="Host Exerciser Module, Host exercisers are used to exercise and characterize the various host-FPGA interactions, including Memory Mapped Input/Output (MMIO), data transfer from host to FPGA, PR, host to FPGA memory, etc.">HEM</abbr></td>
<td>Host exercisers are used to exercise and characterize the various host-FPGA interactions, including Memory Mapped Input/Output (<abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr>), data transfer from host to FPGA, <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr>, host to FPGA memory, etc.</td>
</tr>
<tr>
<td align="center">Input/Output Control</td>
<td align="center"><abbr title="Input/Output Control, System calls used to manipulate underlying device parameters of special files.">IOCTL</abbr></td>
<td>System calls used to manipulate underlying device parameters of special files.</td>
</tr>
<tr>
<td align="center">Intel Virtualization Technology for Directed I/O</td>
<td align="center"><abbr title="Intel Virtualization Technology for Directed I/O, Extension of the VT-x and VT-I processor virtualization technologies which adds new support for I/O device virtualization.">Intel VT-d</abbr></td>
<td>Extension of the VT-x and VT-I processor virtualization technologies which adds new support for I/O device virtualization.</td>
</tr>
<tr>
<td align="center">Joint Test Action Group</td>
<td align="center"><abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr></td>
<td>Refers to the IEEE 1149.1 <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr> standard; Another FPGA configuration methodology.</td>
</tr>
<tr>
<td align="center">Memory Mapped Input/Output</td>
<td align="center"><abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr></td>
<td>The memory space users may map and access both control registers and system memory buffers with accelerators.</td>
</tr>
<tr>
<td align="center">oneAPI Accelerator Support Package</td>
<td align="center">oneAPI-asp</td>
<td>A collection of hardware and software components that enable oneAPI kernel to communicate with oneAPI runtime and <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> shell components. oneAPI ASP hardware components and oneAPI kernel form the <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> region of a oneAPI system in <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>.</td>
</tr>
<tr>
<td align="center">Open FPGA Stack</td>
<td align="center"><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr></td>
<td><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> is a software and hardware infrastructure providing an efficient approach to develop a custom FPGA-based platform or workload using an Intel, 3<sup>rd</sup> party, or custom board.</td>
</tr>
<tr>
<td align="center">Open Programmable Acceleration Engine Software Development Kit</td>
<td align="center"><abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr></td>
<td>The <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> is a software framework for managing and accessing programmable accelerators (FPGAs). It consists of a collection of libraries and tools to facilitate the development of software applications and accelerators. The <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> resides exclusively in user-space.</td>
</tr>
<tr>
<td align="center">Platform Interface Manager</td>
<td align="center"><abbr title="Platform Interface Manager, An interface manager that comprises two components: a configurable platform specific interface for board developers and a collection of shims that AFU developers can use to handle clock crossing, response sorting, buffering and different protocols.">PIM</abbr></td>
<td>An interface manager that comprises two components: a configurable platform specific interface for board developers and a collection of shims that <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> developers can use to handle clock crossing, response sorting, buffering and different protocols.</td>
</tr>
<tr>
<td align="center">Platform Management Controller Interface</td>
<td align="center">PMCI</td>
<td>The portion of the <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> that resides in the Agilex FPGA and allows the FPGA to communicate with the primary <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> component on the board.</td>
</tr>
<tr>
<td align="center">Partial Reconfiguration</td>
<td align="center"><abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr></td>
<td>The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. For <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> designs, the <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> region is referred to as the pr_slot.</td>
</tr>
<tr>
<td align="center">Port</td>
<td align="center">N/A</td>
<td>When used in the context of the fpgainfo port command it represents the interfaces between the static FPGA fabric and the <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> region containing the <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr>.</td>
</tr>
<tr>
<td align="center">Remote System Update</td>
<td align="center"><abbr title="Remote System Update, A Remote System Update operation sends an instruction to the Intel FPGA PAC D5005 device that triggers a power cycle of the card only, forcing reconfiguration.">RSU</abbr></td>
<td>The process by which the host can remotely update images stored in flash through PCIe. This is done with the OPAE software command "fpgasupdate".</td>
</tr>
<tr>
<td align="center">Secure Device Manager</td>
<td align="center">SDM</td>
<td>The SDM is the point of entry to the FPGA for <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr> commands and interfaces, as well as for device configuration data (from flash, SD card, or through PCI Express* hard IP).</td>
</tr>
<tr>
<td align="center">Static Region</td>
<td align="center">SR</td>
<td>The portion of the FPGA design that cannot be dynamically reconfigured during run-time.</td>
</tr>
<tr>
<td align="center">Single-Root Input-Output Virtualization</td>
<td align="center"><abbr title="Single-Root Input-Output Virtualization, Allows the isolation of PCI Express resources for manageability and performance.">SR-IOV</abbr></td>
<td>Allows the isolation of PCI Express resources for manageability and performance.</td>
</tr>
<tr>
<td align="center">SYCL</td>
<td align="center">SYCL</td>
<td>SYCL (pronounced "sickle") is a royalty-free, cross-platform abstraction layer that enables code for heterogeneous and offload processors to be written using modern ISO C++ (at least C++ 17). It provides several features that make it well-suited for programming heterogeneous systems, allowing the same code to be used for CPUs, GPUs, FPGAs or any other hardware accelerator. SYCL was developed by the Khronos Group, a non-profit organization that develops open standards (including OpenCL) for graphics, compute, vision, and multimedia. SYCL is being used by a growing number of developers in a variety of industries, including automotive, aerospace, and consumer electronics.</td>
</tr>
<tr>
<td align="center">Test Bench</td>
<td align="center"><abbr title="Testbench, Testbench or Verification Environment is used to check the functional correctness of the Design Under Test (DUT) by generating and driving a predefined input sequence to a design, capturing the design output and comparing with-respect-to expected output.">TB</abbr></td>
<td>Testbench or Verification Environment is used to check the functional correctness of the Design Under Test (DUT) by generating and driving a predefined input sequence to a design, capturing the design output and comparing with-respect-to expected output.</td>
</tr>
<tr>
<td align="center">Universal Verification Methodology</td>
<td align="center"><abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr></td>
<td>A modular, reusable, and scalable testbench structure via an API framework.  In the context of <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>, the <abbr title="Universal Verification Methodology, A modular, reusable, and scalable testbench structure via an API framework.">UVM</abbr> enviroment provides a system level simulation environment for your design.</td>
</tr>
<tr>
<td align="center">Virtual Function Input/Output</td>
<td align="center"><abbr title="Virtual Function Input/Output, An IOMMU/device agnostic framework for exposing direct device access to userspace.">VFIO</abbr></td>
<td>An Input-Output Memory Management Unit (IOMMU)/device agnostic framework for exposing direct device access to userspace. (link)</td>
</tr>
</tbody>
</table>
<h3 id="13-references-and-versions">1.3 References and Versions<a class="headerlink" href="#13-references-and-versions" title="Permanent link">&para;</a></h3>
<h4 id="table-2-software-and-component-version-summary-for-ofs-pcie-attach-targeting-the-f-series-development-kit">Table 2: Software and Component Version Summary for <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> PCIe Attach targeting the F-Series Development Kit<a class="headerlink" href="#table-2-software-and-component-version-summary-for-ofs-pcie-attach-targeting-the-f-series-development-kit" title="Permanent link">&para;</a></h4>
<p>The <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> 2024.3-1 PCIe Attach release targeting the F-Series Development Kit is built upon tightly coupled software and Operating System version(s). The repositories listed below are used to manually build the Shell and the <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> portion of any potential workloads. Use this section as a general reference for the versions which compose this release. Specific instructions on building the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> or <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> are discussed in their respective documents, but are shown here for the sake of completion.</p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Version</th>
<th>Download Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Quartus</td>
<td>Quartus Prime Pro Version 24.3</td>
<td>https://www.intel.com/content/www/us/en/software-kit/839515/intel-quartus-prime-pro-edition-design-software-version-24-3-for-linux.html, patches: No patches for this release</td>
</tr>
<tr>
<td>Host Operating System</td>
<td>RedHat® Enterprise Linux® (RHEL) 9.4</td>
<td>https://access.redhat.com/downloads/content/479/ver=/rhel---9/9.4/x86_64/product-software</td>
</tr>
<tr>
<td>OneAPI-ASP</td>
<td>ofs-2024.2-2</td>
<td>https://github.com/<abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>/oneapi-asp/releases/tag/ofs-2024.2-1, patches: 0.02</td>
</tr>
<tr>
<td><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Platform <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> <abbr title="Basic Building Block, Features within an AFU or part of an FPGA interface that can be reused across designs. These building blocks do not have stringent interface requirements like the FIM's AFU and host interface requires. All BBBs must have a (globally unique identifier) GUID.">BBB</abbr></td>
<td>ofs-2024.3-1</td>
<td>https://github.com/<abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>/ofs-platform-afu-bbb/releases/tag/ofs-2024.3-1</td>
</tr>
<tr>
<td><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> Common Resources</td>
<td>2024.3-1</td>
<td>https://github.com/<abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>/ofs-fim-common/releases/tag/ofs-2024.3-1</td>
</tr>
<tr>
<td><abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> Examples</td>
<td>tag: ofs-2024.3-1</td>
<td>https://github.com/<abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr>/examples-afu/releases/tag/ofs-2024.3-1</td>
</tr>
<tr>
<td>OPAE-SIM</td>
<td>tag: 2.14.0-1</td>
<td>https://github.com/OPAE/opae-sim</td>
</tr>
<tr>
<td><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> SW Installer</td>
<td><a href="https://github.com/OFS/ofs-agx7-pcie-attach/releases/tag/ofs-2024.3-1"><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> 2024.3-1 Release Page</a></td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="table-3-hardware-bkc-for-ofs-pcie-attach-targeting-the-f-series-development-kit">Table 3: Hardware <abbr title="Best Known Configuration, The exact hardware configuration Intel has optimized and validated the solution against.">BKC</abbr> for <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> PCIe Attach targeting the F-Series Development Kit<a class="headerlink" href="#table-3-hardware-bkc-for-ofs-pcie-attach-targeting-the-f-series-development-kit" title="Permanent link">&para;</a></h4>
<p>The following table highlights the hardware which composes the Best Known Configuration (<abbr title="Best Known Configuration, The exact hardware configuration Intel has optimized and validated the solution against.">BKC</abbr>) for the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> 2024.3-1 PCIe Attach release targeting F-Series Development Kit.</p>
<p><em>Note: The Dell R750 server product line is known not to work with this release.</em></p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Agilex™ 7 FPGA F-Series Development Kit (2x F-Tile)</td>
<td>https://www.intel.com/content/www/us/en/products/details/fpga/development-kits/agilex/agf027-and-agf023.html</td>
</tr>
<tr>
<td>Intel FPGA Download Cable II</td>
<td>https://www.intel.com/content/www/us/en/products/sku/215664/intel-fpga-download-cable-ii/specifications.html</td>
</tr>
<tr>
<td>SuperMicro SYS-220HE-FTNR</td>
<td>https://www.supermicro.com/en/products/system/hyper/2u/sys-220he-ftnr</td>
</tr>
</tbody>
</table>
<h3 id="14-reference-documents">1.4 Reference Documents<a class="headerlink" href="#14-reference-documents" title="Permanent link">&para;</a></h3>
<p>Documentation is collected on <a href="https://ofs.github.io/ofs-2024.1-1/">https://ofs.github.io/ofs-2024.1-1/</a>.</p>
<h2 id="20-ofs-stack-architecture-overview-for-reference-platform">2.0 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Stack Architecture Overview for Reference Platform<a class="headerlink" href="#20-ofs-stack-architecture-overview-for-reference-platform" title="Permanent link">&para;</a></h2>
<h3 id="21-hardware-components">2.1 Hardware Components<a class="headerlink" href="#21-hardware-components" title="Permanent link">&para;</a></h3>
<p>The <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> hardware architecture decomposes all designs into a standard set of modules, interfaces, and capabilities. Although the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> infrastructure provides a standard set of functionality and capability, the user is responsible for making the customizations to their specific design in compliance with the specifications outlined in the <a href="https://ofs.github.io/ofs-2024.3-1/hw/n6001/reference_manuals/ofs_fim/mnl_fim_ofs_n6001/">Shell Technical Reference Manual: <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> for Agilex™ 7 PCIe Attach FPGAs</a>.</p>
<p><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> is a hardware and software infrastructure that provides an efficient approach to developing a customer FPGA-based platform or workload using an Intel, 3<sup>rd</sup> party, or custom board.</p>
<h4 id="211-fpga-interface-manager">2.1.1 FPGA Interface Manager<a class="headerlink" href="#211-fpga-interface-manager" title="Permanent link">&para;</a></h4>
<p><a class="glightbox" href="/ofs-2024.3-1/hw/ftile_devkit/user_guides/ug_qs_ofs_ftile/images/F-tile-PCIe-Attach.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="F-tile-PCIe-Attach" src="/ofs-2024.3-1/hw/ftile_devkit/user_guides/ug_qs_ofs_ftile/images/F-tile-PCIe-Attach.png" /></a></p>
<p>The FPGA Interface Manager (<abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr>), or shell of the FPGA provides platform management functionality, clocks, resets, and interface access to the host and peripheral features on the acceleration platform. The <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> architecture for Agilex™ 7 FPGA provides modularity, configurability, and scalability. The primary components of the FPGA Interface Manager or shell of the reference design are:</p>
<ul>
<li>PCIe Subsystem - a hierarchical design that targets the P-tile PCIe hard IP and is configured to support Gen4 speeds and Arm AXI4-Stream Data Mover functional mode.</li>
<li>Ethernet Subsystem - provides portability to different Ethernet configurations across platforms and generations and reusability of the hardware framework and software stack.</li>
<li>Memory Subsystem - composed of 5 DDR4 channels; two HPS DDR4 banks, x40 (x32 Data and x8 ECC), 1200 MHz, 1GB each, and four Fabric DDR4 banks, x32 (no ECC), 1200 MHz, 4GB</li>
<li>Hard Processor System - 64-bit quad core ARM® Cortex*-A53 MPCore with integrated peripherals.</li>
<li>Reset Controller</li>
<li>FPGA Management Engine - Provides a way to manage the platform and enable acceleration functions on the platform.</li>
<li><abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> Peripheral Fabric for <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> accesses to other interface peripherals</li>
<li>Board Peripheral Fabric for master to slave CSR accesses from Host or <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr></li>
<li>Platform Management Controller Interface (PMCI) to the board management controller</li>
</ul>
<p>The FPGA Management Engine (<abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr>) provides management features for the platform and the loading/unloading of accelerators through partial reconfiguration. Each feature of the <abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr> exposes itself to the kernel-level <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> drivers on the host through a Device Feature Header (DFH) register that is placed at the beginning of Control Status Register (CSR) space. Only one PCIe link can access the <abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr> register space in a multi-host channel design architecture at a time.</p>
<blockquote>
<p>Note: For more information on the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> and its external connections, refer to the <a href="https://ofs.github.io/ofs-2024.3-1/hw/n6001/reference_manuals/ofs_fim/mnl_fim_ofs_n6001/">Shell Technical Reference Manual: <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> for Agilex™ 7 PCIe Attach FPGAs</a>.</p>
</blockquote>
<h4 id="212-afu">2.1.2 <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr><a class="headerlink" href="#212-afu" title="Permanent link">&para;</a></h4>
<p>An <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> is an acceleration workload that interfaces to the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr>. The <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> boundary in this reference design comprises both static and partial reconfiguration (<abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr>) regions. You can decide how you want to partition these two areas or if you want your <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> region to only be a partial reconfiguration region. A port gasket within the design provides all the <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> specific modules and logic required to support partial reconfiguration. Only one partial reconfiguration region is supported in this design.</p>
<p>Like the <abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr>, the port gasket exposes its capability to the host software driver through a DFH register placed at the beginning of the port gasket CSR space. In addition, only one PCIe link can access the port register space.</p>
<p>You can compile your design in one of the following ways:</p>
<ul>
<li>Your entire <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> resides in a partial reconfiguration region of the FPGA.</li>
<li>The <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> is part of the static region and is compiled as a flat design.</li>
<li>Your <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> contains both static and <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> regions.</li>
</ul>
<p>In this design, the <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> region is comprised of:</p>
<ul>
<li><abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> Interface handler to verify transactions coming from <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> region.</li>
<li>PF/VF Mux to route transactions to and from corresponding <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> components: ST2MM module, Virtio LB stub, PCIe loopback host exerciser (HE-LB), HSSI host exerciser (HE-HSSI), Memory Host Exerciser (HE-MEM), Traffic Generator to memory (HE-MEM-TG), Port Gasket (PRG) and HPS Copy Engine.</li>
<li>AXI4 Streaming to Memory Map (ST2MM) Module that routes <abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr> CSR accesses to <abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr> and board peripherals.</li>
<li>Host exercisers to test PCIe, memory and HSSI interfaces (these can be removed from the <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> region after your <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> design is complete to provide more resource area for workloads)</li>
<li>Basic HPS Copy Engine to copy second-stage bootloader and Linux OS image from Host DDR to HPS DDR.</li>
<li>Port gasket and partial reconfiguration support.</li>
<li>Component for handling PLDM over MCTP over PCIe Vendor Defined Messages (VDM)</li>
</ul>
<p>The <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> has the option to consume native packets from the host or interface channels or to instantiate a shim provided by the Platform Interface Manager (<abbr title="Platform Interface Manager, An interface manager that comprises two components: a configurable platform specific interface for board developers and a collection of shims that AFU developers can use to handle clock crossing, response sorting, buffering and different protocols.">PIM</abbr>) to translate between protocols.</p>
<p><em>Note: For more information on the Platform Interface Manager and <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> development and testing, refer to the <a href="https://ofs.github.io/ofs-2024.3-1/hw/common/user_guides/afu_dev/ug_dev_afu_ofs_agx7_pcie_attach/ug_dev_afu_ofs_agx7_pcie_attach/">Workload Developer Guide: <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> for Agilex™ 7 PCIe Attach FPGAs</a>.</em></p>
<h2 id="30-board-installation-and-server-requirements">3.0 Board Installation and Server Requirements<a class="headerlink" href="#30-board-installation-and-server-requirements" title="Permanent link">&para;</a></h2>
<p>Instructions detailing the board installation guidelines for an F-Tile Dev Kit including server BIOS settings and regulatory information can be found in the <a href="/ofs-2024.3-1/hw/common/board_installation/devkit_board_installation/devkit_board_installation_guidelines/">Board Installation Guidelines: Agilex™ 7 FPGA F-Series Development Kit (2x F-Tile) and Agilex™ 7 FPGA I-Series Development Kit (2x R-Tile and 1xF-Tile)</a>. This document also covers the installation of a <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr> cable, which is required for shell programming.</p>
<h2 id="40-f-series-development-kit-jtag-driver-setup">4.0 F-Series Development Kit <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr> Driver Setup<a class="headerlink" href="#40-f-series-development-kit-jtag-driver-setup" title="Permanent link">&para;</a></h2>
<p>A specific <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr> driver needs to be installed on the host OS. Follow the instructions under the driver setup for Red Hat 5+ on <a href="https://www.intel.com/content/www/us/en/support/programmable/support-resources/download/dri-usb-b-lnx.html">Intel® FPGA Download Cable (formerly USB-Blaster) Driver for Linux*</a>.</p>
<p>View the <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr> Chain after installing the proper driver and Quartus Programmer.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nb">cd</span><span class="w"> </span>~/intelFPGA_pro/quartus/bin
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>./jtagconfig<span class="w"> </span>-D
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="m">1</span><span class="o">)</span><span class="w"> </span>AGI<span class="w"> </span>FPGA<span class="w"> </span>Development<span class="w"> </span>Kit<span class="w"> </span><span class="o">[</span><span class="m">1</span>-13<span class="o">]</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">   </span><span class="o">(</span>JTAG<span class="w"> </span>Server<span class="w"> </span>Version<span class="w"> </span><span class="m">23</span>.3.0<span class="w"> </span>Build<span class="w"> </span><span class="m">104</span><span class="w"> </span><span class="m">09</span>/20/2023<span class="w"> </span>SC<span class="w"> </span>Pro<span class="w"> </span>Edition<span class="o">)</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">  </span>034BB0DD<span class="w">   </span>AGIB027R29A<span class="o">(</span>.<span class="p">|</span>R2<span class="p">|</span>R3<span class="o">)</span>/..<span class="w"> </span><span class="o">(</span><span class="nv">IR</span><span class="o">=</span><span class="m">10</span><span class="o">)</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">  </span>020D10DD<span class="w">   </span>VTAP10<span class="w"> </span><span class="o">(</span><span class="nv">IR</span><span class="o">=</span><span class="m">10</span><span class="o">)</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">    </span>Design<span class="w"> </span><span class="nb">hash</span><span class="w">    </span>27AA3E0B7CE0A5B9F366
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">    </span>+<span class="w"> </span>Node<span class="w"> </span>08586E00<span class="w">  </span><span class="o">(</span><span class="m">110</span>:11<span class="o">)</span><span class="w"> </span><span class="c1">#0</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">    </span>+<span class="w"> </span>Node<span class="w"> </span>0C006E00<span class="w">  </span>JTAG<span class="w"> </span>UART<span class="w"> </span><span class="c1">#0</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">    </span>+<span class="w"> </span>Node<span class="w"> </span><span class="m">19104600</span><span class="w">  </span>Nios<span class="w"> </span>II<span class="w"> </span><span class="c1">#0</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">    </span>+<span class="w"> </span>Node<span class="w"> </span>30006E02<span class="w">  </span>Signal<span class="w"> </span>Tap<span class="w"> </span><span class="c1">#2</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">    </span>+<span class="w"> </span>Node<span class="w"> </span>30006E01<span class="w">  </span>Signal<span class="w"> </span>Tap<span class="w"> </span><span class="c1">#1</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">    </span>+<span class="w"> </span>Node<span class="w"> </span>30006E00<span class="w">  </span>Signal<span class="w"> </span>Tap<span class="w"> </span><span class="c1">#0</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="w">  </span>Captured<span class="w"> </span>DR<span class="w"> </span>after<span class="w"> </span><span class="nv">reset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>0069761BB020D10DD<span class="o">)</span><span class="w"> </span><span class="o">[</span><span class="m">65</span><span class="o">]</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="w">  </span>Captured<span class="w"> </span>IR<span class="w"> </span>after<span class="w"> </span><span class="nv">reset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>000D55<span class="o">)</span><span class="w"> </span><span class="o">[</span><span class="m">21</span><span class="o">]</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="w">  </span>Captured<span class="w"> </span>Bypass<span class="w"> </span>after<span class="w"> </span><span class="nv">reset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span><span class="m">2</span><span class="o">)</span><span class="w"> </span><span class="o">[</span><span class="m">3</span><span class="o">]</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="w">  </span>Captured<span class="w"> </span>Bypass<span class="w"> </span><span class="nv">chain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span><span class="m">0</span><span class="o">)</span><span class="w"> </span><span class="o">[</span><span class="m">3</span><span class="o">]</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="w">  </span>JTAG<span class="w"> </span>clock<span class="w"> </span>speed<span class="w"> </span>auto-adjustment<span class="w"> </span>is<span class="w"> </span>enabled.<span class="w"> </span>To<span class="w"> </span>disable,<span class="w"> </span><span class="nb">set</span><span class="w"> </span>JtagClockAutoAdjust<span class="w"> </span>parameter<span class="w"> </span>to<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="w">  </span>JTAG<span class="w"> </span>clock<span class="w"> </span>speed<span class="w"> </span><span class="m">24</span><span class="w"> </span>MHz
</code></pre></div>
<h2 id="41-upgrading-the-f-series-development-kit-fim-via-jtag">4.1 Upgrading the F-Series Development Kit <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> via <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr><a class="headerlink" href="#41-upgrading-the-f-series-development-kit-fim-via-jtag" title="Permanent link">&para;</a></h2>
<p>Intel provides a pre-built <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> that can be used out-of-box for platform bring-up. This shell design is available on the <a href="https://github.com/OFS/ofs-agx7-pcie-attach/releases/tag/ofs-2024.3-1"><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> 2024.3-1 Release Page</a>. After programming the shell and installing both the <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> and Backport Linux <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> kernel drivers as shown in the <a href="/ofs-2024.3-1/hw/common/sw_installation/pcie_attach/sw_install_pcie_attach.md">Software Installation Guide: Open FPGA Stack for PCIe Attach</a>, you can confirm the correct <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> has been configured by checking the output of <code>fpgainfo fme</code> against the following table:</p>
<h4 id="table-4-fim-version">Table 4: <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> Version<a class="headerlink" href="#table-4-fim-version" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Identifier</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Pr Interface ID</td>
<td>5a2d5e39-7ef2-58f8-b0b9-a737303ab4ab</td>
</tr>
<tr>
<td>Bitstream ID</td>
<td>360571656009101231</td>
</tr>
</tbody>
</table>
<p>You will need to download and unpack the artifact images for this release before upgrading your device. You also need to set up the F-Series Development Kit as outlined in the <a href="/ofs-2024.3-1/hw/common/board_installation/devkit_board_installation/devkit_board_installation_guidelines/">Board Installation Guidelines: Agilex™ 7 FPGA F-Series Development Kit (2x F-Tile) and Agilex™ 7 FPGA I-Series Development Kit (2x R-Tile and 1xF-Tile)</a>. The file <code>ofs_top_hps.sof</code> is the base <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> file. This file is loaded into the FPGA using the development kit built in USB Blaster. Please be aware this FPGA is not loaded into non-volatile storage. If the server is power cycled you will need to reload the FPGA .sof file.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>wget<span class="w"> </span>https://github.com/OFS/ofs-agx7-pcie-attach/releases/download/ofs-2024.3-1/fseries-dk-images_ofs-2024-3-1.tar.gz
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>tar<span class="w"> </span>xf<span class="w"> </span>fseries-dk-images.tar.gz
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="nb">cd</span><span class="w"> </span>fseries-dk-images/
</code></pre></div>
<p>This walkthrough describes the steps to program the Agilex FPGA on the Agilex™ 7 FPGA F-Series Development Kit (2x F-Tile) with a <code>SOF</code> image via <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr>.</p>
<p>Pre-Requisites:</p>
<ul>
<li>This walkthrough requires an <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Agilex PCIe Attach deployment environment. Refer to the <a href="https://ofs.github.io/ofs-2023.2/hw/ftile_devkit/user_guides/ug_qs_ofs_ftile/ug_qs_ofs_ftile/">Getting Started Guide: <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> for Agilex™ 7 PCIe Attach FPGAs (F-Series Development Kit (2xF-Tile))))</a> for instructions on setting up a deployment environment.</li>
</ul>
<ul>
<li>This walkthrough requires a <code>SOF</code> image which will be programmed to the Agilex FPGA. Refer to the [Walkthrough: Compile <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr>] Section for step-by-step instructions for generating a <code>SOF</code> image.</li>
</ul>
<ul>
<li>This walkthrough requires a <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr> connection to the fseries-dk. Refer to the [Walkthrough: Set up <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr>] section for step-by-step instructions.</li>
</ul>
<ul>
<li>This walkthrough requires a Full Quartus Installation or Standalone Quartus Prime Programmer &amp; Tools running on the machine where the Agilex™ 7 FPGA F-Series Development Kit (2x F-Tile) is connected via <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr>.</li>
</ul>
<p>Steps:</p>
<ol>
<li>
<p>Start in your deployment environment.</p>
</li>
<li>
<p>If the card is already programmed with an <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> enabled design, determine the PCIe B:D.F of the card using OPAE command <code>fpgainfo fme</code>. In this example, the PCIe B:D.F is <code>B1:00.0</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>sudo<span class="w"> </span>fpgainfo<span class="w"> </span>fme
</code></pre></div>
<p>Example output:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>Intel<span class="w"> </span>Acceleration<span class="w"> </span>Development<span class="w"> </span>Platform<span class="w"> </span>N6001
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>board_n6000.c:306:read_bmcfw_version<span class="o">()</span><span class="w"> </span>**ERROR**<span class="w"> </span>:<span class="w"> </span>Failed<span class="w"> </span>to<span class="w"> </span>get<span class="w"> </span><span class="nb">read</span><span class="w"> </span>object
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>board_n6000.c:482:print_board_info<span class="o">()</span><span class="w"> </span>**ERROR**<span class="w"> </span>:<span class="w"> </span>Failed<span class="w"> </span>to<span class="w"> </span><span class="nb">read</span><span class="w"> </span>bmc<span class="w"> </span>version
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>board_n6000.c:332:read_max10fw_version<span class="o">()</span><span class="w"> </span>**ERROR**<span class="w"> </span>:<span class="w"> </span>Failed<span class="w"> </span>to<span class="w"> </span>get<span class="w"> </span><span class="nb">read</span><span class="w"> </span>object
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>board_n6000.c:488:print_board_info<span class="o">()</span><span class="w"> </span>**ERROR**<span class="w"> </span>:<span class="w"> </span>Failed<span class="w"> </span>to<span class="w"> </span><span class="nb">read</span><span class="w"> </span>max10<span class="w"> </span>version
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>Board<span class="w"> </span>Management<span class="w"> </span>Controller<span class="w"> </span>NIOS<span class="w"> </span>FW<span class="w"> </span>version:
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>Board<span class="w"> </span>Management<span class="w"> </span>Controller<span class="w"> </span>Build<span class="w"> </span>version:
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>//******<span class="w"> </span>FME<span class="w"> </span>******//
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>Interface<span class="w">                        </span>:<span class="w"> </span>DFL
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xEF00001
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:B1:00.0
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCE
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x1771
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x00
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>Ports<span class="w"> </span>Num<span class="w">                        </span>:<span class="w"> </span><span class="m">01</span>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>Bitstream<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x5010202A8769764
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>Bitstream<span class="w"> </span>Version<span class="w">                </span>:<span class="w"> </span><span class="m">5</span>.0.1
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>Pr<span class="w"> </span>Interface<span class="w"> </span>Id<span class="w">                  </span>:<span class="w"> </span>b541eb7c-3c7e-5678-a660-a54f71594b34
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>Boot<span class="w"> </span>Page<span class="w">                        </span>:<span class="w"> </span>N/A
</code></pre></div>
<blockquote>
<p><strong>Note:</strong> The errors related to the <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> are the result of the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> not being present on the fseries-dk design. These will be removed in a future release.</p>
</blockquote>
</li>
<li>
<p>Remove the card from PCIe prior to programming. This will disable <abbr title="Advanced Error Reporting, The PCIe AER driver is the extended PCI Express error reporting capability providing more robust error reporting.">AER</abbr> for the PCIe root port to prevent a surprise link-down event during programming.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>sudo<span class="w"> </span>pci_device<span class="w"> </span>b1:00.0<span class="w"> </span>unplug
</code></pre></div>
</li>
<li>
<p>Switch to the machine with <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr> connection to the fseries-dk, if different than your deployment machine.</p>
</li>
<li>
<p>Open the Quartus programmer GUI</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>quartus_pgmw
</code></pre></div>
<p><a class="glightbox" href="/ofs-2024.3-1/hw/ftile_devkit/dev_guides/fim_dev/images/quartus_pgmw.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="quartus_pgmw" src="/ofs-2024.3-1/hw/ftile_devkit/dev_guides/fim_dev/images/quartus_pgmw.png" /></a></p>
</li>
<li>
<p>Click <strong>Hardware Setup</strong> to open the Hardware Setup dialog window.</p>
<ol>
<li>
<p>In the <strong>Currently selected hardware</strong> field select the fseries-dk.</p>
</li>
<li>
<p>In the <strong>Hardware frequency</strong> field enter <code>16000000</code> Hz</p>
<p><a class="glightbox" href="/ofs-2024.3-1/hw/ftile_devkit/dev_guides/fim_dev/images/quartus_pgmw_hardware_setup.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="quartus_pgmw_hardware_setup" src="/ofs-2024.3-1/hw/ftile_devkit/dev_guides/fim_dev/images/quartus_pgmw_hardware_setup.png" /></a></p>
</li>
<li>
<p>Click <strong>Close</strong></p>
</li>
</ol>
</li>
<li>
<p>In the <strong>Quartus Prime Programmer</strong> window, click <strong>Auto Detect</strong>.</p>
</li>
<li>
<p>If prompted, select the AGFB027R24C2E2VR2 device. The <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr> chain should show the device.</p>
<p><a class="glightbox" href="/ofs-2024.3-1/hw/ftile_devkit/dev_guides/fim_dev/images/quartus_pgmw_device_chain.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="quartus_pgmw_device_chain" src="/ofs-2024.3-1/hw/ftile_devkit/dev_guides/fim_dev/images/quartus_pgmw_device_chain.png" /></a></p>
</li>
<li>
<p>Right click the AGFB027R24C2E2VR2 row and selct <strong>Change File</strong>.</p>
<p><a class="glightbox" href="/ofs-2024.3-1/hw/ftile_devkit/dev_guides/fim_dev/images/quartus_pgmw_change_file.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="quartus_pgmw_change_file" src="/ofs-2024.3-1/hw/ftile_devkit/dev_guides/fim_dev/images/quartus_pgmw_change_file.png" /></a></p>
</li>
<li>
<p>In the <strong>Select New Programming File</strong> window that opens, select  <code>ofs_top_hps.sof</code> and click <strong>Open</strong>.</p>
</li>
<li>
<p>Check the <strong>Program/Configure</strong> box for the AGFB027R24C2E2VR2 row, then click <strong>Start</strong>. Wait for the <strong>Progress</strong> bar to show <code>100% (Success)</code>.</p>
<p><a class="glightbox" href="/ofs-2024.3-1/hw/ftile_devkit/dev_guides/fim_dev/images/quartus_pgmw_success.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="quartus_pgmw_success" src="/ofs-2024.3-1/hw/ftile_devkit/dev_guides/fim_dev/images/quartus_pgmw_success.png" /></a></p>
</li>
<li>
<p>Close the Quartus Programmer GUI.</p>
</li>
<li>
<p>Switch to the deployment environment, if different than the <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr> connected machine.</p>
</li>
<li>
<p>Replug the board PCIe</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>sudo<span class="w"> </span>pci_device<span class="w"> </span>b1:00.0<span class="w"> </span>plug
</code></pre></div>
</li>
<li>
<p>Run <code>fpgainfo fme</code> to verify communication with the board, and to check the <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> Interface ID.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>Intel<span class="w"> </span>Acceleration<span class="w"> </span>Development<span class="w"> </span>Platform<span class="w"> </span>N6001
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>board_n6000.c:306:read_bmcfw_version<span class="o">()</span><span class="w"> </span>**ERROR**<span class="w"> </span>:<span class="w"> </span>Failed<span class="w"> </span>to<span class="w"> </span>get<span class="w"> </span><span class="nb">read</span><span class="w"> </span>object
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>board_n6000.c:482:print_board_info<span class="o">()</span><span class="w"> </span>**ERROR**<span class="w"> </span>:<span class="w"> </span>Failed<span class="w"> </span>to<span class="w"> </span><span class="nb">read</span><span class="w"> </span>bmc<span class="w"> </span>version
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>board_n6000.c:332:read_max10fw_version<span class="o">()</span><span class="w"> </span>**ERROR**<span class="w"> </span>:<span class="w"> </span>Failed<span class="w"> </span>to<span class="w"> </span>get<span class="w"> </span><span class="nb">read</span><span class="w"> </span>object
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>board_n6000.c:488:print_board_info<span class="o">()</span><span class="w"> </span>**ERROR**<span class="w"> </span>:<span class="w"> </span>Failed<span class="w"> </span>to<span class="w"> </span><span class="nb">read</span><span class="w"> </span>max10<span class="w"> </span>version
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>Board<span class="w"> </span>Management<span class="w"> </span>Controller<span class="w"> </span>NIOS<span class="w"> </span>FW<span class="w"> </span>version:
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>Board<span class="w"> </span>Management<span class="w"> </span>Controller<span class="w"> </span>Build<span class="w"> </span>version:
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>//******<span class="w"> </span>FME<span class="w"> </span>******//
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>Interface<span class="w">                        </span>:<span class="w"> </span>DFL
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xEF00001
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:B1:00.0
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCE
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x1771
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x00
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a>Ports<span class="w"> </span>Num<span class="w">                        </span>:<span class="w"> </span><span class="m">01</span>
<a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a>Bitstream<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span><span class="m">360571656009101231</span>
<a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a>Bitstream<span class="w"> </span>Version<span class="w">                </span>:<span class="w"> </span><span class="m">5</span>.0.1
<a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a>Pr<span class="w"> </span>Interface<span class="w"> </span>Id<span class="w">                  </span>:<span class="w"> </span>5a2d5e39-7ef2-58f8-b0b9-a737303ab4ab
<a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a>Boot<span class="w"> </span>Page<span class="w">                        </span>:<span class="w"> </span>N/A
</code></pre></div>
<blockquote>
<p><strong>Note:</strong> The errors related to the <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> are the result of the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> not being present on the fseries-dk design. These will be removed in a future release.</p>
</blockquote>
</li>
</ol>
<h3 id="50-ofs-software-installation-from-script">5.0 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Software Installation from Script<a class="headerlink" href="#50-ofs-software-installation-from-script" title="Permanent link">&para;</a></h3>
<p>An overview of the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> software stack responsibilities and components can be found in the <a href="/ofs-2024.3-1/hw/common/sw_installation/pcie_attach/sw_install_pcie_attach.md">Software Installation Guide: Open FPGA Stack for PCIe Attach</a>. In this document, we will instead use the provided PCIe Attach software installation script to quickly bring up the platform.</p>
<p>Before running the software installer, it is recommended you perform the following steps to lock your OS version to 9.4 and enable related repositories:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>subscription-manager<span class="w"> </span>release<span class="w"> </span>--set<span class="o">=</span><span class="m">9</span>.4
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>sudo<span class="w"> </span>dnf<span class="w"> </span>update
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>subscription-manager<span class="w"> </span>repos<span class="w"> </span>--enable<span class="w"> </span>codeready-builder-for-rhel-9-x86_64-rpms
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>https://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm
</code></pre></div>
<p>Download the <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> PCIe Attach installation script from the <a href="https://github.com/OFS/ofs-agx7-pcie-attach/releases/tag/ofs-2024.3-1"><abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> 2024.3-1 Release Page</a>. Unpack the files:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>wget<span class="w"> </span>https://github.com/OFS/ofs-agx7-pcie-attach/releases/download/ofs-2024.3-1/pcieattach_sw_installer_2024.3.zip
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>unzip<span class="w"> </span>pcieattach_sw_installer_2024.3.zip
</code></pre></div>
<p>Executing the script without any input arguments will cause it to set up your local environment and will pull down and install pre-built <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> software artifacts. You can explore its other functionality as looking at the help output <code>ofs_sw_install.py -h</code> or though the included README. Execute the script.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>./ofs_sw_install.py
</code></pre></div>
<p>You can check that all OPAE packages have been installed and match expectation:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>rpm<span class="w"> </span>-qa<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>opae
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>opae-2.14.0-2.el8.x86_64.rpm
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>opae-debuginfo-2.14.0-2.el8.x86_64.rpm
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>opae-debugsource-2.14.0-2.el8.x86_64.rpm
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>opae-devel-2.14.0-2.el8.x86_64.rpm
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>opae-devel-debuginfo-2.14.0-2.el8.x86_64.rpm
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>opae-extra-tools-2.14.0-2.el8.x86_64.rpm
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>opae-extra-tools-debuginfo-2.14.0-2.el8.x86_64.rpm
</code></pre></div>
<p>To verify the Backport <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> kernel and driver stack have been installed, perform a warm reboot and check with <code>uname</code>.</p>
<p><em>Note: Your kernel version and tags may differ from the below, depending on script arguments</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>uname<span class="w"> </span>-r
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="m">4</span>.18.0-553.5.1.el8_10.x86_64
</code></pre></div>
<p>You can also check the contents of <code>/usr/lib/modules/&lt;kernel name&gt;/kernel/drivers</code>, or run <code>modinfo &lt;driver name&gt;</code>. Below is a list of the drivers which are loaded as a part of the F Tile Dev Kit Shell design:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>lsmod<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>dfl
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>qsfp_mem_dfl<span class="w">           </span><span class="m">16384</span><span class="w">  </span><span class="m">0</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>qsfp_mem_core<span class="w">          </span><span class="m">20480</span><span class="w">  </span><span class="m">1</span><span class="w"> </span>qsfp_mem_dfl
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>uio_dfl<span class="w">                </span><span class="m">20480</span><span class="w">  </span><span class="m">0</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>uio<span class="w">                    </span><span class="m">28672</span><span class="w">  </span><span class="m">1</span><span class="w"> </span>uio_dfl
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>dfl_fme_mgr<span class="w">            </span><span class="m">20480</span><span class="w">  </span><span class="m">1</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>dfl_emif<span class="w">               </span><span class="m">16384</span><span class="w">  </span><span class="m">0</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>dfl_fme_region<span class="w">         </span><span class="m">20480</span><span class="w">  </span><span class="m">0</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>dfl_fme_br<span class="w">             </span><span class="m">16384</span><span class="w">  </span><span class="m">0</span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>dfl_afu<span class="w">                </span><span class="m">36864</span><span class="w">  </span><span class="m">0</span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>dfl_fme<span class="w">                </span><span class="m">49152</span><span class="w">  </span><span class="m">0</span>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>dfl_pci<span class="w">                </span><span class="m">20480</span><span class="w">  </span><span class="m">0</span>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>dfl<span class="w">                    </span><span class="m">40960</span><span class="w">  </span><span class="m">7</span><span class="w"> </span>dfl_pci,uio_dfl,dfl_fme,dfl_fme_br,qsfp_mem_dfl,dfl_afu,dfl_emif
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>fpga_region<span class="w">            </span><span class="m">20480</span><span class="w">  </span><span class="m">3</span><span class="w"> </span>dfl_fme_region,dfl_fme,dfl
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a>fpga_bridge<span class="w">            </span><span class="m">24576</span><span class="w">  </span><span class="m">4</span><span class="w"> </span>dfl_fme_region,fpga_region,dfl_fme,dfl_fme_br
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a>fpga_mgr<span class="w">               </span><span class="m">24576</span><span class="w">  </span><span class="m">4</span><span class="w"> </span>dfl_fme_region,fpga_region,dfl_fme_mgr,dfl_fme
</code></pre></div>
<h3 id="51-memlock-limit">5.1 Memlock limit<a class="headerlink" href="#51-memlock-limit" title="Permanent link">&para;</a></h3>
<p>Depending on the requirements of any loaded applications, you may also want to increase the maximum amount of memory a user process is allowed to lock. The exact way to do this depends on your Linux distribution.</p>
<p>You can check the current <code>memlock</code> limit using:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="nb">ulimit</span><span class="w"> </span>-l
</code></pre></div>
<p>A way to permanently remove the limit for locked memory for a regular user is to add the following lines to your <code>/etc/security/limits.conf</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>user1<span class="w">    </span>hard<span class="w">   </span>memlock<span class="w">           </span>unlimited
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>user1<span class="w">    </span>soft<span class="w">   </span>memlock<span class="w">           </span>unlimited
</code></pre></div>
<p>This removes the limit on locked memory for user user1. To remove it for all users, you can replace user1 with *:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>*<span class="w">    </span>hard<span class="w">   </span>memlock<span class="w">           </span>unlimited
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>*<span class="w">    </span>soft<span class="w">   </span>memlock<span class="w">           </span>unlimited
</code></pre></div>
<p>Note that settings in the /etc/security/limits.conf file don't apply to services. To increase the locked memory limit for a service you need to modify the application's systemd service file and add the line:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="o">[</span>Service<span class="o">]</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="nv">LimitMEMLOCK</span><span class="o">=</span>infinity
</code></pre></div>
<h3 id="60-opae-tools-overview">6.0 OPAE Tools Overview<a class="headerlink" href="#60-opae-tools-overview" title="Permanent link">&para;</a></h3>
<p>The following section offers a brief introduction including expected output values for the utilities included with OPAE. A full explanation of each command with a description of its syntax is available in the <a href="https://github.com/OPAE/opae-sdk/blob/2.14.0-2/doc/src/fpga_tools/readme.md">opae-sdk GitHub repo</a>.</p>
<p>A list of all tools included in the <abbr title="Open Programmable Acceleration Engine Software Development Kit, A collection of libraries and tools to facilitate the development of software applications and accelerators using OPAE.">OPAE SDK</abbr> release can be found on the <a href="https://ofs.github.io/latest/sw/fpga_tools/fpgadiag/">OPAE FPGA Tools</a> tab of ofs.github.io.</p>
<h4 id="601-board-management-with-fpgainfo">6.0.1 Board Management with <code>fpgainfo</code><a class="headerlink" href="#601-board-management-with-fpgainfo" title="Permanent link">&para;</a></h4>
<p>The <strong>fpgainfo</strong> utility displays FPGA information derived from sysfs files.</p>
<p>Displays FPGA information derived from sysfs files. The command argument is one of the following: errors, power, temp, port, fme, bmc, phy or mac, security. Some commands may also have other arguments or options that control their behavior.</p>
<p>For systems with multiple FPGA devices, you can specify the BDF to limit the output to the FPGA resource with the corresponding PCIe configuration. If not specified, information displays for all resources for the given command.</p>
<p><em>Note: Your Bitstream ID and <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> Interface Id may not match the below examples.</em></p>
<p>The following examples walk through sample outputs generated by <code>fpgainfo</code>. As the F-Series Development Kit does not contain a traditional <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> as used by other <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> products, those lines in <code>fpgainfo</code>'s output will not return valid objects. The subcommand <code>fpgainfo bmc</code> will likewise fail to report telemetry data.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>Intel<span class="w"> </span>Acceleration<span class="w"> </span>JTAG<span class="w"> </span>PCI<span class="w"> </span>Development<span class="w"> </span>Kit
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>//******<span class="w"> </span>FME<span class="w"> </span>******//
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>Interface<span class="w">                        </span>:<span class="w"> </span>DFL
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xEF00001
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:B1:00.0
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCE
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x1771
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x00
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>Ports<span class="w"> </span>Num<span class="w">                        </span>:<span class="w"> </span><span class="m">01</span>
<a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>Bitstream<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x501020241BF165B
<a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>Bitstream<span class="w"> </span>Version<span class="w">                </span>:<span class="w"> </span><span class="m">5</span>.0.1
<a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a>Pr<span class="w"> </span>Interface<span class="w"> </span>Id<span class="w">                  </span>:<span class="w"> </span>b4eda250-cdb7-5891-a06e-13d28d09bc32
<a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a>Boot<span class="w"> </span>Page<span class="w">                        </span>:<span class="w"> </span>N/A
</code></pre></div>
<h4 id="602-updating-with-fpgasupdate">6.0.2 Updating with fpgasupdate<a class="headerlink" href="#602-updating-with-fpgasupdate" title="Permanent link">&para;</a></h4>
<p>The <strong>fpgasupdate</strong> tool is used to program <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> workloads into an open slot in a <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr>. The <strong>fpgasupdate</strong> tool only accepts images that have been formatted using PACsign.</p>
<p>As the F-Series Development Kit does not contain a traditional <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr>, you do not have access to a factory, user1, and user2 programmed image for both the <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> and <abbr title="Board Management Controller, Acts as the Root of Trust (RoT) on the Intel FPGA PAC platform. Supports features such as power sequence management and board monitoring through on-board sensors.">BMC</abbr> FW and RTL. Only the programming of a GBS workload is supported for this release.</p>
<p>The process of programming a SOF with a new <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> version is shown in section <a href="#40-upgrading-the--envftile_dk_model_l--fim-via-jtag">4.0 Upgrading the F-Series Development Kit <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> via <abbr title="Joint Test Action Group, Refers to the IEEE 1149.1 JTAG standard; Another FPGA configuration methodology.">JTAG</abbr></a></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>sudo<span class="w"> </span>fpgasupdate<span class="w"> </span>ofs_pr_afu.gbs<span class="w">   </span>&lt;PCI<span class="w"> </span>ADDRESS&gt;
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="o">[</span><span class="m">2022</span>-04-14<span class="w"> </span><span class="m">16</span>:42:31.58<span class="o">]</span><span class="w"> </span><span class="o">[</span>WARNING<span class="w"> </span><span class="o">]</span><span class="w"> </span>Update<span class="w"> </span>starting.<span class="w"> </span>Please<span class="w"> </span><span class="k">do</span><span class="w"> </span>not<span class="w"> </span>interrupt.<span class="w">                                           </span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="o">[</span><span class="m">2022</span>-04-14<span class="w"> </span><span class="m">16</span>:42:31.58<span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="w">    </span><span class="o">]</span><span class="w"> </span>updating<span class="w"> </span>from<span class="w"> </span>file<span class="w"> </span>ofs_pr_afu.gbs<span class="w"> </span>with<span class="w"> </span>size<span class="w"> </span><span class="m">19928064</span><span class="w">               </span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="o">[</span><span class="m">2022</span>-04-14<span class="w"> </span><span class="m">16</span>:42:31.60<span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="w">    </span><span class="o">]</span><span class="w"> </span>waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span>idle<span class="w">                                                                 </span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="o">[</span><span class="m">2022</span>-04-14<span class="w"> </span><span class="m">16</span>:42:31.60<span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="w">    </span><span class="o">]</span><span class="w"> </span>preparing<span class="w"> </span>image<span class="w"> </span>file<span class="w">                                                                </span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="o">[</span><span class="m">2022</span>-04-14<span class="w"> </span><span class="m">16</span>:42:38.61<span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="w">    </span><span class="o">]</span><span class="w"> </span>writing<span class="w"> </span>image<span class="w"> </span>file<span class="w">                                                                 </span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="o">(</span><span class="m">100</span>%<span class="o">)</span><span class="w"> </span><span class="o">[</span>████████████████████<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">19928064</span>/19928064<span class="w"> </span>bytes<span class="o">][</span>Elapsed<span class="w"> </span>Time:<span class="w"> </span><span class="m">0</span>:00:16.01<span class="o">]</span><span class="w">                                       </span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="o">[</span><span class="m">2022</span>-04-14<span class="w"> </span><span class="m">16</span>:42:54.63<span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="w">    </span><span class="o">]</span><span class="w"> </span>programming<span class="w"> </span>image<span class="w"> </span>file<span class="w">                                                              </span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="o">(</span><span class="m">100</span>%<span class="o">)</span><span class="w"> </span><span class="o">[</span>████████████████████<span class="o">][</span>Elapsed<span class="w"> </span>Time:<span class="w"> </span><span class="m">0</span>:06:16.40<span class="o">]</span><span class="w">                                                                 </span>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="o">[</span><span class="m">2022</span>-04-14<span class="w"> </span><span class="m">16</span>:49:11.03<span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="w">    </span><span class="o">]</span><span class="w"> </span>update<span class="w"> </span>of<span class="w"> </span><span class="m">0000</span>:b1:00.0<span class="w"> </span><span class="nb">complete</span><span class="w">                                                     </span>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="o">[</span><span class="m">2022</span>-04-14<span class="w"> </span><span class="m">16</span>:49:11.03<span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="w">    </span><span class="o">]</span><span class="w"> </span>Secure<span class="w"> </span>update<span class="w"> </span>OK<span class="w">                                                                   </span>
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="o">[</span><span class="m">2022</span>-04-14<span class="w"> </span><span class="m">16</span>:49:11.03<span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="w">    </span><span class="o">]</span><span class="w"> </span>Total<span class="w"> </span>time:<span class="w"> </span><span class="m">0</span>:06:39.45
</code></pre></div>
<h4 id="603-verify-fme-interrupts-with-hello_events">6.0.3 Verify <abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr> Interrupts with hello_events<a class="headerlink" href="#603-verify-fme-interrupts-with-hello_events" title="Permanent link">&para;</a></h4>
<p>The <strong>hello_events</strong> utility is used to verify <abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr> interrupts. This tool injects <abbr title="FPGA Management Engine, Provides a way to manage the platform and enable acceleration functions on the platform.">FME</abbr> errors and waits for error interrupts, then clears the errors.</p>
<p>Sample output from <code>sudo hello_events</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>sudo<span class="w"> </span>hello_events
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>Waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span>interrupts<span class="w"> </span>now...
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>injecting<span class="w"> </span>error
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>FME<span class="w"> </span>Interrupt<span class="w"> </span>occurred
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>Successfully<span class="w"> </span>tested<span class="w"> </span>Register/Unregister<span class="w"> </span><span class="k">for</span><span class="w"> </span>FME<span class="w"> </span>events!
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>clearing<span class="w"> </span>error
</code></pre></div>
<h3 id="61-host-exerciser-modules">6.1 Host Exerciser Modules<a class="headerlink" href="#61-host-exerciser-modules" title="Permanent link">&para;</a></h3>
<p>The reference <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> and unchanged <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> compilations contain Host Exerciser Modules (HEMs). These are used to exercise and characterize the various host-FPGA interactions, including Memory Mapped Input/Output (<abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr>), data transfer from host to FPGA, <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr>, host to FPGA memory, etc. There are three HEMs present in the Intel <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> Reference <abbr title="FPGA Interface Manager, Provides platform management, functionality, clocks, resets and standard interfaces to host and AFUs. The FIM resides in the static region of the FPGA and contains the FPGA Management Engine (FME) and I/O ring.">FIM</abbr> - HE-LPBK, HE-MEM, and HE-HSSI. These exercisers are tied to three different VFs that must be enabled before they can be used.
Execution of these exercisers requires you bind specific VF endpoint to <strong>vfio-pci</strong>. The host-side software looks for these endpoints to grab the correct FPGA resource.</p>
<p>Refer to the Intel <a href="https://ofs.github.io/ofs-2024.3-1/hw/n6001/reference_manuals/ofs_fim/mnl_fim_ofs_n6001/">Shell Technical Reference Manual: <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> for Agilex™ 7 PCIe Attach FPGAs</a> for a full description of these modules.</p>
<h4 id="table-5-module-pfvf-mappings">Table 5: Module PF/VF Mappings<a class="headerlink" href="#table-5-module-pfvf-mappings" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Module</th>
<th>PF/VF</th>
</tr>
</thead>
<tbody>
<tr>
<td>ST2MM</td>
<td>PF0</td>
</tr>
<tr>
<td>HE-MEM</td>
<td>PF0-VF0</td>
</tr>
<tr>
<td>HE-HSSI</td>
<td>PF0-VF1</td>
</tr>
<tr>
<td>HE-MEM_TG</td>
<td>PF0-VF2</td>
</tr>
<tr>
<td>HE-LB Stub</td>
<td>PF1-VF0</td>
</tr>
<tr>
<td>HE-LB</td>
<td>PF2</td>
</tr>
<tr>
<td>VirtIO LB Stub</td>
<td>PF3</td>
</tr>
<tr>
<td>HPS Copy Engine</td>
<td>PF4</td>
</tr>
</tbody>
</table>
<h4 id="611-he-mem-he-lb">6.1.1 HE-MEM / HE-LB<a class="headerlink" href="#611-he-mem-he-lb" title="Permanent link">&para;</a></h4>
<p>The host exerciser used to exercise and characterize the various host-FPGA interactions eg. <abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr>, Data transfer from host to FPGA , <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr>, host to FPGA memory etc. The Host Exerciser Loopback (HE-LBK) <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> can move data between host memory and FPGA.</p>
<p>HE-LBK supports:
- Latency (<abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> to Host memory read)
- <abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr> latency (Write+Read)
- <abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr> BW (64B <abbr title="Memory Mapped Input/Output, Users may map and access both control registers and system memory buffers with accelerators.">MMIO</abbr> writes)
- BW (Read/Write, Read only, Wr only)</p>
<p>The Host Exerciser Loopback Memory (HE-MEM) <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> is used to exercise use of FPGA connected DDR, data read from the host is written to DDR, and the same data is read from DDR before sending it back to the host.</p>
<p><strong>HE-LB</strong> is responsible for generating traffic with the intention of exercising the path from the <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> to the Host at full bandwidth. <strong>HE-MEM</strong> is used to exercise use of FPGA connected DDR; data read from the host is written to DDR, and the same data is read from DDR before sending it back to the host. <strong>HE-MEM</strong> uses external DDR memory (i.e. EMIF) to store data. It has a customized version of the AVMM interface to communicate with the EMIF memory controller. Both exercisers rely on the user-space tool host_exerciser. When using the F-Series Development Kit SmartNIC Platform, optimal performance requires the exercisers be run at 400 MHz.</p>
<p>Execution of these exercisers requires you to bind specific VF endpoint to <strong>vfio-pci</strong>. The following commands will bind the correct endpoint for a device with B/D/F 0000:b1:00.0 and run through a basic loopback test.</p>
<p><em>Note: While running the <code>opae.io init</code> command listed below, the command has failed if no output is present after completion. Double check that Intel VT-D and IOMMU have been enabled in the kernel as discussed in section <a href="#30-ofs-dfl-kernel-drivers">3.0 <abbr title="Open FPGA Stack, A modular collection of hardware platform components, open source software, and broad ecosystem support that provides a standard and scalable model for AFU and software developers to optimize and reuse their designs.">OFS</abbr> <abbr title="Device Feature List, A concept inherited from OFS. The DFL drivers provide support for FPGA devices that are designed to support the Device Feature List. The DFL, which is implemented in RTL, consists of a self-describing data structure in PCI BAR space that allows the DFL driver to automatically load the drivers required for a given FPGA configuration.">DFL</abbr> Kernel Drivers</a>.</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>$<span class="w"> </span>sudo<span class="w"> </span>pci_device<span class="w">  </span><span class="m">0000</span>:b1:00.0<span class="w"> </span>vf<span class="w"> </span><span class="m">3</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>$<span class="w"> </span>sudo<span class="w"> </span>opae.io<span class="w"> </span>init<span class="w"> </span>-d<span class="w"> </span><span class="m">0000</span>:b1:00.2<span class="w"> </span>user:user
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>Unbinding<span class="w"> </span><span class="o">(</span>0x8086,0xbcce<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:b1:00.2<span class="w"> </span>from<span class="w"> </span>dfl-pci<span class="w">                                                             </span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>Binding<span class="w"> </span><span class="o">(</span>0x8086,0xbcce<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:b1:00.2<span class="w"> </span>to<span class="w"> </span>vfio-pci<span class="w"> </span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>iommu<span class="w"> </span>group<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">(</span>0x8086,0xbcce<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:b1:00.2<span class="w"> </span>is<span class="w"> </span><span class="m">188</span><span class="w">                                                                  </span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>Assigning<span class="w"> </span>/dev/vfio/188<span class="w"> </span>to<span class="w"> </span>user<span class="w">                                                                 </span>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a>Changing<span class="w"> </span>permissions<span class="w"> </span><span class="k">for</span><span class="w"> </span>/dev/vfio/188<span class="w"> </span>to<span class="w"> </span>rw-rw----
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a>
<a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a>
<a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a>$<span class="w"> </span>sudo<span class="w"> </span>host_exerciser<span class="w"> </span>--clock-mhz<span class="w"> </span><span class="m">400</span><span class="w"> </span>lpbk
<a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="w">    </span>starting<span class="w"> </span><span class="nb">test</span><span class="w"> </span>run,<span class="w"> </span>count<span class="w"> </span>of<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a>API<span class="w"> </span>version:<span class="w"> </span><span class="m">4</span>
<a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a>Bus<span class="w"> </span>width:<span class="w"> </span><span class="m">64</span><span class="w"> </span>bytes
<a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a>AFU<span class="w"> </span>clock<span class="w"> </span>from<span class="w"> </span><span class="nb">command</span><span class="w"> </span>line:<span class="w"> </span><span class="m">400</span><span class="w"> </span>MHz
<a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a>Allocate<span class="w"> </span>SRC<span class="w"> </span>Buffer
<a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a>Allocate<span class="w"> </span>DST<span class="w"> </span>Buffer
<a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a>Allocate<span class="w"> </span>DSM<span class="w"> </span>Buffer
<a id="__codelineno-21-19" name="__codelineno-21-19" href="#__codelineno-21-19"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>Performance<span class="w"> </span>Counter:
<a id="__codelineno-21-20" name="__codelineno-21-20" href="#__codelineno-21-20"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numReads:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-21-21" name="__codelineno-21-21" href="#__codelineno-21-21"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numWrites:<span class="w"> </span><span class="m">1025</span>
<a id="__codelineno-21-22" name="__codelineno-21-22" href="#__codelineno-21-22"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-21-23" name="__codelineno-21-23" href="#__codelineno-21-23"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-21-24" name="__codelineno-21-24" href="#__codelineno-21-24"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-21-25" name="__codelineno-21-25" href="#__codelineno-21-25"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-21-26" name="__codelineno-21-26" href="#__codelineno-21-26"></a><span class="w">    </span>Number<span class="w"> </span>of<span class="w"> </span>clocks:<span class="w"> </span><span class="m">3002</span>
<a id="__codelineno-21-27" name="__codelineno-21-27" href="#__codelineno-21-27"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Reads<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-21-28" name="__codelineno-21-28" href="#__codelineno-21-28"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Writes<span class="w"> </span>sent:<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-21-29" name="__codelineno-21-29" href="#__codelineno-21-29"></a><span class="w">    </span>Bandwidth:<span class="w"> </span><span class="m">8</span>.732<span class="w"> </span>GB/s
<a id="__codelineno-21-30" name="__codelineno-21-30" href="#__codelineno-21-30"></a><span class="w">    </span>Test<span class="w"> </span>lpbk<span class="o">(</span><span class="m">1</span><span class="o">)</span>:<span class="w"> </span>PASS
</code></pre></div>
<p>The following example will run a loopback throughput test using one cache line per request.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>$<span class="w"> </span>sudo<span class="w"> </span>pci_device<span class="w">  </span><span class="m">0000</span>:b1:00.0<span class="w"> </span>vf<span class="w"> </span><span class="m">3</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>$<span class="w"> </span>sudo<span class="w"> </span>opae.io<span class="w"> </span>init<span class="w"> </span>-d<span class="w"> </span><span class="m">0000</span>:b1:00.2<span class="w"> </span>user:user
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>$<span class="w"> </span>sudo<span class="w"> </span>host_exerciser<span class="w"> </span>--clock-mhz<span class="w"> </span><span class="m">400</span><span class="w"> </span>--mode<span class="w"> </span>trput<span class="w"> </span>--cls<span class="w"> </span>cl_1<span class="w"> </span>lpbk
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w">    </span>starting<span class="w"> </span><span class="nb">test</span><span class="w"> </span>run,<span class="w"> </span>count<span class="w"> </span>of<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>API<span class="w"> </span>version:<span class="w"> </span><span class="m">4</span>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>Bus<span class="w"> </span>width:<span class="w"> </span><span class="m">64</span><span class="w"> </span>bytes
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>AFU<span class="w"> </span>clock<span class="w"> </span>from<span class="w"> </span><span class="nb">command</span><span class="w"> </span>line:<span class="w"> </span><span class="m">400</span><span class="w"> </span>MHz
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a>Allocate<span class="w"> </span>SRC<span class="w"> </span>Buffer
<a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a>Allocate<span class="w"> </span>DST<span class="w"> </span>Buffer
<a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a>Allocate<span class="w"> </span>DSM<span class="w"> </span>Buffer
<a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>Performance<span class="w"> </span>Counter:
<a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numReads:<span class="w"> </span><span class="m">512</span>
<a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numWrites:<span class="w"> </span><span class="m">513</span>
<a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifReads:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a><span class="w">    </span>Host<span class="w"> </span>Exerciser<span class="w"> </span>numPendEmifWrites:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-22-20" name="__codelineno-22-20" href="#__codelineno-22-20"></a><span class="w">    </span>Number<span class="w"> </span>of<span class="w"> </span>clocks:<span class="w"> </span><span class="m">2014</span>
<a id="__codelineno-22-21" name="__codelineno-22-21" href="#__codelineno-22-21"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Reads<span class="w"> </span>sent:<span class="w"> </span><span class="m">512</span>
<a id="__codelineno-22-22" name="__codelineno-22-22" href="#__codelineno-22-22"></a><span class="w">    </span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>Writes<span class="w"> </span>sent:<span class="w"> </span><span class="m">512</span>
<a id="__codelineno-22-23" name="__codelineno-22-23" href="#__codelineno-22-23"></a><span class="w">    </span>Bandwidth:<span class="w"> </span><span class="m">13</span>.016<span class="w"> </span>GB/s
<a id="__codelineno-22-24" name="__codelineno-22-24" href="#__codelineno-22-24"></a><span class="w">    </span>Test<span class="w"> </span>lpbk<span class="o">(</span><span class="m">1</span><span class="o">)</span>:<span class="w"> </span>PASS
</code></pre></div>
<h4 id="612-traffic-generator-afu-test-application">6.1.2 Traffic Generator <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> Test Application<a class="headerlink" href="#612-traffic-generator-afu-test-application" title="Permanent link">&para;</a></h4>
<p>Beginning in OPAE version 2.0.11-1+ the TG <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr> has an OPAE application to access &amp; exercise traffic, targeting a specific bank. The supported arguments for test configuration are:</p>
<ul>
<li>Number of test loops: --loops</li>
<li>Number of read transfers per test loop: -r,--read</li>
<li>Number of write transfers per test loop: -w,--write</li>
<li>Burst size of each transfer: -b,--bls</li>
<li>Address stride between each transfer: --stride</li>
<li>Target memory TG: -m,--mem-channel</li>
</ul>
<p>Below are some example commands for how to execute the test application.
To run the preconfigured write/read traffic test on channel 0:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>mem_tg<span class="w"> </span>tg_test
</code></pre></div>
<p>Target channel 1 with a 1MB single-word write only test for 1000 iterations</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>mem_tg<span class="w"> </span>--loops<span class="w"> </span><span class="m">1000</span><span class="w"> </span>-r<span class="w"> </span><span class="m">0</span><span class="w"> </span>-w<span class="w"> </span><span class="m">2000</span><span class="w"> </span>-m<span class="w"> </span><span class="m">1</span><span class="w"> </span>tg_test
</code></pre></div>
<p>Target channel 2 with 4MB write/read test of max burst length for 10 iterations</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>mem_tg<span class="w"> </span>--loops<span class="w"> </span><span class="m">10</span><span class="w"> </span>-r<span class="w"> </span><span class="m">8</span><span class="w"> </span>-w<span class="w"> </span><span class="m">8</span><span class="w"> </span>--bls<span class="w"> </span><span class="m">255</span><span class="w"> </span>-m<span class="w"> </span><span class="m">2</span><span class="w"> </span>tg_test
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>sudo<span class="w"> </span>mem_tg<span class="w"> </span>--loops<span class="w"> </span><span class="m">1000</span><span class="w"> </span>-r<span class="w"> </span><span class="m">2000</span><span class="w"> </span>-w<span class="w"> </span><span class="m">2000</span><span class="w"> </span>--stride<span class="w"> </span><span class="m">2</span><span class="w"> </span>--bls<span class="w"> </span><span class="m">2</span><span class="w">  </span>-m<span class="w"> </span><span class="m">1</span><span class="w"> </span>tg_test
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="o">[</span><span class="m">2022</span>-07-15<span class="w"> </span><span class="m">00</span>:13:16.349<span class="o">]</span><span class="w"> </span><span class="o">[</span>tg_test<span class="o">]</span><span class="w"> </span><span class="o">[</span>info<span class="o">]</span><span class="w"> </span>starting<span class="w"> </span><span class="nb">test</span><span class="w"> </span>run,<span class="w"> </span>count<span class="w"> </span>of<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>Memory<span class="w"> </span>channel<span class="w"> </span>clock<span class="w"> </span>frequency<span class="w"> </span>unknown.<span class="w"> </span>Assuming<span class="w"> </span><span class="m">300</span><span class="w"> </span>MHz.
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>TG<span class="w"> </span>PASS
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>Mem<span class="w"> </span>Clock<span class="w"> </span>Cycles:<span class="w"> </span><span class="m">17565035</span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>Write<span class="w"> </span>BW:<span class="w"> </span><span class="m">4</span>.37232<span class="w"> </span>GB/s
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>Read<span class="w"> </span>BW:<span class="w"> </span><span class="m">4</span>.37232<span class="w"> </span>GB/s
</code></pre></div>
<h4 id="613-he-hssi">6.1.3 HE-HSSI<a class="headerlink" href="#613-he-hssi" title="Permanent link">&para;</a></h4>
<p>HE-HSSI is responsible for handling client-side ethernet traffic. It wraps the 10G and 100G HSSI AFUs and includes a traffic generator and checker. The user-space tool <code>hssi</code> exports a control interface to the HE-HSSI's <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr>'s packet generator logic.</p>
<p>The <code>hssi</code> application provides a means of interacting with the 10G and with the 100G HSSI AFUs. In both 10G and 100G operating modes, the application initializes the <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr>, completes the desired transfer as described by the mode- specific options, and displays the ethernet statistics by invoking <code>ethtool --statistics INTERFACE</code>.</p>
<p>Due to Ethernet differential pair routing on the ES version of the Agilex™ 7 F-Series FPGA (Two F-Tiles) Development Kit, some differential pairs were swapped to improve signal routing.  To account for the pair swap, there is a requirement to run a script to invert the differential traces.  If you run the command “fpgainfo phy B:d.f” when the Ethernet ports are connected to known good sources and observe the following three ports are down as shown below:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>$<span class="w"> </span>sudo<span class="w"> </span>fpgainfo<span class="w"> </span>phy<span class="w"> </span>b1:00.0
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>Intel<span class="w"> </span>Acceleration<span class="w"> </span>JTAG<span class="w"> </span>PCI<span class="w"> </span>Development<span class="w"> </span>Kit
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>//******<span class="w"> </span>PHY<span class="w"> </span>******//
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a>Interface<span class="w">                        </span>:<span class="w"> </span>DFL
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xEF00001
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:B1:00.0
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCE
<a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x0001
<a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x00
<a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a>Ports<span class="w"> </span>Num<span class="w">                        </span>:<span class="w"> </span><span class="m">01</span>
<a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a>Bitstream<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x50102020CB5B309
<a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a>Bitstream<span class="w"> </span>Version<span class="w">                </span>:<span class="w"> </span><span class="m">5</span>.0.1
<a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a>Pr<span class="w"> </span>Interface<span class="w"> </span>Id<span class="w">                  </span>:<span class="w"> </span>d0f93544-a487-5a92-8632-d43f27dbccee
<a id="__codelineno-27-16" name="__codelineno-27-16" href="#__codelineno-27-16"></a>QSFP0<span class="w">                            </span>:<span class="w"> </span>Connected
<a id="__codelineno-27-17" name="__codelineno-27-17" href="#__codelineno-27-17"></a>QSFP1<span class="w">                            </span>:<span class="w"> </span>Not<span class="w"> </span>Connected
<a id="__codelineno-27-18" name="__codelineno-27-18" href="#__codelineno-27-18"></a>//******<span class="w"> </span>HSSI<span class="w"> </span>information<span class="w"> </span>******//
<a id="__codelineno-27-19" name="__codelineno-27-19" href="#__codelineno-27-19"></a>HSSI<span class="w"> </span>version<span class="w">                     </span>:<span class="w"> </span><span class="m">2</span>.0
<a id="__codelineno-27-20" name="__codelineno-27-20" href="#__codelineno-27-20"></a>Number<span class="w"> </span>of<span class="w"> </span>ports<span class="w">                  </span>:<span class="w"> </span><span class="m">8</span>
<a id="__codelineno-27-21" name="__codelineno-27-21" href="#__codelineno-27-21"></a>Port0<span class="w">                            </span>:25GbE<span class="w">        </span>DOWN
<a id="__codelineno-27-22" name="__codelineno-27-22" href="#__codelineno-27-22"></a>Port1<span class="w">                            </span>:25GbE<span class="w">        </span>DOWN
<a id="__codelineno-27-23" name="__codelineno-27-23" href="#__codelineno-27-23"></a>Port2<span class="w">                            </span>:25GbE<span class="w">        </span>DOWN
<a id="__codelineno-27-24" name="__codelineno-27-24" href="#__codelineno-27-24"></a>Port3<span class="w">                            </span>:25GbE<span class="w">        </span>DOWN
<a id="__codelineno-27-25" name="__codelineno-27-25" href="#__codelineno-27-25"></a>Port4<span class="w">                            </span>:25GbE<span class="w">        </span>DOWN
<a id="__codelineno-27-26" name="__codelineno-27-26" href="#__codelineno-27-26"></a>Port5<span class="w">                            </span>:25GbE<span class="w">        </span>DOWN
<a id="__codelineno-27-27" name="__codelineno-27-27" href="#__codelineno-27-27"></a>Port6<span class="w">                            </span>:25GbE<span class="w">        </span>DOWN
<a id="__codelineno-27-28" name="__codelineno-27-28" href="#__codelineno-27-28"></a>Port7<span class="w">                            </span>:25GbE<span class="w">        </span>DOWN
</code></pre></div>
<p>Create the following script called “set_tx_inverse_polarity.sh” to set make Transceiver PAM register settings:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="ch">#!/bin/sh</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="c1"># Port 3</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="nv">base_addr</span><span class="o">=</span><span class="k">$(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%08d&quot;</span><span class="w"> </span><span class="s2">&quot;0x500000&quot;</span><span class="k">)</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="nv">address</span><span class="o">=</span><span class="sb">`</span>expr<span class="w"> </span><span class="nv">$base_addr</span><span class="w"> </span>+<span class="w"> </span><span class="m">589884</span><span class="sb">`</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="c1">#address=`expr $base_addr + 589884`</span>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="nv">offset</span><span class="o">=</span><span class="sb">`</span>expr<span class="w"> </span><span class="nv">$address</span>/4<span class="sb">`</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="nv">hex_number</span><span class="o">=</span><span class="k">$(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;0x%06x&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$((</span><span class="nv">$offset</span><span class="k">))</span><span class="s2">&quot;</span><span class="k">)</span>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="nb">echo</span><span class="w"> </span><span class="nv">$hex_number</span>
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="nv">cmd_sts</span><span class="o">=</span><span class="k">$(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%32x&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$((</span><span class="nv">$offset2</span><span class="k">))</span><span class="s2">&quot;</span><span class="k">)</span>
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="nv">csraddr</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">hex_number</span><span class="si">}</span><span class="s2">0500000002&quot;</span>
<a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="nv">csraddr1</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">hex_number</span><span class="si">}</span><span class="s2">0600000001&quot;</span>
<a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="nv">data</span><span class="o">=</span>1a040
<a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a><span class="nb">echo</span><span class="w"> </span><span class="nv">$csraddr</span>
<a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>poke<span class="w">  </span>0x140b0<span class="w"> </span>0x0001a26500000000
<a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a>sleep<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>poke<span class="w">  </span>0x140a8<span class="w"> </span><span class="nv">$csraddr</span>
<a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a>sleep<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>peek<span class="w">  </span>0x140a8
<a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a>sleep<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a>
<a id="__codelineno-28-23" name="__codelineno-28-23" href="#__codelineno-28-23"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>poke<span class="w">  </span>0x140b0<span class="w"> </span>0x0001226500000000
<a id="__codelineno-28-24" name="__codelineno-28-24" href="#__codelineno-28-24"></a>sleep<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-28-25" name="__codelineno-28-25" href="#__codelineno-28-25"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>poke<span class="w">  </span>0x140a8<span class="w"> </span><span class="nv">$csraddr</span>
<a id="__codelineno-28-26" name="__codelineno-28-26" href="#__codelineno-28-26"></a>sleep<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-28-27" name="__codelineno-28-27" href="#__codelineno-28-27"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>peek<span class="w">  </span>0x140a8
<a id="__codelineno-28-28" name="__codelineno-28-28" href="#__codelineno-28-28"></a><span class="c1"># Port 6</span>
<a id="__codelineno-28-29" name="__codelineno-28-29" href="#__codelineno-28-29"></a>
<a id="__codelineno-28-30" name="__codelineno-28-30" href="#__codelineno-28-30"></a><span class="nv">base_addr</span><span class="o">=</span><span class="k">$(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%08d&quot;</span><span class="w"> </span><span class="s2">&quot;0xb00000&quot;</span><span class="k">)</span>
<a id="__codelineno-28-31" name="__codelineno-28-31" href="#__codelineno-28-31"></a><span class="nv">address</span><span class="o">=</span><span class="sb">`</span>expr<span class="w"> </span><span class="nv">$base_addr</span><span class="w"> </span>+<span class="w"> </span><span class="m">589884</span><span class="sb">`</span>
<a id="__codelineno-28-32" name="__codelineno-28-32" href="#__codelineno-28-32"></a><span class="c1">#address=`expr $base_addr + 589884`</span>
<a id="__codelineno-28-33" name="__codelineno-28-33" href="#__codelineno-28-33"></a><span class="nv">offset</span><span class="o">=</span><span class="sb">`</span>expr<span class="w"> </span><span class="nv">$address</span>/4<span class="sb">`</span>
<a id="__codelineno-28-34" name="__codelineno-28-34" href="#__codelineno-28-34"></a>
<a id="__codelineno-28-35" name="__codelineno-28-35" href="#__codelineno-28-35"></a><span class="nv">hex_number</span><span class="o">=</span><span class="k">$(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;0x%06x&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$((</span><span class="nv">$offset</span><span class="k">))</span><span class="s2">&quot;</span><span class="k">)</span>
<a id="__codelineno-28-36" name="__codelineno-28-36" href="#__codelineno-28-36"></a><span class="nb">echo</span><span class="w"> </span><span class="nv">$hex_number</span>
<a id="__codelineno-28-37" name="__codelineno-28-37" href="#__codelineno-28-37"></a><span class="nv">cmd_sts</span><span class="o">=</span><span class="k">$(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%32x&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$((</span><span class="nv">$offset2</span><span class="k">))</span><span class="s2">&quot;</span><span class="k">)</span>
<a id="__codelineno-28-38" name="__codelineno-28-38" href="#__codelineno-28-38"></a><span class="nv">csraddr</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">hex_number</span><span class="si">}</span><span class="s2">0500000002&quot;</span>
<a id="__codelineno-28-39" name="__codelineno-28-39" href="#__codelineno-28-39"></a><span class="nv">csraddr1</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">hex_number</span><span class="si">}</span><span class="s2">0600000001&quot;</span>
<a id="__codelineno-28-40" name="__codelineno-28-40" href="#__codelineno-28-40"></a><span class="nv">data</span><span class="o">=</span>1a040
<a id="__codelineno-28-41" name="__codelineno-28-41" href="#__codelineno-28-41"></a><span class="nb">echo</span><span class="w"> </span><span class="nv">$csraddr</span>
<a id="__codelineno-28-42" name="__codelineno-28-42" href="#__codelineno-28-42"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>poke<span class="w">  </span>0x140b0<span class="w"> </span>0x0001a16500000000
<a id="__codelineno-28-43" name="__codelineno-28-43" href="#__codelineno-28-43"></a>sleep<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-28-44" name="__codelineno-28-44" href="#__codelineno-28-44"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>poke<span class="w">  </span>0x140a8<span class="w"> </span><span class="nv">$csraddr</span>
<a id="__codelineno-28-45" name="__codelineno-28-45" href="#__codelineno-28-45"></a>sleep<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-28-46" name="__codelineno-28-46" href="#__codelineno-28-46"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>peek<span class="w">  </span>0x140a8
<a id="__codelineno-28-47" name="__codelineno-28-47" href="#__codelineno-28-47"></a>sleep<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-28-48" name="__codelineno-28-48" href="#__codelineno-28-48"></a>
<a id="__codelineno-28-49" name="__codelineno-28-49" href="#__codelineno-28-49"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>poke<span class="w">  </span>0x140b0<span class="w"> </span>0x0001216500000000
<a id="__codelineno-28-50" name="__codelineno-28-50" href="#__codelineno-28-50"></a>sleep<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-28-51" name="__codelineno-28-51" href="#__codelineno-28-51"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>poke<span class="w">  </span>0x140a8<span class="w"> </span><span class="nv">$csraddr</span>
<a id="__codelineno-28-52" name="__codelineno-28-52" href="#__codelineno-28-52"></a>sleep<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-28-53" name="__codelineno-28-53" href="#__codelineno-28-53"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>peek<span class="w">  </span>0x140a8
<a id="__codelineno-28-54" name="__codelineno-28-54" href="#__codelineno-28-54"></a><span class="c1"># Port 7</span>
<a id="__codelineno-28-55" name="__codelineno-28-55" href="#__codelineno-28-55"></a>
<a id="__codelineno-28-56" name="__codelineno-28-56" href="#__codelineno-28-56"></a><span class="nv">base_addr</span><span class="o">=</span><span class="k">$(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%08d&quot;</span><span class="w"> </span><span class="s2">&quot;0x1100000&quot;</span><span class="k">)</span>
<a id="__codelineno-28-57" name="__codelineno-28-57" href="#__codelineno-28-57"></a><span class="nv">address</span><span class="o">=</span><span class="sb">`</span>expr<span class="w"> </span><span class="nv">$base_addr</span><span class="w"> </span>+<span class="w"> </span><span class="m">589884</span><span class="sb">`</span>
<a id="__codelineno-28-58" name="__codelineno-28-58" href="#__codelineno-28-58"></a><span class="c1">#address=`expr $base_addr + 589884`</span>
<a id="__codelineno-28-59" name="__codelineno-28-59" href="#__codelineno-28-59"></a><span class="nv">offset</span><span class="o">=</span><span class="sb">`</span>expr<span class="w"> </span><span class="nv">$address</span>/4<span class="sb">`</span>
<a id="__codelineno-28-60" name="__codelineno-28-60" href="#__codelineno-28-60"></a>
<a id="__codelineno-28-61" name="__codelineno-28-61" href="#__codelineno-28-61"></a><span class="nv">hex_number</span><span class="o">=</span><span class="k">$(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;0x%06x&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$((</span><span class="nv">$offset</span><span class="k">))</span><span class="s2">&quot;</span><span class="k">)</span>
<a id="__codelineno-28-62" name="__codelineno-28-62" href="#__codelineno-28-62"></a><span class="nb">echo</span><span class="w"> </span><span class="nv">$hex_number</span>
<a id="__codelineno-28-63" name="__codelineno-28-63" href="#__codelineno-28-63"></a><span class="nv">cmd_sts</span><span class="o">=</span><span class="k">$(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%32x&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$((</span><span class="nv">$offset2</span><span class="k">))</span><span class="s2">&quot;</span><span class="k">)</span>
<a id="__codelineno-28-64" name="__codelineno-28-64" href="#__codelineno-28-64"></a><span class="nv">csraddr</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">hex_number</span><span class="si">}</span><span class="s2">0500000002&quot;</span>
<a id="__codelineno-28-65" name="__codelineno-28-65" href="#__codelineno-28-65"></a><span class="nv">csraddr1</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">hex_number</span><span class="si">}</span><span class="s2">0600000001&quot;</span>
<a id="__codelineno-28-66" name="__codelineno-28-66" href="#__codelineno-28-66"></a><span class="nv">data</span><span class="o">=</span>1a040
<a id="__codelineno-28-67" name="__codelineno-28-67" href="#__codelineno-28-67"></a><span class="nb">echo</span><span class="w"> </span><span class="nv">$csraddr</span>
<a id="__codelineno-28-68" name="__codelineno-28-68" href="#__codelineno-28-68"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>poke<span class="w">  </span>0x140b0<span class="w"> </span>0x0001a26500000000
<a id="__codelineno-28-69" name="__codelineno-28-69" href="#__codelineno-28-69"></a>sleep<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-28-70" name="__codelineno-28-70" href="#__codelineno-28-70"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>poke<span class="w">  </span>0x140a8<span class="w"> </span><span class="nv">$csraddr</span>
<a id="__codelineno-28-71" name="__codelineno-28-71" href="#__codelineno-28-71"></a>sleep<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-28-72" name="__codelineno-28-72" href="#__codelineno-28-72"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>peek<span class="w">  </span>0x140a8
<a id="__codelineno-28-73" name="__codelineno-28-73" href="#__codelineno-28-73"></a>sleep<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-28-74" name="__codelineno-28-74" href="#__codelineno-28-74"></a>
<a id="__codelineno-28-75" name="__codelineno-28-75" href="#__codelineno-28-75"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>poke<span class="w">  </span>0x140b0<span class="w"> </span>0x0001226500000000
<a id="__codelineno-28-76" name="__codelineno-28-76" href="#__codelineno-28-76"></a>sleep<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-28-77" name="__codelineno-28-77" href="#__codelineno-28-77"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>poke<span class="w">  </span>0x140a8<span class="w"> </span><span class="nv">$csraddr</span>
<a id="__codelineno-28-78" name="__codelineno-28-78" href="#__codelineno-28-78"></a>sleep<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-28-79" name="__codelineno-28-79" href="#__codelineno-28-79"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>peek<span class="w">  </span>0x140a8
</code></pre></div>
<p>The script set_tx_inverse_polarity.sh requires the <abbr title="Virtual Function Input/Output, An IOMMU/device agnostic framework for exposing direct device access to userspace.">VFIO</abbr> driver on PF0 to access the Transceiver registers.  You will use the opae.io command prior to running set_tx_inverse_polarity.sh to bind the <abbr title="Virtual Function Input/Output, An IOMMU/device agnostic framework for exposing direct device access to userspace.">VFIO</abbr> driver.  Once the script completes, release the <abbr title="Virtual Function Input/Output, An IOMMU/device agnostic framework for exposing direct device access to userspace.">VFIO</abbr> driver with opae.io release.  </p>
<p>The listing below shows the script being run:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>init<span class="w"> </span>-d<span class="w"> </span><span class="m">0000</span>:b1:00.0<span class="w"> </span><span class="nv">$USER</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>Unbinding<span class="w"> </span><span class="o">(</span>0x8086,0xbcce<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:b1:00.0<span class="w"> </span>from<span class="w"> </span>dfl-pci
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>Binding<span class="w"> </span><span class="o">(</span>0x8086,0xbcce<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:b1:00.0<span class="w"> </span>to<span class="w"> </span>vfio-pci
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>iommu<span class="w"> </span>group<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">(</span>0x8086,0xbcce<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:b1:00.0<span class="w"> </span>is<span class="w"> </span><span class="m">8</span>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>sh<span class="w"> </span>set_tx_inverse_polarity.sh
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a>0x16400f
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>0x16400f0500000002
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a>0x16400f0500000006
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a>0x16400f0500000006
<a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a>0x2e400f
<a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a>0x2e400f0500000002
<a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a>0x2e400f0500000006
<a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a>0x2e400f0500000006
<a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a>0x46400f
<a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a>0x46400f0500000002
<a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a>0x46400f0500000006
<a id="__codelineno-29-18" name="__codelineno-29-18" href="#__codelineno-29-18"></a>0x46400f0500000006
<a id="__codelineno-29-19" name="__codelineno-29-19" href="#__codelineno-29-19"></a>
<a id="__codelineno-29-20" name="__codelineno-29-20" href="#__codelineno-29-20"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>release<span class="w"> </span>-d<span class="w"> </span><span class="m">0000</span>:b1:00.0
<a id="__codelineno-29-21" name="__codelineno-29-21" href="#__codelineno-29-21"></a>Releasing<span class="w"> </span><span class="o">(</span>0x8086,0xbcce<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:b1:00.0<span class="w"> </span>from<span class="w"> </span>vfio-pci
<a id="__codelineno-29-22" name="__codelineno-29-22" href="#__codelineno-29-22"></a>Rebinding<span class="w"> </span><span class="o">(</span>0x8086,0xbcce<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:b1:00.0<span class="w"> </span>to<span class="w"> </span>dfl-pci
<a id="__codelineno-29-23" name="__codelineno-29-23" href="#__codelineno-29-23"></a>
<a id="__codelineno-29-24" name="__codelineno-29-24" href="#__codelineno-29-24"></a>sudo<span class="w"> </span>fpgainfo<span class="w"> </span>phy<span class="w"> </span>b1:00.0
<a id="__codelineno-29-25" name="__codelineno-29-25" href="#__codelineno-29-25"></a>Intel<span class="w"> </span>Acceleration<span class="w"> </span>JTAG<span class="w"> </span>PCI<span class="w"> </span>Development<span class="w"> </span>Kit
<a id="__codelineno-29-26" name="__codelineno-29-26" href="#__codelineno-29-26"></a>//******<span class="w"> </span>PHY<span class="w"> </span>******//
<a id="__codelineno-29-27" name="__codelineno-29-27" href="#__codelineno-29-27"></a>Interface<span class="w">                        </span>:<span class="w"> </span>DFL
<a id="__codelineno-29-28" name="__codelineno-29-28" href="#__codelineno-29-28"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xEF00001
<a id="__codelineno-29-29" name="__codelineno-29-29" href="#__codelineno-29-29"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:B1:00.0
<a id="__codelineno-29-30" name="__codelineno-29-30" href="#__codelineno-29-30"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-29-31" name="__codelineno-29-31" href="#__codelineno-29-31"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCE
<a id="__codelineno-29-32" name="__codelineno-29-32" href="#__codelineno-29-32"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-29-33" name="__codelineno-29-33" href="#__codelineno-29-33"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x1771
<a id="__codelineno-29-34" name="__codelineno-29-34" href="#__codelineno-29-34"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x00
<a id="__codelineno-29-35" name="__codelineno-29-35" href="#__codelineno-29-35"></a>Ports<span class="w"> </span>Num<span class="w">                        </span>:<span class="w"> </span><span class="m">01</span>
<a id="__codelineno-29-36" name="__codelineno-29-36" href="#__codelineno-29-36"></a>Bitstream<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x501020241BF165B
<a id="__codelineno-29-37" name="__codelineno-29-37" href="#__codelineno-29-37"></a>Bitstream<span class="w"> </span>Version<span class="w">                </span>:<span class="w"> </span><span class="m">5</span>.0.1
<a id="__codelineno-29-38" name="__codelineno-29-38" href="#__codelineno-29-38"></a>Pr<span class="w"> </span>Interface<span class="w"> </span>Id<span class="w">                  </span>:<span class="w"> </span>767712e5-b1d0-5777-aea9-592572a6817f
<a id="__codelineno-29-39" name="__codelineno-29-39" href="#__codelineno-29-39"></a>QSFP0<span class="w">                            </span>:<span class="w"> </span>Connected
<a id="__codelineno-29-40" name="__codelineno-29-40" href="#__codelineno-29-40"></a>QSFP1<span class="w">                            </span>:<span class="w"> </span>Connected
<a id="__codelineno-29-41" name="__codelineno-29-41" href="#__codelineno-29-41"></a>//******<span class="w"> </span>HSSI<span class="w"> </span>information<span class="w"> </span>******//
<a id="__codelineno-29-42" name="__codelineno-29-42" href="#__codelineno-29-42"></a>HSSI<span class="w"> </span>version<span class="w">                     </span>:<span class="w"> </span><span class="m">2</span>.0
<a id="__codelineno-29-43" name="__codelineno-29-43" href="#__codelineno-29-43"></a>Number<span class="w"> </span>of<span class="w"> </span>ports<span class="w">                  </span>:<span class="w"> </span><span class="m">8</span>
<a id="__codelineno-29-44" name="__codelineno-29-44" href="#__codelineno-29-44"></a>Port0<span class="w">                            </span>:25GbE<span class="w">        </span>UP
<a id="__codelineno-29-45" name="__codelineno-29-45" href="#__codelineno-29-45"></a>Port1<span class="w">                            </span>:25GbE<span class="w">        </span>UP
<a id="__codelineno-29-46" name="__codelineno-29-46" href="#__codelineno-29-46"></a>Port2<span class="w">                            </span>:25GbE<span class="w">        </span>UP
<a id="__codelineno-29-47" name="__codelineno-29-47" href="#__codelineno-29-47"></a>Port3<span class="w">                            </span>:25GbE<span class="w">        </span>UP
<a id="__codelineno-29-48" name="__codelineno-29-48" href="#__codelineno-29-48"></a>Port4<span class="w">                            </span>:25GbE<span class="w">        </span>UP
<a id="__codelineno-29-49" name="__codelineno-29-49" href="#__codelineno-29-49"></a>Port5<span class="w">                            </span>:25GbE<span class="w">        </span>UP
<a id="__codelineno-29-50" name="__codelineno-29-50" href="#__codelineno-29-50"></a>Port6<span class="w">                            </span>:25GbE<span class="w">        </span>UP
<a id="__codelineno-29-51" name="__codelineno-29-51" href="#__codelineno-29-51"></a>Port7<span class="w">                            </span>:25GbE<span class="w">        </span>UP
</code></pre></div>
<p>The following example walks through the process of binding the VF corresponding with the HE-HSSI exerciser to vfio-pci, sending traffic, and verifying that traffic was received.</p>
<h5 id="table-6-accelerator-pfvf-and-guid-mappings">Table 6: Accelerator PF/VF and GUID Mappings<a class="headerlink" href="#table-6-accelerator-pfvf-and-guid-mappings" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>Component</th>
<th>VF</th>
<th>Accelerator GUID</th>
</tr>
</thead>
<tbody>
<tr>
<td>F Series Dev Kit base PF</td>
<td>XXXX:XX:XX.0</td>
<td>N/A</td>
</tr>
<tr>
<td>VirtIO Stub</td>
<td>XXXX:XX:XX.1</td>
<td>3e7b60a0-df2d-4850-aa31-f54a3e403501</td>
</tr>
<tr>
<td>HE-MEM Stub</td>
<td>XXXX:XX:XX.2</td>
<td>56e203e9-864f-49a7-b94b-12284c31e02b</td>
</tr>
<tr>
<td>Copy Engine</td>
<td>XXXX:XX:XX.4</td>
<td>44bfc10d-b42a-44e5-bd42-57dc93ea7f91</td>
</tr>
<tr>
<td>HE-MEM</td>
<td>XXXX:XX:XX.5</td>
<td>8568ab4e-6ba5-4616-bb65-2a578330a8eb</td>
</tr>
<tr>
<td>HE-HSSI</td>
<td>XXXX:XX:XX.6</td>
<td>823c334c-98bf-11ea-bb37-0242ac130002</td>
</tr>
<tr>
<td>MEM-TG</td>
<td>XXXX:XX:XX.7</td>
<td>4dadea34-2c78-48cb-a3dc-5b831f5cecbb</td>
</tr>
</tbody>
</table>
<ol>
<li>
<p><strong>Create</strong> 3 VFs in the <abbr title="Partial Reconfiguration, The ability to dynamically reconfigure a portion of an FPGA while the remaining FPGA design continues to function. In the context of Intel FPGA PAC, a PR bitstream refers to an Intel FPGA PAC AFU. Refer to Partial Reconfiguration support page.">PR</abbr> region.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>sudo<span class="w"> </span>pci_device<span class="w"> </span>b1:00.0<span class="w"> </span>vf<span class="w"> </span><span class="m">3</span><span class="w"> </span>
</code></pre></div>
</li>
<li>
<p>Verify all 3 VFs were created.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>lspci<span class="w"> </span>-s<span class="w"> </span>b1:00<span class="w"> </span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>b1:00.0<span class="w"> </span>Processing<span class="w"> </span>accelerators:<span class="w"> </span>Intel<span class="w"> </span>Corporation<span class="w"> </span>Device<span class="w"> </span>bcce<span class="w"> </span><span class="o">(</span>rev<span class="w"> </span><span class="m">01</span><span class="o">)</span><span class="w"> </span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a>b1:00.1<span class="w"> </span>Processing<span class="w"> </span>accelerators:<span class="w"> </span>Intel<span class="w"> </span>Corporation<span class="w"> </span>Device<span class="w"> </span>bcce<span class="w"> </span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a>b1:00.2<span class="w"> </span>Processing<span class="w"> </span>accelerators:<span class="w"> </span>Intel<span class="w"> </span>Corporation<span class="w"> </span>Device<span class="w"> </span>bcce<span class="w"> </span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a>b1:00.3<span class="w"> </span>Processing<span class="w"> </span>accelerators:<span class="w"> </span>Red<span class="w"> </span>Hat,<span class="w"> </span>Inc.<span class="w"> </span>Virtio<span class="w"> </span>network<span class="w"> </span>device<span class="w"> </span>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a>b1:00.4<span class="w"> </span>Processing<span class="w"> </span>accelerators:<span class="w"> </span>Intel<span class="w"> </span>Corporation<span class="w"> </span>Device<span class="w"> </span>bcce<span class="w"> </span>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a>b1:00.5<span class="w"> </span>Processing<span class="w"> </span>accelerators:<span class="w"> </span>Intel<span class="w"> </span>Corporation<span class="w"> </span>Device<span class="w"> </span>bccf<span class="w"> </span>
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a>b1:00.6<span class="w"> </span>Processing<span class="w"> </span>accelerators:<span class="w"> </span>Intel<span class="w"> </span>Corporation<span class="w"> </span>Device<span class="w"> </span>bccf<span class="w"> </span>
<a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a>b1:00.7<span class="w"> </span>Processing<span class="w"> </span>accelerators:<span class="w"> </span>Intel<span class="w"> </span>Corporation<span class="w"> </span>Device<span class="w"> </span>bccf<span class="w"> </span>
</code></pre></div>
</li>
<li>
<p><strong>Bind</strong> all the PF/VF endpoints to the <code>vfio-pci</code> driver.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>init<span class="w"> </span>-d<span class="w"> </span><span class="m">0000</span>:b1:00.1<span class="w"> </span>user:user
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>Unbinding<span class="w"> </span><span class="o">(</span>0x8086,0xbcce<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:b1:00.1<span class="w"> </span>from<span class="w"> </span>dfl-pci
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>Binding<span class="w"> </span><span class="o">(</span>0x8086,0xbcce<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:b1:00.1<span class="w"> </span>to<span class="w"> </span>vfio-pci
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>iommu<span class="w"> </span>group<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">(</span>0x8086,0xbcce<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:b1:00.1<span class="w"> </span>is<span class="w"> </span><span class="m">187</span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>Assigning<span class="w"> </span>/dev/vfio/187<span class="w"> </span>to<span class="w"> </span>user
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a>Changing<span class="w"> </span>permissions<span class="w"> </span><span class="k">for</span><span class="w"> </span>/dev/vfio/187<span class="w"> </span>to<span class="w"> </span>rw-rw----
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>init<span class="w"> </span>-d<span class="w"> </span><span class="m">0000</span>:b1:00.2<span class="w"> </span>user:user
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a>Unbinding<span class="w"> </span><span class="o">(</span>0x8086,0xbcce<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:b1:00.2<span class="w"> </span>from<span class="w"> </span>dfl-pci
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a>Binding<span class="w"> </span><span class="o">(</span>0x8086,0xbcce<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:b1:00.2<span class="w"> </span>to<span class="w"> </span>vfio-pci
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a>iommu<span class="w"> </span>group<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">(</span>0x8086,0xbcce<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:b1:00.2<span class="w"> </span>is<span class="w"> </span><span class="m">188</span>
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a>Assigning<span class="w"> </span>/dev/vfio/188<span class="w"> </span>to<span class="w"> </span>user
<a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a>Changing<span class="w"> </span>permissions<span class="w"> </span><span class="k">for</span><span class="w"> </span>/dev/vfio/188<span class="w"> </span>to<span class="w"> </span>rw-rw----
<a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a>
<a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a>...
<a id="__codelineno-32-16" name="__codelineno-32-16" href="#__codelineno-32-16"></a>
<a id="__codelineno-32-17" name="__codelineno-32-17" href="#__codelineno-32-17"></a>sudo<span class="w"> </span>opae.io<span class="w"> </span>init<span class="w"> </span>-d<span class="w"> </span><span class="m">0000</span>:b1:00.7<span class="w"> </span>user:user
<a id="__codelineno-32-18" name="__codelineno-32-18" href="#__codelineno-32-18"></a>Binding<span class="w"> </span><span class="o">(</span>0x8086,0xbccf<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:b1:00.7<span class="w"> </span>to<span class="w"> </span>vfio-pci
<a id="__codelineno-32-19" name="__codelineno-32-19" href="#__codelineno-32-19"></a>iommu<span class="w"> </span>group<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">(</span>0x8086,0xbccf<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0000</span>:b1:00.7<span class="w"> </span>is<span class="w"> </span><span class="m">319</span>
<a id="__codelineno-32-20" name="__codelineno-32-20" href="#__codelineno-32-20"></a>Assigning<span class="w"> </span>/dev/vfio/319<span class="w"> </span>to<span class="w"> </span>user
<a id="__codelineno-32-21" name="__codelineno-32-21" href="#__codelineno-32-21"></a>Changing<span class="w"> </span>permissions<span class="w"> </span><span class="k">for</span><span class="w"> </span>/dev/vfio/319<span class="w"> </span>to<span class="w"> </span>rw-rw----
</code></pre></div>
</li>
<li>
<p>Check that the accelerators are present using <code>fpgainfo</code>. <em>Note your port configuration may differ from the below.</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>sudo<span class="w"> </span>fpgainfo<span class="w"> </span>port<span class="w"> </span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a>//******<span class="w"> </span>PORT<span class="w"> </span>******//
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xEC00000
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:B1:00.0
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCE
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x1771
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x00
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a>//******<span class="w"> </span>PORT<span class="w"> </span>******//
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xE0B1000000000000
<a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:B1:00.7
<a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCF
<a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x1771
<a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x01
<a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a>Accelerator<span class="w"> </span>GUID<span class="w">                 </span>:<span class="w"> </span>4dadea34-2c78-48cb-a3dc-5b831f5cecbb
<a id="__codelineno-33-19" name="__codelineno-33-19" href="#__codelineno-33-19"></a>//******<span class="w"> </span>PORT<span class="w"> </span>******//
<a id="__codelineno-33-20" name="__codelineno-33-20" href="#__codelineno-33-20"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xC0B1000000000000
<a id="__codelineno-33-21" name="__codelineno-33-21" href="#__codelineno-33-21"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:B1:00.6
<a id="__codelineno-33-22" name="__codelineno-33-22" href="#__codelineno-33-22"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-33-23" name="__codelineno-33-23" href="#__codelineno-33-23"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCF
<a id="__codelineno-33-24" name="__codelineno-33-24" href="#__codelineno-33-24"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-33-25" name="__codelineno-33-25" href="#__codelineno-33-25"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x1771
<a id="__codelineno-33-26" name="__codelineno-33-26" href="#__codelineno-33-26"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x01
<a id="__codelineno-33-27" name="__codelineno-33-27" href="#__codelineno-33-27"></a>Accelerator<span class="w"> </span>GUID<span class="w">                 </span>:<span class="w"> </span>823c334c-98bf-11ea-bb37-0242ac130002
<a id="__codelineno-33-28" name="__codelineno-33-28" href="#__codelineno-33-28"></a>//******<span class="w"> </span>PORT<span class="w"> </span>******//
<a id="__codelineno-33-29" name="__codelineno-33-29" href="#__codelineno-33-29"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xA0B1000000000000
<a id="__codelineno-33-30" name="__codelineno-33-30" href="#__codelineno-33-30"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:B1:00.5
<a id="__codelineno-33-31" name="__codelineno-33-31" href="#__codelineno-33-31"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-33-32" name="__codelineno-33-32" href="#__codelineno-33-32"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCF
<a id="__codelineno-33-33" name="__codelineno-33-33" href="#__codelineno-33-33"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-33-34" name="__codelineno-33-34" href="#__codelineno-33-34"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x1771
<a id="__codelineno-33-35" name="__codelineno-33-35" href="#__codelineno-33-35"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x01
<a id="__codelineno-33-36" name="__codelineno-33-36" href="#__codelineno-33-36"></a>Accelerator<span class="w"> </span>GUID<span class="w">                 </span>:<span class="w"> </span>8568ab4e-6ba5-4616-bb65-2a578330a8eb
<a id="__codelineno-33-37" name="__codelineno-33-37" href="#__codelineno-33-37"></a>//******<span class="w"> </span>PORT<span class="w"> </span>******//
<a id="__codelineno-33-38" name="__codelineno-33-38" href="#__codelineno-33-38"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x80B1000000000000
<a id="__codelineno-33-39" name="__codelineno-33-39" href="#__codelineno-33-39"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:B1:00.4
<a id="__codelineno-33-40" name="__codelineno-33-40" href="#__codelineno-33-40"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-33-41" name="__codelineno-33-41" href="#__codelineno-33-41"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCE
<a id="__codelineno-33-42" name="__codelineno-33-42" href="#__codelineno-33-42"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-33-43" name="__codelineno-33-43" href="#__codelineno-33-43"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x1771
<a id="__codelineno-33-44" name="__codelineno-33-44" href="#__codelineno-33-44"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x01
<a id="__codelineno-33-45" name="__codelineno-33-45" href="#__codelineno-33-45"></a>Accelerator<span class="w"> </span>GUID<span class="w">                 </span>:<span class="w"> </span>44bfc10d-b42a-44e5-bd42-57dc93ea7f91
<a id="__codelineno-33-46" name="__codelineno-33-46" href="#__codelineno-33-46"></a>//******<span class="w"> </span>PORT<span class="w"> </span>******//
<a id="__codelineno-33-47" name="__codelineno-33-47" href="#__codelineno-33-47"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x40B1000000000000
<a id="__codelineno-33-48" name="__codelineno-33-48" href="#__codelineno-33-48"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:B1:00.2
<a id="__codelineno-33-49" name="__codelineno-33-49" href="#__codelineno-33-49"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-33-50" name="__codelineno-33-50" href="#__codelineno-33-50"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCE
<a id="__codelineno-33-51" name="__codelineno-33-51" href="#__codelineno-33-51"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-33-52" name="__codelineno-33-52" href="#__codelineno-33-52"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x1771
<a id="__codelineno-33-53" name="__codelineno-33-53" href="#__codelineno-33-53"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x01
<a id="__codelineno-33-54" name="__codelineno-33-54" href="#__codelineno-33-54"></a>Accelerator<span class="w"> </span>GUID<span class="w">                 </span>:<span class="w"> </span>56e203e9-864f-49a7-b94b-12284c31e02b
<a id="__codelineno-33-55" name="__codelineno-33-55" href="#__codelineno-33-55"></a>//******<span class="w"> </span>PORT<span class="w"> </span>******//
<a id="__codelineno-33-56" name="__codelineno-33-56" href="#__codelineno-33-56"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x20B1000000000000
<a id="__codelineno-33-57" name="__codelineno-33-57" href="#__codelineno-33-57"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:B1:00.1
<a id="__codelineno-33-58" name="__codelineno-33-58" href="#__codelineno-33-58"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-33-59" name="__codelineno-33-59" href="#__codelineno-33-59"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCE
<a id="__codelineno-33-60" name="__codelineno-33-60" href="#__codelineno-33-60"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-33-61" name="__codelineno-33-61" href="#__codelineno-33-61"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x1771
<a id="__codelineno-33-62" name="__codelineno-33-62" href="#__codelineno-33-62"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x01
<a id="__codelineno-33-63" name="__codelineno-33-63" href="#__codelineno-33-63"></a>Accelerator<span class="w"> </span>GUID<span class="w">                 </span>:<span class="w"> </span>3e7b60a0-df2d-4850-aa31-f54a3e403501
</code></pre></div>
</li>
<li>
<p>Check Ethernet PHY settings with <code>fpgainfo</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>sudo<span class="w"> </span>fpgainfo<span class="w"> </span>phy<span class="w"> </span>-B<span class="w"> </span>0xb1<span class="w"> </span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>Intel<span class="w"> </span>Acceleration<span class="w"> </span>JTAG<span class="w"> </span>PCI<span class="w"> </span>Development<span class="w"> </span>Kit
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a>//******<span class="w"> </span>PHY<span class="w"> </span>******//
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a>Interface<span class="w">                        </span>:<span class="w"> </span>DFL
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>Object<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xEF00001
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a>PCIe<span class="w"> </span>s:b:d.f<span class="w">                     </span>:<span class="w"> </span><span class="m">0000</span>:B1:00.0
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a>Vendor<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x8086
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a>Device<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0xBCCE
<a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a>SubVendor<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x8086
<a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a>SubDevice<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x0001
<a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a>Socket<span class="w"> </span>Id<span class="w">                        </span>:<span class="w"> </span>0x00
<a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a>Ports<span class="w"> </span>Num<span class="w">                        </span>:<span class="w"> </span><span class="m">01</span>
<a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a>Bitstream<span class="w"> </span>Id<span class="w">                     </span>:<span class="w"> </span>0x50102020CB5B309
<a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a>Bitstream<span class="w"> </span>Version<span class="w">                </span>:<span class="w"> </span><span class="m">5</span>.0.1
<a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a>Pr<span class="w"> </span>Interface<span class="w"> </span>Id<span class="w">                  </span>:<span class="w"> </span>d0f93544-a487-5a92-8632-d43f27dbccee
<a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a>QSFP0<span class="w">                            </span>:<span class="w"> </span>Connected
<a id="__codelineno-34-17" name="__codelineno-34-17" href="#__codelineno-34-17"></a>QSFP1<span class="w">                            </span>:<span class="w"> </span>Not<span class="w"> </span>Connected
<a id="__codelineno-34-18" name="__codelineno-34-18" href="#__codelineno-34-18"></a>//******<span class="w"> </span>HSSI<span class="w"> </span>information<span class="w"> </span>******//
<a id="__codelineno-34-19" name="__codelineno-34-19" href="#__codelineno-34-19"></a>HSSI<span class="w"> </span>version<span class="w">                     </span>:<span class="w"> </span><span class="m">2</span>.0
<a id="__codelineno-34-20" name="__codelineno-34-20" href="#__codelineno-34-20"></a>Number<span class="w"> </span>of<span class="w"> </span>ports<span class="w">                  </span>:<span class="w"> </span><span class="m">8</span>
<a id="__codelineno-34-21" name="__codelineno-34-21" href="#__codelineno-34-21"></a>Port0<span class="w">                            </span>:25GbE<span class="w">        </span>DOWN
<a id="__codelineno-34-22" name="__codelineno-34-22" href="#__codelineno-34-22"></a>Port1<span class="w">                            </span>:25GbE<span class="w">        </span>DOWN
<a id="__codelineno-34-23" name="__codelineno-34-23" href="#__codelineno-34-23"></a>Port2<span class="w">                            </span>:25GbE<span class="w">        </span>DOWN
<a id="__codelineno-34-24" name="__codelineno-34-24" href="#__codelineno-34-24"></a>Port3<span class="w">                            </span>:25GbE<span class="w">        </span>DOWN
<a id="__codelineno-34-25" name="__codelineno-34-25" href="#__codelineno-34-25"></a>Port4<span class="w">                            </span>:25GbE<span class="w">        </span>DOWN
<a id="__codelineno-34-26" name="__codelineno-34-26" href="#__codelineno-34-26"></a>Port5<span class="w">                            </span>:25GbE<span class="w">        </span>DOWN
<a id="__codelineno-34-27" name="__codelineno-34-27" href="#__codelineno-34-27"></a>Port6<span class="w">                            </span>:25GbE<span class="w">        </span>DOWN
<a id="__codelineno-34-28" name="__codelineno-34-28" href="#__codelineno-34-28"></a>Port7<span class="w">                            </span>:25GbE<span class="w">        </span>DOWN
</code></pre></div>
</li>
<li>
<p>Set loopback mode.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>sudo<span class="w"> </span>hssiloopback<span class="w"> </span>--loopback<span class="w"> </span><span class="nb">enable</span><span class="w">  </span>--pcie-address<span class="w"> </span><span class="m">0000</span>:b1:00.0<span class="w"> </span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>args<span class="w"> </span>Namespace<span class="o">(</span><span class="nv">loopback</span><span class="o">=</span><span class="s1">&#39;enable&#39;</span>,<span class="w"> </span><span class="nv">pcie_address</span><span class="o">=</span><span class="s1">&#39;0000:b1:00.0&#39;</span>,<span class="w"> </span><span class="nv">port</span><span class="o">=</span><span class="m">0</span><span class="o">)</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>sbdf:<span class="w"> </span><span class="m">0000</span>:b1:00.0
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a>FPGA<span class="w"> </span>dev:<span class="w"> </span><span class="o">{</span><span class="s1">&#39;segment&#39;</span>:<span class="w"> </span><span class="m">0</span>,<span class="w"> </span><span class="s1">&#39;bus&#39;</span>:<span class="w"> </span><span class="m">177</span>,<span class="w"> </span><span class="s1">&#39;dev&#39;</span>:<span class="w"> </span><span class="m">0</span>,<span class="w"> </span><span class="s1">&#39;func&#39;</span>:<span class="w"> </span><span class="m">0</span>,<span class="w"> </span><span class="s1">&#39;path&#39;</span>:<span class="w"> </span><span class="s1">&#39;/sys/class/fpga_region/region0&#39;</span>,<span class="w"> </span><span class="s1">&#39;pcie_address&#39;</span>:<span class="w"> </span><span class="s1">&#39;0000:b1:00.0&#39;</span><span class="o">}</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>args.hssi_grps<span class="o">{</span><span class="m">0</span>:<span class="w"> </span><span class="o">[</span><span class="s1">&#39;dfl_dev.6&#39;</span>,<span class="w"> </span><span class="o">[</span><span class="s1">&#39;/sys/bus/pci/devices/0000:b1:00.0/fpga_region/region0/dfl-fme.0/dfl_dev.6/uio/uio0&#39;</span><span class="o">]]}</span>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a>fpga<span class="w"> </span>uio<span class="w"> </span>dev:dfl_dev.6
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a>--------HSSI<span class="w"> </span>INFO<span class="w"> </span>START-------
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a>DFH<span class="w">                     </span>:0x3000000010002015
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a>HSSI<span class="w"> </span>ID<span class="w">                 </span>:0x15
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a>DFHv<span class="w">                    </span>:0.5
<a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a>guidl<span class="w">                   </span>:0x99a078ad18418b9d
<a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a>guidh<span class="w">                   </span>:0x4118a7cbd9db4a9b
<a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a>HSSI<span class="w"> </span>version<span class="w">            </span>:1.0
<a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a>Firmware<span class="w"> </span>Version<span class="w">        </span>:1
<a id="__codelineno-35-16" name="__codelineno-35-16" href="#__codelineno-35-16"></a>HSSI<span class="w"> </span>num<span class="w"> </span>ports<span class="w">          </span>:8
<a id="__codelineno-35-17" name="__codelineno-35-17" href="#__codelineno-35-17"></a>Port0<span class="w">                   </span>:25GbE
<a id="__codelineno-35-18" name="__codelineno-35-18" href="#__codelineno-35-18"></a>Port1<span class="w">                   </span>:25GbE
<a id="__codelineno-35-19" name="__codelineno-35-19" href="#__codelineno-35-19"></a>Port2<span class="w">                   </span>:25GbE
<a id="__codelineno-35-20" name="__codelineno-35-20" href="#__codelineno-35-20"></a>Port3<span class="w">                   </span>:25GbE
<a id="__codelineno-35-21" name="__codelineno-35-21" href="#__codelineno-35-21"></a>Port4<span class="w">                   </span>:25GbE
<a id="__codelineno-35-22" name="__codelineno-35-22" href="#__codelineno-35-22"></a>Port5<span class="w">                   </span>:25GbE
<a id="__codelineno-35-23" name="__codelineno-35-23" href="#__codelineno-35-23"></a>Port6<span class="w">                   </span>:25GbE
<a id="__codelineno-35-24" name="__codelineno-35-24" href="#__codelineno-35-24"></a>Port7<span class="w">                   </span>:25GbE
<a id="__codelineno-35-25" name="__codelineno-35-25" href="#__codelineno-35-25"></a>--------HSSI<span class="w"> </span>INFO<span class="w"> </span>END-------
<a id="__codelineno-35-26" name="__codelineno-35-26" href="#__codelineno-35-26"></a>
<a id="__codelineno-35-27" name="__codelineno-35-27" href="#__codelineno-35-27"></a>hssi<span class="w"> </span>loopback<span class="w"> </span>enabled<span class="w"> </span>to<span class="w"> </span>port0
</code></pre></div>
</li>
<li>
<p>Send traffic through the 10G <abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="nv">$sudo</span><span class="w"> </span>hssi<span class="w"> </span>--pci-address<span class="w"> </span>b1:00.6<span class="w"> </span>hssi_10g<span class="w"> </span>--num-packets<span class="w"> </span><span class="m">100</span><span class="w">       </span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>10G<span class="w"> </span>loopback<span class="w"> </span><span class="nb">test</span>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="w">    </span>Tx/Rx<span class="w"> </span>port:<span class="w"> </span><span class="m">99</span>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="w">    </span>Tx<span class="w"> </span>port:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="w">    </span>Rx<span class="w"> </span>port:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="w">    </span>eth_loopback:<span class="w"> </span>on
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="w">    </span>he_loopback:<span class="w"> </span>none
<a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="w">    </span>num_packets:<span class="w"> </span><span class="m">100</span>
<a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a><span class="w">    </span>packet_length:<span class="w"> </span><span class="m">64</span>
<a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a><span class="w">    </span>src_address:<span class="w"> </span><span class="m">11</span>:22:33:44:55:66
<a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a><span class="w">    </span><span class="o">(</span>bits<span class="o">)</span>:<span class="w"> </span>0x665544332211
<a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a><span class="w">    </span>dest_address:<span class="w"> </span><span class="m">77</span>:88:99:aa:bb:cc
<a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a><span class="w">    </span><span class="o">(</span>bits<span class="o">)</span>:<span class="w"> </span>0xccbbaa998877
<a id="__codelineno-36-14" name="__codelineno-36-14" href="#__codelineno-36-14"></a><span class="w">    </span>random_length:<span class="w"> </span>fixed
<a id="__codelineno-36-15" name="__codelineno-36-15" href="#__codelineno-36-15"></a><span class="w">    </span>random_payload:<span class="w"> </span>incremental
<a id="__codelineno-36-16" name="__codelineno-36-16" href="#__codelineno-36-16"></a><span class="w">    </span>rnd_seed0:<span class="w"> </span>5eed0000
<a id="__codelineno-36-17" name="__codelineno-36-17" href="#__codelineno-36-17"></a><span class="w">    </span>rnd_seed1:<span class="w"> </span>5eed0001
<a id="__codelineno-36-18" name="__codelineno-36-18" href="#__codelineno-36-18"></a><span class="w">    </span>rnd_seed2:<span class="w"> </span>25eed
<a id="__codelineno-36-19" name="__codelineno-36-19" href="#__codelineno-36-19"></a><span class="w">    </span>eth:
<a id="__codelineno-36-20" name="__codelineno-36-20" href="#__codelineno-36-20"></a>
<a id="__codelineno-36-21" name="__codelineno-36-21" href="#__codelineno-36-21"></a>No<span class="w"> </span>eth<span class="w"> </span>interface,<span class="w"> </span>so<span class="w"> </span>not<span class="w"> </span>honoring<span class="w"> </span>--eth-loopback.<span class="w"> </span>Try<span class="w"> </span>using<span class="w"> </span>the<span class="w"> </span>hssiloopback<span class="w"> </span><span class="nb">command</span><span class="w"> </span>instead.
<a id="__codelineno-36-22" name="__codelineno-36-22" href="#__codelineno-36-22"></a>0x40000<span class="w">           </span>ETH_AFU_DFH:<span class="w"> </span>0x1000010000001000
<a id="__codelineno-36-23" name="__codelineno-36-23" href="#__codelineno-36-23"></a>0x40008<span class="w">          </span>ETH_AFU_ID_L:<span class="w"> </span>0xbb370242ac130002
<a id="__codelineno-36-24" name="__codelineno-36-24" href="#__codelineno-36-24"></a>0x40010<span class="w">          </span>ETH_AFU_ID_H:<span class="w"> </span>0x823c334c98bf11ea
<a id="__codelineno-36-25" name="__codelineno-36-25" href="#__codelineno-36-25"></a>0x40030<span class="w">      </span>TRAFFIC_CTRL_CMD:<span class="w"> </span>0x0000000000000000
<a id="__codelineno-36-26" name="__codelineno-36-26" href="#__codelineno-36-26"></a>0x40038<span class="w">     </span>TRAFFIC_CTRL_DATA:<span class="w"> </span>0x0000000100000000
<a id="__codelineno-36-27" name="__codelineno-36-27" href="#__codelineno-36-27"></a>0x40040<span class="w"> </span>TRAFFIC_CTRL_PORT_SEL:<span class="w"> </span>0x0000000000000000
<a id="__codelineno-36-28" name="__codelineno-36-28" href="#__codelineno-36-28"></a>0x40048<span class="w">        </span>AFU_SCRATCHPAD:<span class="w"> </span>0x0000000045324511
<a id="__codelineno-36-29" name="__codelineno-36-29" href="#__codelineno-36-29"></a>
<a id="__codelineno-36-30" name="__codelineno-36-30" href="#__codelineno-36-30"></a>0x3c00<span class="w">         </span>number_packets:<span class="w"> </span>0x00000064
<a id="__codelineno-36-31" name="__codelineno-36-31" href="#__codelineno-36-31"></a>0x3c01<span class="w">          </span>random_length:<span class="w"> </span>0x00000000
<a id="__codelineno-36-32" name="__codelineno-36-32" href="#__codelineno-36-32"></a>0x3c02<span class="w">         </span>random_payload:<span class="w"> </span>0x00000000
<a id="__codelineno-36-33" name="__codelineno-36-33" href="#__codelineno-36-33"></a>0x3c03<span class="w">                  </span>start:<span class="w"> </span>0x00000000
<a id="__codelineno-36-34" name="__codelineno-36-34" href="#__codelineno-36-34"></a>0x3c04<span class="w">                   </span>stop:<span class="w"> </span>0x00000000
<a id="__codelineno-36-35" name="__codelineno-36-35" href="#__codelineno-36-35"></a>0x3c05<span class="w">           </span>source_addr0:<span class="w"> </span>0x44332211
<a id="__codelineno-36-36" name="__codelineno-36-36" href="#__codelineno-36-36"></a>0x3c06<span class="w">           </span>source_addr1:<span class="w"> </span>0x00006655
<a id="__codelineno-36-37" name="__codelineno-36-37" href="#__codelineno-36-37"></a>0x3c07<span class="w">             </span>dest_addr0:<span class="w"> </span>0xaa998877
<a id="__codelineno-36-38" name="__codelineno-36-38" href="#__codelineno-36-38"></a>0x3c08<span class="w">             </span>dest_addr1:<span class="w"> </span>0x0000ccbb
<a id="__codelineno-36-39" name="__codelineno-36-39" href="#__codelineno-36-39"></a>0x3c09<span class="w">        </span>packet_tx_count:<span class="w"> </span>0x00000064
<a id="__codelineno-36-40" name="__codelineno-36-40" href="#__codelineno-36-40"></a>0x3c0a<span class="w">              </span>rnd_seed0:<span class="w"> </span>0x5eed0000
<a id="__codelineno-36-41" name="__codelineno-36-41" href="#__codelineno-36-41"></a>0x3c0b<span class="w">              </span>rnd_seed1:<span class="w"> </span>0x5eed0001
<a id="__codelineno-36-42" name="__codelineno-36-42" href="#__codelineno-36-42"></a>0x3c0c<span class="w">              </span>rnd_seed2:<span class="w"> </span>0x00025eed
<a id="__codelineno-36-43" name="__codelineno-36-43" href="#__codelineno-36-43"></a>0x3c0d<span class="w">             </span>pkt_length:<span class="w"> </span>0x00000040
<a id="__codelineno-36-44" name="__codelineno-36-44" href="#__codelineno-36-44"></a>0x3cf4<span class="w">          </span>tx_sta_tstamp:<span class="w"> </span>0x02ab5f6d
<a id="__codelineno-36-45" name="__codelineno-36-45" href="#__codelineno-36-45"></a>0x3cf5<span class="w">          </span>tx_end_tstamp:<span class="w"> </span>0x02ab63dd
<a id="__codelineno-36-46" name="__codelineno-36-46" href="#__codelineno-36-46"></a>0x3d00<span class="w">                </span>num_pkt:<span class="w"> </span>0xffffffff
<a id="__codelineno-36-47" name="__codelineno-36-47" href="#__codelineno-36-47"></a>0x3d01<span class="w">               </span>pkt_good:<span class="w"> </span>0x00000064
<a id="__codelineno-36-48" name="__codelineno-36-48" href="#__codelineno-36-48"></a>0x3d02<span class="w">                </span>pkt_bad:<span class="w"> </span>0x00000000
<a id="__codelineno-36-49" name="__codelineno-36-49" href="#__codelineno-36-49"></a>0x3d07<span class="w">            </span>avst_rx_err:<span class="w"> </span>0x00000000
<a id="__codelineno-36-50" name="__codelineno-36-50" href="#__codelineno-36-50"></a>0x3d0b<span class="w">          </span>rx_sta_tstamp:<span class="w"> </span>0x02ab6058
<a id="__codelineno-36-51" name="__codelineno-36-51" href="#__codelineno-36-51"></a>0x3d0c<span class="w">          </span>rx_end_tstamp:<span class="w"> </span>0x02ab64dc
<a id="__codelineno-36-52" name="__codelineno-36-52" href="#__codelineno-36-52"></a>0x3e00<span class="w">               </span>mac_loop:<span class="w"> </span>0x00000000
<a id="__codelineno-36-53" name="__codelineno-36-53" href="#__codelineno-36-53"></a>
<a id="__codelineno-36-54" name="__codelineno-36-54" href="#__codelineno-36-54"></a>HSSI<span class="w"> </span>performance:
<a id="__codelineno-36-55" name="__codelineno-36-55" href="#__codelineno-36-55"></a><span class="w">        </span>Selected<span class="w"> </span>clock<span class="w"> </span>frequency<span class="w"> </span>:<span class="w"> </span><span class="m">402</span>.832<span class="w"> </span>MHz
<a id="__codelineno-36-56" name="__codelineno-36-56" href="#__codelineno-36-56"></a><span class="w">        </span>Latency<span class="w"> </span>minimum<span class="w"> </span>:<span class="w"> </span><span class="m">583</span>.37<span class="w"> </span>ns
<a id="__codelineno-36-57" name="__codelineno-36-57" href="#__codelineno-36-57"></a><span class="w">        </span>Latency<span class="w"> </span>maximum<span class="w"> </span>:<span class="w"> </span><span class="m">633</span>.018<span class="w"> </span>ns
<a id="__codelineno-36-58" name="__codelineno-36-58" href="#__codelineno-36-58"></a><span class="w">        </span>Achieved<span class="w"> </span>Tx<span class="w"> </span>throughput<span class="w"> </span>:<span class="w"> </span><span class="m">15</span>.8863<span class="w"> </span>GB/s
<a id="__codelineno-36-59" name="__codelineno-36-59" href="#__codelineno-36-59"></a><span class="w">        </span>Achieved<span class="w"> </span>Rx<span class="w"> </span>throughput<span class="w"> </span>:<span class="w"> </span><span class="m">15</span>.6115<span class="w"> </span>GB/s
</code></pre></div>
</li>
</ol>
<p>The <code>hssi_loopback</code> utility works in conjunction with a packet generator accelerator function unit (<abbr title="Accelerator Functional Unit, Hardware Accelerator implemented in FPGA logic which offloads a computational operation for an application from the CPU to improve performance. Note: An AFU region is the part of the design where an AFU may reside. This AFU may or may not be a partial reconfiguration region">AFU</abbr>) to test high-speed serial interface (HSSI) cards. <code>hssi_loopback</code> tests both external and internal loopbacks.</p>
<p>The <code>hssistats</code> tool provides the MAC statistics.</p>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.indexes", "search.suggest", "search.highlight", "content.code.copy", "navigation.indexes", "toc.follow"], "search": "../../../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "ofs-2023.1", "provider": "mike"}}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.fac441b0.min.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>